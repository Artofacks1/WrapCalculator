function rp(e,t){for(var a=0;a<t.length;a++){const n=t[a];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const r=Object.getOwnPropertyDescriptor(n,s);r&&Object.defineProperty(e,s,r.get?r:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}})();function lp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _f={exports:{}},fi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip=Symbol.for("react.transitional.element"),op=Symbol.for("react.fragment");function wf(e,t,a){var n=null;if(a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),"key"in t){a={};for(var s in t)s!=="key"&&(a[s]=t[s])}else a=t;return t=a.ref,{$$typeof:ip,type:e,key:n,ref:t!==void 0?t:null,props:a}}fi.Fragment=op;fi.jsx=wf;fi.jsxs=wf;_f.exports=fi;var i=_f.exports,Sf={exports:{}},M={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jc=Symbol.for("react.transitional.element"),cp=Symbol.for("react.portal"),up=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),hp=Symbol.for("react.profiler"),fp=Symbol.for("react.consumer"),mp=Symbol.for("react.context"),gp=Symbol.for("react.forward_ref"),pp=Symbol.for("react.suspense"),yp=Symbol.for("react.memo"),jf=Symbol.for("react.lazy"),vp=Symbol.for("react.activity"),dd=Symbol.iterator;function bp(e){return e===null||typeof e!="object"?null:(e=dd&&e[dd]||e["@@iterator"],typeof e=="function"?e:null)}var Ef={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nf=Object.assign,Tf={};function ws(e,t,a){this.props=e,this.context=t,this.refs=Tf,this.updater=a||Ef}ws.prototype.isReactComponent={};ws.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ws.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Of(){}Of.prototype=ws.prototype;function Xc(e,t,a){this.props=e,this.context=t,this.refs=Tf,this.updater=a||Ef}var Fc=Xc.prototype=new Of;Fc.constructor=Xc;Nf(Fc,ws.prototype);Fc.isPureReactComponent=!0;var hd=Array.isArray;function Lo(){}var oe={H:null,A:null,T:null,S:null},Af=Object.prototype.hasOwnProperty;function Zc(e,t,a){var n=a.ref;return{$$typeof:Jc,type:e,key:t,ref:n!==void 0?n:null,props:a}}function xp(e,t){return Zc(e.type,t,e.props)}function Wc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jc}function _p(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var fd=/\/+/g;function $i(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_p(""+e.key):t.toString(36)}function wp(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Lo,Lo):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Mn(e,t,a,n,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(r){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Jc:case cp:l=!0;break;case jf:return l=e._init,Mn(l(e._payload),t,a,n,s)}}if(l)return s=s(e),l=n===""?"."+$i(e,0):n,hd(s)?(a="",l!=null&&(a=l.replace(fd,"$&/")+"/"),Mn(s,t,a,"",function(u){return u})):s!=null&&(Wc(s)&&(s=xp(s,a+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(fd,"$&/")+"/")+l)),t.push(s)),1;l=0;var o=n===""?".":n+":";if(hd(e))for(var c=0;c<e.length;c++)n=e[c],r=o+$i(n,c),l+=Mn(n,t,a,r,s);else if(c=bp(e),typeof c=="function")for(e=c.call(e),c=0;!(n=e.next()).done;)n=n.value,r=o+$i(n,c++),l+=Mn(n,t,a,r,s);else if(r==="object"){if(typeof e.then=="function")return Mn(wp(e),t,a,n,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function Fr(e,t,a){if(e==null)return e;var n=[],s=0;return Mn(e,n,"","",function(r){return t.call(a,r,s++)}),n}function Sp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var md=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jp={map:Fr,forEach:function(e,t,a){Fr(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return Fr(e,function(){t++}),t},toArray:function(e){return Fr(e,function(t){return t})||[]},only:function(e){if(!Wc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Activity=vp;M.Children=jp;M.Component=ws;M.Fragment=up;M.Profiler=hp;M.PureComponent=Xc;M.StrictMode=dp;M.Suspense=pp;M.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe;M.__COMPILER_RUNTIME={__proto__:null,c:function(e){return oe.H.useMemoCache(e)}};M.cache=function(e){return function(){return e.apply(null,arguments)}};M.cacheSignal=function(){return null};M.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=Nf({},e.props),s=e.key;if(t!=null)for(r in t.key!==void 0&&(s=""+t.key),t)!Af.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(n[r]=t[r]);var r=arguments.length-2;if(r===1)n.children=a;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];n.children=l}return Zc(e.type,s,n)};M.createContext=function(e){return e={$$typeof:mp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:fp,_context:e},e};M.createElement=function(e,t,a){var n,s={},r=null;if(t!=null)for(n in t.key!==void 0&&(r=""+t.key),t)Af.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=a;else if(1<l){for(var o=Array(l),c=0;c<l;c++)o[c]=arguments[c+2];s.children=o}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return Zc(e,r,s)};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:gp,render:e}};M.isValidElement=Wc;M.lazy=function(e){return{$$typeof:jf,_payload:{_status:-1,_result:e},_init:Sp}};M.memo=function(e,t){return{$$typeof:yp,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=oe.T,a={};oe.T=a;try{var n=e(),s=oe.S;s!==null&&s(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Lo,md)}catch(r){md(r)}finally{t!==null&&a.types!==null&&(t.types=a.types),oe.T=t}};M.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()};M.use=function(e){return oe.H.use(e)};M.useActionState=function(e,t,a){return oe.H.useActionState(e,t,a)};M.useCallback=function(e,t){return oe.H.useCallback(e,t)};M.useContext=function(e){return oe.H.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e,t){return oe.H.useDeferredValue(e,t)};M.useEffect=function(e,t){return oe.H.useEffect(e,t)};M.useEffectEvent=function(e){return oe.H.useEffectEvent(e)};M.useId=function(){return oe.H.useId()};M.useImperativeHandle=function(e,t,a){return oe.H.useImperativeHandle(e,t,a)};M.useInsertionEffect=function(e,t){return oe.H.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return oe.H.useLayoutEffect(e,t)};M.useMemo=function(e,t){return oe.H.useMemo(e,t)};M.useOptimistic=function(e,t){return oe.H.useOptimistic(e,t)};M.useReducer=function(e,t,a){return oe.H.useReducer(e,t,a)};M.useRef=function(e){return oe.H.useRef(e)};M.useState=function(e){return oe.H.useState(e)};M.useSyncExternalStore=function(e,t,a){return oe.H.useSyncExternalStore(e,t,a)};M.useTransition=function(){return oe.H.useTransition()};M.version="19.2.3";Sf.exports=M;var w=Sf.exports;const Ep=lp(w),Np=rp({__proto__:null,default:Ep},[w]);var Cf={exports:{}},mi={},Rf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,z){var R=T.length;T.push(z);e:for(;0<R;){var Y=R-1>>>1,K=T[Y];if(0<s(K,z))T[Y]=z,T[R]=K,R=Y;else break e}}function a(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var z=T[0],R=T.pop();if(R!==z){T[0]=R;e:for(var Y=0,K=T.length,Tn=K>>>1;Y<Tn;){var yt=2*(Y+1)-1,Ds=T[yt],_e=yt+1,ya=T[_e];if(0>s(Ds,R))_e<K&&0>s(ya,Ds)?(T[Y]=ya,T[_e]=R,Y=_e):(T[Y]=Ds,T[yt]=R,Y=yt);else if(_e<K&&0>s(ya,R))T[Y]=ya,T[_e]=R,Y=_e;else break e}}return z}function s(T,z){var R=T.sortIndex-z.sortIndex;return R!==0?R:T.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,f=null,h=3,g=!1,x=!1,v=!1,_=!1,p=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function b(T){for(var z=a(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=T)n(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=a(u)}}function j(T){if(v=!1,b(T),!x)if(a(c)!==null)x=!0,N||(N=!0,Ge());else{var z=a(u);z!==null&&se(j,z.startTime-T)}}var N=!1,E=-1,A=5,U=-1;function q(){return _?!0:!(e.unstable_now()-U<A)}function xe(){if(_=!1,N){var T=e.unstable_now();U=T;var z=!0;try{e:{x=!1,v&&(v=!1,m(E),E=-1),g=!0;var R=h;try{t:{for(b(T),f=a(c);f!==null&&!(f.expirationTime>T&&q());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var K=Y(f.expirationTime<=T);if(T=e.unstable_now(),typeof K=="function"){f.callback=K,b(T),z=!0;break t}f===a(c)&&n(c),b(T)}else n(c);f=a(c)}if(f!==null)z=!0;else{var Tn=a(u);Tn!==null&&se(j,Tn.startTime-T),z=!1}}break e}finally{f=null,h=R,g=!1}z=void 0}}finally{z?Ge():N=!1}}}var Ge;if(typeof y=="function")Ge=function(){y(xe)};else if(typeof MessageChannel<"u"){var Kt=new MessageChannel,Q=Kt.port2;Kt.port1.onmessage=xe,Ge=function(){Q.postMessage(null)}}else Ge=function(){p(xe,0)};function se(T,z){E=p(function(){T(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var R=h;h=z;try{return T()}finally{h=R}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(T,z){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var R=h;h=T;try{return z()}finally{h=R}},e.unstable_scheduleCallback=function(T,z,R){var Y=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?Y+R:Y):R=Y,T){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=R+K,T={id:d++,callback:z,priorityLevel:T,startTime:R,expirationTime:K,sortIndex:-1},R>Y?(T.sortIndex=R,t(u,T),a(c)===null&&T===a(u)&&(v?(m(E),E=-1):v=!0,se(j,R-Y))):(T.sortIndex=K,t(c,T),x||g||(x=!0,N||(N=!0,Ge()))),T},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(T){var z=h;return function(){var R=h;h=z;try{return T.apply(this,arguments)}finally{h=R}}}})(Uf);Rf.exports=Uf;var Tp=Rf.exports,kf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op=w;function Df(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function va(){}var Ye={d:{f:va,r:function(){throw Error(Df(522))},D:va,C:va,L:va,m:va,X:va,S:va,M:va},p:0,findDOMNode:null},Ap=Symbol.for("react.portal");function Cp(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ap,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var Xs=Op.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function gi(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ye;Qe.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Df(299));return Cp(e,t,null,a)};Qe.flushSync=function(e){var t=Xs.T,a=Ye.p;try{if(Xs.T=null,Ye.p=2,e)return e()}finally{Xs.T=t,Ye.p=a,Ye.d.f()}};Qe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ye.d.C(e,t))};Qe.prefetchDNS=function(e){typeof e=="string"&&Ye.d.D(e)};Qe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=gi(a,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Ye.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:s,fetchPriority:r}):a==="script"&&Ye.d.X(e,{crossOrigin:n,integrity:s,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Qe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=gi(t.as,t.crossOrigin);Ye.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ye.d.M(e)};Qe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=gi(a,t.crossOrigin);Ye.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Qe.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=gi(t.as,t.crossOrigin);Ye.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ye.d.m(e)};Qe.requestFormReset=function(e){Ye.d.r(e)};Qe.unstable_batchedUpdates=function(e,t){return e(t)};Qe.useFormState=function(e,t,a){return Xs.H.useFormState(e,t,a)};Qe.useFormStatus=function(){return Xs.H.useHostTransitionStatus()};Qe.version="19.2.3";function Lf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lf)}catch(e){console.error(e)}}Lf(),kf.exports=Qe;var Rp=kf.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Re=Tp,zf=w,Up=Rp;function S(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Mf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lr(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function qf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bf(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gd(e){if(Lr(e)!==e)throw Error(S(188))}function kp(e){var t=e.alternate;if(!t){if(t=Lr(e),t===null)throw Error(S(188));return t!==e?null:e}for(var a=e,n=t;;){var s=a.return;if(s===null)break;var r=s.alternate;if(r===null){if(n=s.return,n!==null){a=n;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===a)return gd(s),e;if(r===n)return gd(s),t;r=r.sibling}throw Error(S(188))}if(a.return!==n.return)a=s,n=r;else{for(var l=!1,o=s.child;o;){if(o===a){l=!0,a=s,n=r;break}if(o===n){l=!0,n=s,a=r;break}o=o.sibling}if(!l){for(o=r.child;o;){if(o===a){l=!0,a=r,n=s;break}if(o===n){l=!0,n=r,a=s;break}o=o.sibling}if(!l)throw Error(S(189))}}if(a.alternate!==n)throw Error(S(190))}if(a.tag!==3)throw Error(S(188));return a.stateNode.current===a?e:t}function $f(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=$f(e),t!==null)return t;e=e.sibling}return null}var ce=Object.assign,Dp=Symbol.for("react.element"),Zr=Symbol.for("react.transitional.element"),Vs=Symbol.for("react.portal"),Gn=Symbol.for("react.fragment"),Hf=Symbol.for("react.strict_mode"),zo=Symbol.for("react.profiler"),Pf=Symbol.for("react.consumer"),na=Symbol.for("react.context"),eu=Symbol.for("react.forward_ref"),Mo=Symbol.for("react.suspense"),qo=Symbol.for("react.suspense_list"),tu=Symbol.for("react.memo"),xa=Symbol.for("react.lazy"),Bo=Symbol.for("react.activity"),Lp=Symbol.for("react.memo_cache_sentinel"),pd=Symbol.iterator;function zs(e){return e===null||typeof e!="object"?null:(e=pd&&e[pd]||e["@@iterator"],typeof e=="function"?e:null)}var zp=Symbol.for("react.client.reference");function $o(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===zp?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gn:return"Fragment";case zo:return"Profiler";case Hf:return"StrictMode";case Mo:return"Suspense";case qo:return"SuspenseList";case Bo:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Vs:return"Portal";case na:return e.displayName||"Context";case Pf:return(e._context.displayName||"Context")+".Consumer";case eu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tu:return t=e.displayName||null,t!==null?t:$o(e.type)||"Memo";case xa:t=e._payload,e=e._init;try{return $o(e(t))}catch{}}return null}var Ys=Array.isArray,L=zf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=Up.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,hn={pending:!1,data:null,method:null,action:null},Ho=[],Vn=-1;function Yt(e){return{current:e}}function De(e){0>Vn||(e.current=Ho[Vn],Ho[Vn]=null,Vn--)}function ne(e,t){Vn++,Ho[Vn]=e.current,e.current=t}var Vt=Yt(null),fr=Yt(null),Da=Yt(null),Dl=Yt(null);function Ll(e,t){switch(ne(Da,t),ne(fr,e),ne(Vt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?wh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=wh(t),e=o0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}De(Vt),ne(Vt,e)}function us(){De(Vt),De(fr),De(Da)}function Po(e){e.memoizedState!==null&&ne(Dl,e);var t=Vt.current,a=o0(t,e.type);t!==a&&(ne(fr,e),ne(Vt,a))}function zl(e){fr.current===e&&(De(Vt),De(fr)),Dl.current===e&&(De(Dl),jr._currentValue=hn)}var Hi,yd;function an(e){if(Hi===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Hi=t&&t[1]||"",yd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hi+e+yd}var Pi=!1;function Gi(e,t){if(!e||Pi)return"";Pi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(g){var h=g}Reflect.construct(e,[],f)}else{try{f.call()}catch(g){h=g}e.call(f.prototype)}}else{try{throw Error()}catch(g){h=g}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(g){if(g&&h&&typeof g.stack=="string")return[g.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=n.DetermineComponentFrameRoot(),l=r[0],o=r[1];if(l&&o){var c=l.split(`
`),u=o.split(`
`);for(s=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(n===c.length||s===u.length)for(n=c.length-1,s=u.length-1;1<=n&&0<=s&&c[n]!==u[s];)s--;for(;1<=n&&0<=s;n--,s--)if(c[n]!==u[s]){if(n!==1||s!==1)do if(n--,s--,0>s||c[n]!==u[s]){var d=`
`+c[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=s);break}}}finally{Pi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?an(a):""}function Mp(e,t){switch(e.tag){case 26:case 27:case 5:return an(e.type);case 16:return an("Lazy");case 13:return e.child!==t&&t!==null?an("Suspense Fallback"):an("Suspense");case 19:return an("SuspenseList");case 0:case 15:return Gi(e.type,!1);case 11:return Gi(e.type.render,!1);case 1:return Gi(e.type,!0);case 31:return an("Activity");default:return""}}function vd(e){try{var t="",a=null;do t+=Mp(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Go=Object.prototype.hasOwnProperty,au=Re.unstable_scheduleCallback,Vi=Re.unstable_cancelCallback,qp=Re.unstable_shouldYield,Bp=Re.unstable_requestPaint,dt=Re.unstable_now,$p=Re.unstable_getCurrentPriorityLevel,Gf=Re.unstable_ImmediatePriority,Vf=Re.unstable_UserBlockingPriority,Ml=Re.unstable_NormalPriority,Hp=Re.unstable_LowPriority,Yf=Re.unstable_IdlePriority,Pp=Re.log,Gp=Re.unstable_setDisableYieldValue,zr=null,ht=null;function Oa(e){if(typeof Pp=="function"&&Gp(e),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(zr,e)}catch{}}var ft=Math.clz32?Math.clz32:Qp,Vp=Math.log,Yp=Math.LN2;function Qp(e){return e>>>=0,e===0?32:31-(Vp(e)/Yp|0)|0}var Wr=256,el=262144,tl=4194304;function nn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pi(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var o=n&134217727;return o!==0?(n=o&~r,n!==0?s=nn(n):(l&=o,l!==0?s=nn(l):a||(a=o&~e,a!==0&&(s=nn(a))))):(o=n&~r,o!==0?s=nn(o):l!==0?s=nn(l):a||(a=n&~e,a!==0&&(s=nn(a)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:s}function Mr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Kp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qf(){var e=tl;return tl<<=1,!(tl&62914560)&&(tl=4194304),e}function Yi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function qr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ip(e,t,a,n,s,r){var l=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(a=l&~a;0<a;){var d=31-ft(a),f=1<<d;o[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var g=h[d];g!==null&&(g.lane&=-536870913)}a&=~f}n!==0&&Kf(e,n,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(l&~t))}function Kf(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ft(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function If(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-ft(a),s=1<<n;s&t|e[n]&t&&(e[n]|=t),a&=~s}}function Jf(e,t){var a=t&-t;return a=a&42?1:nu(a),a&(e.suspendedLanes|t)?0:a}function nu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function su(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Xf(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:b0(e.type))}function bd(e,t){var a=J.p;try{return J.p=e,t()}finally{J.p=a}}var Ia=Math.random().toString(36).slice(2),qe="__reactFiber$"+Ia,et="__reactProps$"+Ia,Ss="__reactContainer$"+Ia,Vo="__reactEvents$"+Ia,Jp="__reactListeners$"+Ia,Xp="__reactHandles$"+Ia,xd="__reactResources$"+Ia,Br="__reactMarker$"+Ia;function ru(e){delete e[qe],delete e[et],delete e[Vo],delete e[Jp],delete e[Xp]}function Yn(e){var t=e[qe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ss]||a[qe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Th(e);e!==null;){if(a=e[qe])return a;e=Th(e)}return t}e=a,a=e.parentNode}return null}function js(e){if(e=e[qe]||e[Ss]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Qs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(S(33))}function as(e){var t=e[xd];return t||(t=e[xd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ke(e){e[Br]=!0}var Ff=new Set,Zf={};function wn(e,t){ds(e,t),ds(e+"Capture",t)}function ds(e,t){for(Zf[e]=t,e=0;e<t.length;e++)Ff.add(t[e])}var Fp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_d={},wd={};function Zp(e){return Go.call(wd,e)?!0:Go.call(_d,e)?!1:Fp.test(e)?wd[e]=!0:(_d[e]=!0,!1)}function bl(e,t,a){if(Zp(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function al(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Jt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wp(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){a=""+l,r.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yo(e){if(!e._valueTracker){var t=Wf(e)?"checked":"value";e._valueTracker=Wp(e,t,""+e[t])}}function em(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Wf(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ey=/[\n"\\]/g;function wt(e){return e.replace(ey,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Qo(e,t,a,n,s,r,l,o){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bt(t)):e.value!==""+bt(t)&&(e.value=""+bt(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?Ko(e,l,bt(t)):a!=null?Ko(e,l,bt(a)):n!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+bt(o):e.removeAttribute("name")}function tm(e,t,a,n,s,r,l,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Yo(e);return}a=a!=null?""+bt(a):"",t=t!=null?""+bt(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}n=n??s,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),Yo(e)}function Ko(e,t,a){t==="number"&&ql(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ns(e,t,a,n){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&n&&(e[a].defaultSelected=!0)}else{for(a=""+bt(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function am(e,t,a){if(t!=null&&(t=""+bt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+bt(a):""}function nm(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(S(92));if(Ys(n)){if(1<n.length)throw Error(S(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=bt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Yo(e)}function hs(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ty=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||ty.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function sm(e,t,a){if(t!=null&&typeof t!="object")throw Error(S(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&a[s]!==n&&Sd(e,s,n)}else for(var r in t)t.hasOwnProperty(r)&&Sd(e,r,t[r])}function lu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ay=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ny=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xl(e){return ny.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sa(){}var Io=null;function iu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qn=null,ss=null;function jd(e){var t=js(e);if(t&&(e=t.stateNode)){var a=e[et]||null;e:switch(e=t.stateNode,t.type){case"input":if(Qo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var s=n[et]||null;if(!s)throw Error(S(90));Qo(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&em(n)}break e;case"textarea":am(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ns(e,!!a.multiple,t,!1)}}}var Qi=!1;function rm(e,t,a){if(Qi)return e(t,a);Qi=!0;try{var n=e(t);return n}finally{if(Qi=!1,(Qn!==null||ss!==null)&&(Oi(),Qn&&(t=Qn,e=ss,ss=Qn=null,jd(t),e)))for(t=0;t<e.length;t++)jd(e[t])}}function mr(e,t){var a=e.stateNode;if(a===null)return null;var n=a[et]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(S(231,t,typeof a));return a}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=!1;if(ca)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{Jo=!1}var Aa=null,ou=null,_l=null;function lm(){if(_l)return _l;var e,t=ou,a=t.length,n,s="value"in Aa?Aa.value:Aa.textContent,r=s.length;for(e=0;e<a&&t[e]===s[e];e++);var l=a-e;for(n=1;n<=l&&t[a-n]===s[r-n];n++);return _l=s.slice(e,1<n?1-n:void 0)}function wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nl(){return!0}function Ed(){return!1}function tt(e){function t(a,n,s,r,l){this._reactName=a,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?nl:Ed,this.isPropagationStopped=Ed,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),t}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=tt(Sn),$r=ce({},Sn,{view:0,detail:0}),sy=tt($r),Ki,Ii,qs,vi=ce({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(Ki=e.screenX-qs.screenX,Ii=e.screenY-qs.screenY):Ii=Ki=0,qs=e),Ki)},movementY:function(e){return"movementY"in e?e.movementY:Ii}}),Nd=tt(vi),ry=ce({},vi,{dataTransfer:0}),ly=tt(ry),iy=ce({},$r,{relatedTarget:0}),Ji=tt(iy),oy=ce({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),cy=tt(oy),uy=ce({},Sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dy=tt(uy),hy=ce({},Sn,{data:0}),Td=tt(hy),fy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},my={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function py(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gy[e])?!!t[e]:!1}function cu(){return py}var yy=ce({},$r,{key:function(e){if(e.key){var t=fy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?my[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cu,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vy=tt(yy),by=ce({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Od=tt(by),xy=ce({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cu}),_y=tt(xy),wy=ce({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sy=tt(wy),jy=ce({},vi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ey=tt(jy),Ny=ce({},Sn,{newState:0,oldState:0}),Ty=tt(Ny),Oy=[9,13,27,32],uu=ca&&"CompositionEvent"in window,Fs=null;ca&&"documentMode"in document&&(Fs=document.documentMode);var Ay=ca&&"TextEvent"in window&&!Fs,im=ca&&(!uu||Fs&&8<Fs&&11>=Fs),Ad=" ",Cd=!1;function om(e,t){switch(e){case"keyup":return Oy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function Cy(e,t){switch(e){case"compositionend":return cm(t);case"keypress":return t.which!==32?null:(Cd=!0,Ad);case"textInput":return e=t.data,e===Ad&&Cd?null:e;default:return null}}function Ry(e,t){if(Kn)return e==="compositionend"||!uu&&om(e,t)?(e=lm(),_l=ou=Aa=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return im&&t.locale!=="ko"?null:t.data;default:return null}}var Uy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uy[e.type]:t==="textarea"}function um(e,t,a,n){Qn?ss?ss.push(n):ss=[n]:Qn=n,t=ai(t,"onChange"),0<t.length&&(a=new yi("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Zs=null,gr=null;function ky(e){r0(e,0)}function bi(e){var t=Qs(e);if(em(t))return e}function Ud(e,t){if(e==="change")return t}var dm=!1;if(ca){var Xi;if(ca){var Fi="oninput"in document;if(!Fi){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),Fi=typeof kd.oninput=="function"}Xi=Fi}else Xi=!1;dm=Xi&&(!document.documentMode||9<document.documentMode)}function Dd(){Zs&&(Zs.detachEvent("onpropertychange",hm),gr=Zs=null)}function hm(e){if(e.propertyName==="value"&&bi(gr)){var t=[];um(t,gr,e,iu(e)),rm(ky,t)}}function Dy(e,t,a){e==="focusin"?(Dd(),Zs=t,gr=a,Zs.attachEvent("onpropertychange",hm)):e==="focusout"&&Dd()}function Ly(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bi(gr)}function zy(e,t){if(e==="click")return bi(t)}function My(e,t){if(e==="input"||e==="change")return bi(t)}function qy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:qy;function pr(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var s=a[n];if(!Go.call(t,s)||!gt(e[s],t[s]))return!1}return!0}function Ld(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zd(e,t){var a=Ld(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ld(a)}}function fm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ql(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ql(e.document)}return t}function du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var By=ca&&"documentMode"in document&&11>=document.documentMode,In=null,Xo=null,Ws=null,Fo=!1;function Md(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fo||In==null||In!==ql(n)||(n=In,"selectionStart"in n&&du(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ws&&pr(Ws,n)||(Ws=n,n=ai(Xo,"onSelect"),0<n.length&&(t=new yi("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=In)))}function Wa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Jn={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Zi={},gm={};ca&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function jn(e){if(Zi[e])return Zi[e];if(!Jn[e])return e;var t=Jn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in gm)return Zi[e]=t[a];return e}var pm=jn("animationend"),ym=jn("animationiteration"),vm=jn("animationstart"),$y=jn("transitionrun"),Hy=jn("transitionstart"),Py=jn("transitioncancel"),bm=jn("transitionend"),xm=new Map,Zo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zo.push("scrollEnd");function qt(e,t){xm.set(e,t),wn(t,[e])}var Bl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},vt=[],Xn=0,hu=0;function xi(){for(var e=Xn,t=hu=Xn=0;t<e;){var a=vt[t];vt[t++]=null;var n=vt[t];vt[t++]=null;var s=vt[t];vt[t++]=null;var r=vt[t];if(vt[t++]=null,n!==null&&s!==null){var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}r!==0&&_m(a,s,r)}}function _i(e,t,a,n){vt[Xn++]=e,vt[Xn++]=t,vt[Xn++]=a,vt[Xn++]=n,hu|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function fu(e,t,a,n){return _i(e,t,a,n),$l(e)}function En(e,t){return _i(e,null,null,t),$l(e)}function _m(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var s=!1,r=e.return;r!==null;)r.childLanes|=a,n=r.alternate,n!==null&&(n.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-ft(a),e=r.hiddenUpdates,n=e[s],n===null?e[s]=[t]:n.push(t),t.lane=a|536870912),r):null}function $l(e){if(50<or)throw or=0,bc=null,Error(S(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Fn={};function Gy(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,a,n){return new Gy(e,t,a,n)}function mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function la(e,t){var a=e.alternate;return a===null?(a=lt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function wm(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Sl(e,t,a,n,s,r){var l=0;if(n=e,typeof e=="function")mu(e)&&(l=1);else if(typeof e=="string")l=Iv(e,a,Vt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Bo:return e=lt(31,a,t,s),e.elementType=Bo,e.lanes=r,e;case Gn:return fn(a.children,s,r,t);case Hf:l=8,s|=24;break;case zo:return e=lt(12,a,t,s|2),e.elementType=zo,e.lanes=r,e;case Mo:return e=lt(13,a,t,s),e.elementType=Mo,e.lanes=r,e;case qo:return e=lt(19,a,t,s),e.elementType=qo,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case na:l=10;break e;case Pf:l=9;break e;case eu:l=11;break e;case tu:l=14;break e;case xa:l=16,n=null;break e}l=29,a=Error(S(130,e===null?"null":typeof e,"")),n=null}return t=lt(l,a,t,s),t.elementType=e,t.type=n,t.lanes=r,t}function fn(e,t,a,n){return e=lt(7,e,n,t),e.lanes=a,e}function Wi(e,t,a){return e=lt(6,e,null,t),e.lanes=a,e}function Sm(e){var t=lt(18,null,null,0);return t.stateNode=e,t}function eo(e,t,a){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qd=new WeakMap;function St(e,t){if(typeof e=="object"&&e!==null){var a=qd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:vd(t)},qd.set(e,t),t)}return{value:e,source:t,stack:vd(t)}}var Zn=[],Wn=0,Hl=null,yr=0,xt=[],_t=0,Va=null,Ht=1,Pt="";function ta(e,t){Zn[Wn++]=yr,Zn[Wn++]=Hl,Hl=e,yr=t}function jm(e,t,a){xt[_t++]=Ht,xt[_t++]=Pt,xt[_t++]=Va,Va=e;var n=Ht;e=Pt;var s=32-ft(n)-1;n&=~(1<<s),a+=1;var r=32-ft(t)+s;if(30<r){var l=s-s%5;r=(n&(1<<l)-1).toString(32),n>>=l,s-=l,Ht=1<<32-ft(t)+s|a<<s|n,Pt=r+e}else Ht=1<<r|a<<s|n,Pt=e}function gu(e){e.return!==null&&(ta(e,1),jm(e,1,0))}function pu(e){for(;e===Hl;)Hl=Zn[--Wn],Zn[Wn]=null,yr=Zn[--Wn],Zn[Wn]=null;for(;e===Va;)Va=xt[--_t],xt[_t]=null,Pt=xt[--_t],xt[_t]=null,Ht=xt[--_t],xt[_t]=null}function Em(e,t){xt[_t++]=Ht,xt[_t++]=Pt,xt[_t++]=Va,Ht=t.id,Pt=t.overflow,Va=e}var Be=null,ie=null,V=!1,La=null,jt=!1,Wo=Error(S(519));function Ya(e){var t=Error(S(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vr(St(t,e)),Wo}function Bd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[qe]=e,t[et]=n,a){case"dialog":H("cancel",t),H("close",t);break;case"iframe":case"object":case"embed":H("load",t);break;case"video":case"audio":for(a=0;a<wr.length;a++)H(wr[a],t);break;case"source":H("error",t);break;case"img":case"image":case"link":H("error",t),H("load",t);break;case"details":H("toggle",t);break;case"input":H("invalid",t),tm(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":H("invalid",t);break;case"textarea":H("invalid",t),nm(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||i0(t.textContent,a)?(n.popover!=null&&(H("beforetoggle",t),H("toggle",t)),n.onScroll!=null&&H("scroll",t),n.onScrollEnd!=null&&H("scrollend",t),n.onClick!=null&&(t.onclick=sa),t=!0):t=!1,t||Ya(e,!0)}function $d(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:Be=Be.return}}function On(e){if(e!==Be)return!1;if(!V)return $d(e),V=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||jc(e.type,e.memoizedProps)),a=!a),a&&ie&&Ya(e),$d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));ie=Nh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));ie=Nh(e)}else t===27?(t=ie,Ja(e.type)?(e=Oc,Oc=null,ie=e):ie=t):ie=Be?Tt(e.stateNode.nextSibling):null;return!0}function yn(){ie=Be=null,V=!1}function to(){var e=La;return e!==null&&(Fe===null?Fe=e:Fe.push.apply(Fe,e),La=null),e}function vr(e){La===null?La=[e]:La.push(e)}var ec=Yt(null),Nn=null,ra=null;function Sa(e,t,a){ne(ec,t._currentValue),t._currentValue=a}function ia(e){e._currentValue=ec.current,De(ec)}function tc(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function ac(e,t,a,n){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var l=s.child;r=r.firstContext;e:for(;r!==null;){var o=r;r=s;for(var c=0;c<t.length;c++)if(o.context===t[c]){r.lanes|=a,o=r.alternate,o!==null&&(o.lanes|=a),tc(r.return,a,e),n||(l=null);break e}r=o.next}}else if(s.tag===18){if(l=s.return,l===null)throw Error(S(341));l.lanes|=a,r=l.alternate,r!==null&&(r.lanes|=a),tc(l,a,e),l=null}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}}function Es(e,t,a,n){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var l=s.alternate;if(l===null)throw Error(S(387));if(l=l.memoizedProps,l!==null){var o=s.type;gt(s.pendingProps.value,l.value)||(e!==null?e.push(o):e=[o])}}else if(s===Dl.current){if(l=s.alternate,l===null)throw Error(S(387));l.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(jr):e=[jr])}s=s.return}e!==null&&ac(t,e,a,n),t.flags|=262144}function Pl(e){for(e=e.firstContext;e!==null;){if(!gt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vn(e){Nn=e,ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Nm(Nn,e)}function sl(e,t){return Nn===null&&vn(e),Nm(e,t)}function Nm(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ra===null){if(e===null)throw Error(S(308));ra=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ra=ra.next=t;return a}var Vy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Yy=Re.unstable_scheduleCallback,Qy=Re.unstable_NormalPriority,Te={$$typeof:na,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yu(){return{controller:new Vy,data:new Map,refCount:0}}function Hr(e){e.refCount--,e.refCount===0&&Yy(Qy,function(){e.controller.abort()})}var er=null,nc=0,fs=0,rs=null;function Ky(e,t){if(er===null){var a=er=[];nc=0,fs=Pu(),rs={status:"pending",value:void 0,then:function(n){a.push(n)}}}return nc++,t.then(Hd,Hd),t}function Hd(){if(--nc===0&&er!==null){rs!==null&&(rs.status="fulfilled");var e=er;er=null,fs=0,rs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Iy(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(n.status="rejected",n.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),n}var Pd=L.S;L.S=function(e,t){$g=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ky(e,t),Pd!==null&&Pd(e,t)};var mn=Yt(null);function vu(){var e=mn.current;return e!==null?e:te.pooledCache}function jl(e,t){t===null?ne(mn,mn.current):ne(mn,t.pool)}function Tm(){var e=vu();return e===null?null:{parent:Te._currentValue,pool:e}}var Ns=Error(S(460)),bu=Error(S(474)),wi=Error(S(542)),Gl={then:function(){}};function Gd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Om(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(sa,sa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yd(e),e;default:if(typeof t.status=="string")t.then(sa,sa);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(S(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=n}},function(n){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yd(e),e}throw gn=t,Ns}}function sn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(gn=a,Ns):a}}var gn=null;function Vd(){if(gn===null)throw Error(S(459));var e=gn;return gn=null,e}function Yd(e){if(e===Ns||e===wi)throw Error(S(483))}var ls=null,br=0;function rl(e){var t=br;return br+=1,ls===null&&(ls=[]),Om(ls,e,t)}function Bs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ll(e,t){throw t.$$typeof===Dp?Error(S(525)):(e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Am(e){function t(p,m){if(e){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function a(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p){for(var m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(p,m){return p=la(p,m),p.index=0,p.sibling=null,p}function r(p,m,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=67108866,m):y):(p.flags|=67108866,m)):(p.flags|=1048576,m)}function l(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function o(p,m,y,b){return m===null||m.tag!==6?(m=Wi(y,p.mode,b),m.return=p,m):(m=s(m,y),m.return=p,m)}function c(p,m,y,b){var j=y.type;return j===Gn?d(p,m,y.props.children,b,y.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===xa&&sn(j)===m.type)?(m=s(m,y.props),Bs(m,y),m.return=p,m):(m=Sl(y.type,y.key,y.props,null,p.mode,b),Bs(m,y),m.return=p,m)}function u(p,m,y,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=eo(y,p.mode,b),m.return=p,m):(m=s(m,y.children||[]),m.return=p,m)}function d(p,m,y,b,j){return m===null||m.tag!==7?(m=fn(y,p.mode,b,j),m.return=p,m):(m=s(m,y),m.return=p,m)}function f(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=Wi(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Zr:return y=Sl(m.type,m.key,m.props,null,p.mode,y),Bs(y,m),y.return=p,y;case Vs:return m=eo(m,p.mode,y),m.return=p,m;case xa:return m=sn(m),f(p,m,y)}if(Ys(m)||zs(m))return m=fn(m,p.mode,y,null),m.return=p,m;if(typeof m.then=="function")return f(p,rl(m),y);if(m.$$typeof===na)return f(p,sl(p,m),y);ll(p,m)}return null}function h(p,m,y,b){var j=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return j!==null?null:o(p,m,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zr:return y.key===j?c(p,m,y,b):null;case Vs:return y.key===j?u(p,m,y,b):null;case xa:return y=sn(y),h(p,m,y,b)}if(Ys(y)||zs(y))return j!==null?null:d(p,m,y,b,null);if(typeof y.then=="function")return h(p,m,rl(y),b);if(y.$$typeof===na)return h(p,m,sl(p,y),b);ll(p,y)}return null}function g(p,m,y,b,j){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return p=p.get(y)||null,o(m,p,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zr:return p=p.get(b.key===null?y:b.key)||null,c(m,p,b,j);case Vs:return p=p.get(b.key===null?y:b.key)||null,u(m,p,b,j);case xa:return b=sn(b),g(p,m,y,b,j)}if(Ys(b)||zs(b))return p=p.get(y)||null,d(m,p,b,j,null);if(typeof b.then=="function")return g(p,m,y,rl(b),j);if(b.$$typeof===na)return g(p,m,y,sl(m,b),j);ll(m,b)}return null}function x(p,m,y,b){for(var j=null,N=null,E=m,A=m=0,U=null;E!==null&&A<y.length;A++){E.index>A?(U=E,E=null):U=E.sibling;var q=h(p,E,y[A],b);if(q===null){E===null&&(E=U);break}e&&E&&q.alternate===null&&t(p,E),m=r(q,m,A),N===null?j=q:N.sibling=q,N=q,E=U}if(A===y.length)return a(p,E),V&&ta(p,A),j;if(E===null){for(;A<y.length;A++)E=f(p,y[A],b),E!==null&&(m=r(E,m,A),N===null?j=E:N.sibling=E,N=E);return V&&ta(p,A),j}for(E=n(E);A<y.length;A++)U=g(E,p,A,y[A],b),U!==null&&(e&&U.alternate!==null&&E.delete(U.key===null?A:U.key),m=r(U,m,A),N===null?j=U:N.sibling=U,N=U);return e&&E.forEach(function(xe){return t(p,xe)}),V&&ta(p,A),j}function v(p,m,y,b){if(y==null)throw Error(S(151));for(var j=null,N=null,E=m,A=m=0,U=null,q=y.next();E!==null&&!q.done;A++,q=y.next()){E.index>A?(U=E,E=null):U=E.sibling;var xe=h(p,E,q.value,b);if(xe===null){E===null&&(E=U);break}e&&E&&xe.alternate===null&&t(p,E),m=r(xe,m,A),N===null?j=xe:N.sibling=xe,N=xe,E=U}if(q.done)return a(p,E),V&&ta(p,A),j;if(E===null){for(;!q.done;A++,q=y.next())q=f(p,q.value,b),q!==null&&(m=r(q,m,A),N===null?j=q:N.sibling=q,N=q);return V&&ta(p,A),j}for(E=n(E);!q.done;A++,q=y.next())q=g(E,p,A,q.value,b),q!==null&&(e&&q.alternate!==null&&E.delete(q.key===null?A:q.key),m=r(q,m,A),N===null?j=q:N.sibling=q,N=q);return e&&E.forEach(function(Ge){return t(p,Ge)}),V&&ta(p,A),j}function _(p,m,y,b){if(typeof y=="object"&&y!==null&&y.type===Gn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Zr:e:{for(var j=y.key;m!==null;){if(m.key===j){if(j=y.type,j===Gn){if(m.tag===7){a(p,m.sibling),b=s(m,y.props.children),b.return=p,p=b;break e}}else if(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===xa&&sn(j)===m.type){a(p,m.sibling),b=s(m,y.props),Bs(b,y),b.return=p,p=b;break e}a(p,m);break}else t(p,m);m=m.sibling}y.type===Gn?(b=fn(y.props.children,p.mode,b,y.key),b.return=p,p=b):(b=Sl(y.type,y.key,y.props,null,p.mode,b),Bs(b,y),b.return=p,p=b)}return l(p);case Vs:e:{for(j=y.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){a(p,m.sibling),b=s(m,y.children||[]),b.return=p,p=b;break e}else{a(p,m);break}else t(p,m);m=m.sibling}b=eo(y,p.mode,b),b.return=p,p=b}return l(p);case xa:return y=sn(y),_(p,m,y,b)}if(Ys(y))return x(p,m,y,b);if(zs(y)){if(j=zs(y),typeof j!="function")throw Error(S(150));return y=j.call(y),v(p,m,y,b)}if(typeof y.then=="function")return _(p,m,rl(y),b);if(y.$$typeof===na)return _(p,m,sl(p,y),b);ll(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,m!==null&&m.tag===6?(a(p,m.sibling),b=s(m,y),b.return=p,p=b):(a(p,m),b=Wi(y,p.mode,b),b.return=p,p=b),l(p)):a(p,m)}return function(p,m,y,b){try{br=0;var j=_(p,m,y,b);return ls=null,j}catch(E){if(E===Ns||E===wi)throw E;var N=lt(29,E,null,p.mode);return N.lanes=b,N.return=p,N}finally{}}}var bn=Am(!0),Cm=Am(!1),_a=!1;function xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,I&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=$l(e),_m(e,null,a),t}return _i(e,n,t,a),$l(e)}function tr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,If(e,a)}}function ao(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var s=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var l={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?s=r=l:r=r.next=l,a=a.next}while(a!==null);r===null?s=r=t:r=r.next=t}else s=r=t;a={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var rc=!1;function ar(){if(rc){var e=rs;if(e!==null)throw e}}function nr(e,t,a,n){rc=!1;var s=e.updateQueue;_a=!1;var r=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?r=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(r!==null){var f=s.baseState;l=0,d=u=c=null,o=r;do{var h=o.lane&-536870913,g=h!==o.lane;if(g?(G&h)===h:(n&h)===h){h!==0&&h===fs&&(rc=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var x=e,v=o;h=t;var _=a;switch(v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(_,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,h=typeof x=="function"?x.call(_,f,h):x,h==null)break e;f=ce({},f,h);break e;case 2:_a=!0}}h=o.callback,h!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[h]:g.push(h))}else g={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,l|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;g=o,o=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,r===null&&(s.shared.lanes=0),Ka|=l,e.lanes=l,e.memoizedState=f}}function Rm(e,t){if(typeof e!="function")throw Error(S(191,e));e.call(t)}function Um(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Rm(a[e],t)}var ms=Yt(null),Vl=Yt(0);function Qd(e,t){e=fa,ne(Vl,e),ne(ms,t),fa=e|t.baseLanes}function lc(){ne(Vl,fa),ne(ms,ms.current)}function _u(){fa=Vl.current,De(ms),De(Vl)}var pt=Yt(null),Nt=null;function ja(e){var t=e.alternate;ne(ye,ye.current&1),ne(pt,e),Nt===null&&(t===null||ms.current!==null||t.memoizedState!==null)&&(Nt=e)}function ic(e){ne(ye,ye.current),ne(pt,e),Nt===null&&(Nt=e)}function km(e){e.tag===22?(ne(ye,ye.current),ne(pt,e),Nt===null&&(Nt=e)):Ea()}function Ea(){ne(ye,ye.current),ne(pt,pt.current)}function rt(e){De(pt),Nt===e&&(Nt=null),De(ye)}var ye=Yt(0);function Yl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nc(a)||Tc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=0,B=null,ee=null,Ee=null,Ql=!1,is=!1,xn=!1,Kl=0,xr=0,os=null,Jy=0;function fe(){throw Error(S(321))}function wu(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!gt(e[a],t[a]))return!1;return!0}function Su(e,t,a,n,s,r){return ua=r,B=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?ug:Du,xn=!1,r=a(n,s),xn=!1,is&&(r=Lm(t,a,n,s)),Dm(e),r}function Dm(e){L.H=_r;var t=ee!==null&&ee.next!==null;if(ua=0,Ee=ee=B=null,Ql=!1,xr=0,os=null,t)throw Error(S(300));e===null||Oe||(e=e.dependencies,e!==null&&Pl(e)&&(Oe=!0))}function Lm(e,t,a,n){B=e;var s=0;do{if(is&&(os=null),xr=0,is=!1,25<=s)throw Error(S(301));if(s+=1,Ee=ee=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}L.H=dg,r=t(a,n)}while(is);return r}function Xy(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?Pr(t):t,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(B.flags|=1024),t}function ju(){var e=Kl!==0;return Kl=0,e}function Eu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Nu(e){if(Ql){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ql=!1}ua=0,Ee=ee=B=null,is=!1,xr=Kl=0,os=null}function Ve(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?B.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function ve(){if(ee===null){var e=B.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var t=Ee===null?B.memoizedState:Ee.next;if(t!==null)Ee=t,ee=e;else{if(e===null)throw B.alternate===null?Error(S(467)):Error(S(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ee===null?B.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Si(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pr(e){var t=xr;return xr+=1,os===null&&(os=[]),e=Om(os,e,t),t=B,(Ee===null?t.memoizedState:Ee.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?ug:Du),e}function ji(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pr(e);if(e.$$typeof===na)return $e(e)}throw Error(S(438,String(e)))}function Tu(e){var t=null,a=B.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=B.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Si(),B.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Lp;return t.index++,a}function da(e,t){return typeof t=="function"?t(e):t}function El(e){var t=ve();return Ou(t,ee,e)}function Ou(e,t,a){var n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=a;var s=e.baseQueue,r=n.pending;if(r!==null){if(s!==null){var l=s.next;s.next=r.next,r.next=l}t.baseQueue=s=r,n.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var o=l=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(G&f)===f:(ua&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===fs&&(d=!0);else if((ua&h)===h){u=u.next,h===fs&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=f,l=r):c=c.next=f,B.lanes|=h,Ka|=h;f=u.action,xn&&a(r,f),r=u.hasEagerState?u.eagerState:a(r,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=h,l=r):c=c.next=h,B.lanes|=f,Ka|=f;u=u.next}while(u!==null&&u!==t);if(c===null?l=r:c.next=o,!gt(r,e.memoizedState)&&(Oe=!0,d&&(a=rs,a!==null)))throw a;e.memoizedState=r,e.baseState=l,e.baseQueue=c,n.lastRenderedState=r}return s===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function no(e){var t=ve(),a=t.queue;if(a===null)throw Error(S(311));a.lastRenderedReducer=e;var n=a.dispatch,s=a.pending,r=t.memoizedState;if(s!==null){a.pending=null;var l=s=s.next;do r=e(r,l.action),l=l.next;while(l!==s);gt(r,t.memoizedState)||(Oe=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,n]}function zm(e,t,a){var n=B,s=ve(),r=V;if(r){if(a===void 0)throw Error(S(407));a=a()}else a=t();var l=!gt((ee||s).memoizedState,a);if(l&&(s.memoizedState=a,Oe=!0),s=s.queue,Au(Bm.bind(null,n,s,e),[e]),s.getSnapshot!==t||l||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,gs(9,{destroy:void 0},qm.bind(null,n,s,a,t),null),te===null)throw Error(S(349));r||ua&127||Mm(n,t,a)}return a}function Mm(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=B.updateQueue,t===null?(t=Si(),B.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function qm(e,t,a,n){t.value=a,t.getSnapshot=n,$m(t)&&Hm(e)}function Bm(e,t,a){return a(function(){$m(t)&&Hm(e)})}function $m(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!gt(e,a)}catch{return!0}}function Hm(e){var t=En(e,2);t!==null&&We(t,e,2)}function oc(e){var t=Ve();if(typeof e=="function"){var a=e;if(e=a(),xn){Oa(!0);try{a()}finally{Oa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},t}function Pm(e,t,a,n){return e.baseState=a,Ou(e,ee,typeof n=="function"?n:da)}function Fy(e,t,a,n,s){if(Ni(e))throw Error(S(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){r.listeners.push(l)}};L.T!==null?a(!0):r.isTransition=!1,n(r),a=t.pending,a===null?(r.next=t.pending=r,Gm(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Gm(e,t){var a=t.action,n=t.payload,s=e.state;if(t.isTransition){var r=L.T,l={};L.T=l;try{var o=a(s,n),c=L.S;c!==null&&c(l,o),Kd(e,t,o)}catch(u){cc(e,t,u)}finally{r!==null&&l.types!==null&&(r.types=l.types),L.T=r}}else try{r=a(s,n),Kd(e,t,r)}catch(u){cc(e,t,u)}}function Kd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Id(e,t,n)},function(n){return cc(e,t,n)}):Id(e,t,a)}function Id(e,t,a){t.status="fulfilled",t.value=a,Vm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Gm(e,a)))}function cc(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Vm(t),t=t.next;while(t!==n)}e.action=null}function Vm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ym(e,t){return t}function Jd(e,t){if(V){var a=te.formState;if(a!==null){e:{var n=B;if(V){if(ie){t:{for(var s=ie,r=jt;s.nodeType!==8;){if(!r){s=null;break t}if(s=Tt(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){ie=Tt(s.nextSibling),n=s.data==="F!";break e}}Ya(n)}n=!1}n&&(t=a[0])}}return a=Ve(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ym,lastRenderedState:t},a.queue=n,a=ig.bind(null,B,n),n.dispatch=a,n=oc(!1),r=ku.bind(null,B,!1,n.queue),n=Ve(),s={state:t,dispatch:null,action:e,pending:null},n.queue=s,a=Fy.bind(null,B,s,r,a),s.dispatch=a,n.memoizedState=e,[t,a,!1]}function Xd(e){var t=ve();return Qm(t,ee,e)}function Qm(e,t,a){if(t=Ou(e,t,Ym)[0],e=El(da)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Pr(t)}catch(l){throw l===Ns?wi:l}else n=t;t=ve();var s=t.queue,r=s.dispatch;return a!==t.memoizedState&&(B.flags|=2048,gs(9,{destroy:void 0},Zy.bind(null,s,a),null)),[n,r,e]}function Zy(e,t){e.action=t}function Fd(e){var t=ve(),a=ee;if(a!==null)return Qm(t,a,e);ve(),t=t.memoizedState,a=ve();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function gs(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=B.updateQueue,t===null&&(t=Si(),B.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Km(){return ve().memoizedState}function Nl(e,t,a,n){var s=Ve();B.flags|=e,s.memoizedState=gs(1|t,{destroy:void 0},a,n===void 0?null:n)}function Ei(e,t,a,n){var s=ve();n=n===void 0?null:n;var r=s.memoizedState.inst;ee!==null&&n!==null&&wu(n,ee.memoizedState.deps)?s.memoizedState=gs(t,r,a,n):(B.flags|=e,s.memoizedState=gs(1|t,r,a,n))}function Zd(e,t){Nl(8390656,8,e,t)}function Au(e,t){Ei(2048,8,e,t)}function Wy(e){B.flags|=4;var t=B.updateQueue;if(t===null)t=Si(),B.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Im(e){var t=ve().memoizedState;return Wy({ref:t,nextImpl:e}),function(){if(I&2)throw Error(S(440));return t.impl.apply(void 0,arguments)}}function Jm(e,t){return Ei(4,2,e,t)}function Xm(e,t){return Ei(4,4,e,t)}function Fm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zm(e,t,a){a=a!=null?a.concat([e]):null,Ei(4,4,Fm.bind(null,t,e),a)}function Cu(){}function Wm(e,t){var a=ve();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&wu(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function eg(e,t){var a=ve();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&wu(t,n[1]))return n[0];if(n=e(),xn){Oa(!0);try{e()}finally{Oa(!1)}}return a.memoizedState=[n,t],n}function Ru(e,t,a){return a===void 0||ua&1073741824&&!(G&261930)?e.memoizedState=t:(e.memoizedState=a,e=Pg(),B.lanes|=e,Ka|=e,a)}function tg(e,t,a,n){return gt(a,t)?a:ms.current!==null?(e=Ru(e,a,n),gt(e,t)||(Oe=!0),e):!(ua&42)||ua&1073741824&&!(G&261930)?(Oe=!0,e.memoizedState=a):(e=Pg(),B.lanes|=e,Ka|=e,t)}function ag(e,t,a,n,s){var r=J.p;J.p=r!==0&&8>r?r:8;var l=L.T,o={};L.T=o,ku(e,!1,t,a);try{var c=s(),u=L.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=Iy(c,n);sr(e,t,d,mt(e))}else sr(e,t,n,mt(e))}catch(f){sr(e,t,{then:function(){},status:"rejected",reason:f},mt())}finally{J.p=r,l!==null&&o.types!==null&&(l.types=o.types),L.T=l}}function ev(){}function uc(e,t,a,n){if(e.tag!==5)throw Error(S(476));var s=ng(e).queue;ag(e,s,t,hn,a===null?ev:function(){return sg(e),a(n)})}function ng(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:hn,baseState:hn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:hn},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function sg(e){var t=ng(e);t.next===null&&(t=e.alternate.memoizedState),sr(e,t.next.queue,{},mt())}function Uu(){return $e(jr)}function rg(){return ve().memoizedState}function lg(){return ve().memoizedState}function tv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=mt();e=za(a);var n=Ma(t,e,a);n!==null&&(We(n,t,a),tr(n,t,a)),t={cache:yu()},e.payload=t;return}t=t.return}}function av(e,t,a){var n=mt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ni(e)?og(t,a):(a=fu(e,t,a,n),a!==null&&(We(a,e,n),cg(a,t,n)))}function ig(e,t,a){var n=mt();sr(e,t,a,n)}function sr(e,t,a,n){var s={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ni(e))og(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var l=t.lastRenderedState,o=r(l,a);if(s.hasEagerState=!0,s.eagerState=o,gt(o,l))return _i(e,t,s,0),te===null&&xi(),!1}catch{}finally{}if(a=fu(e,t,s,n),a!==null)return We(a,e,n),cg(a,t,n),!0}return!1}function ku(e,t,a,n){if(n={lane:2,revertLane:Pu(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ni(e)){if(t)throw Error(S(479))}else t=fu(e,a,n,2),t!==null&&We(t,e,2)}function Ni(e){var t=e.alternate;return e===B||t!==null&&t===B}function og(e,t){is=Ql=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function cg(e,t,a){if(a&4194048){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,If(e,a)}}var _r={readContext:$e,use:ji,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};_r.useEffectEvent=fe;var ug={readContext:$e,use:ji,useCallback:function(e,t){return Ve().memoizedState=[e,t===void 0?null:t],e},useContext:$e,useEffect:Zd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Nl(4194308,4,Fm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Nl(4194308,4,e,t)},useInsertionEffect:function(e,t){Nl(4,2,e,t)},useMemo:function(e,t){var a=Ve();t=t===void 0?null:t;var n=e();if(xn){Oa(!0);try{e()}finally{Oa(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Ve();if(a!==void 0){var s=a(t);if(xn){Oa(!0);try{a(t)}finally{Oa(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=av.bind(null,B,e),[n.memoizedState,e]},useRef:function(e){var t=Ve();return e={current:e},t.memoizedState=e},useState:function(e){e=oc(e);var t=e.queue,a=ig.bind(null,B,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Cu,useDeferredValue:function(e,t){var a=Ve();return Ru(a,e,t)},useTransition:function(){var e=oc(!1);return e=ag.bind(null,B,e.queue,!0,!1),Ve().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=B,s=Ve();if(V){if(a===void 0)throw Error(S(407));a=a()}else{if(a=t(),te===null)throw Error(S(349));G&127||Mm(n,t,a)}s.memoizedState=a;var r={value:a,getSnapshot:t};return s.queue=r,Zd(Bm.bind(null,n,r,e),[e]),n.flags|=2048,gs(9,{destroy:void 0},qm.bind(null,n,r,a,t),null),a},useId:function(){var e=Ve(),t=te.identifierPrefix;if(V){var a=Pt,n=Ht;a=(n&~(1<<32-ft(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Kl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Jy++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Uu,useFormState:Jd,useActionState:Jd,useOptimistic:function(e){var t=Ve();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ku.bind(null,B,!0,a),a.dispatch=t,[e,t]},useMemoCache:Tu,useCacheRefresh:function(){return Ve().memoizedState=tv.bind(null,B)},useEffectEvent:function(e){var t=Ve(),a={impl:e};return t.memoizedState=a,function(){if(I&2)throw Error(S(440));return a.impl.apply(void 0,arguments)}}},Du={readContext:$e,use:ji,useCallback:Wm,useContext:$e,useEffect:Au,useImperativeHandle:Zm,useInsertionEffect:Jm,useLayoutEffect:Xm,useMemo:eg,useReducer:El,useRef:Km,useState:function(){return El(da)},useDebugValue:Cu,useDeferredValue:function(e,t){var a=ve();return tg(a,ee.memoizedState,e,t)},useTransition:function(){var e=El(da)[0],t=ve().memoizedState;return[typeof e=="boolean"?e:Pr(e),t]},useSyncExternalStore:zm,useId:rg,useHostTransitionStatus:Uu,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,t){var a=ve();return Pm(a,ee,e,t)},useMemoCache:Tu,useCacheRefresh:lg};Du.useEffectEvent=Im;var dg={readContext:$e,use:ji,useCallback:Wm,useContext:$e,useEffect:Au,useImperativeHandle:Zm,useInsertionEffect:Jm,useLayoutEffect:Xm,useMemo:eg,useReducer:no,useRef:Km,useState:function(){return no(da)},useDebugValue:Cu,useDeferredValue:function(e,t){var a=ve();return ee===null?Ru(a,e,t):tg(a,ee.memoizedState,e,t)},useTransition:function(){var e=no(da)[0],t=ve().memoizedState;return[typeof e=="boolean"?e:Pr(e),t]},useSyncExternalStore:zm,useId:rg,useHostTransitionStatus:Uu,useFormState:Fd,useActionState:Fd,useOptimistic:function(e,t){var a=ve();return ee!==null?Pm(a,ee,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Tu,useCacheRefresh:lg};dg.useEffectEvent=Im;function so(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:ce({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var dc={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=mt(),s=za(n);s.payload=t,a!=null&&(s.callback=a),t=Ma(e,s,n),t!==null&&(We(t,e,n),tr(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=mt(),s=za(n);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=Ma(e,s,n),t!==null&&(We(t,e,n),tr(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=mt(),n=za(a);n.tag=2,t!=null&&(n.callback=t),t=Ma(e,n,a),t!==null&&(We(t,e,a),tr(t,e,a))}};function Wd(e,t,a,n,s,r,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,r,l):t.prototype&&t.prototype.isPureReactComponent?!pr(a,n)||!pr(s,r):!0}function eh(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&dc.enqueueReplaceState(t,t.state,null)}function _n(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=ce({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function hg(e){Bl(e)}function fg(e){console.error(e)}function mg(e){Bl(e)}function Il(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function th(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function hc(e,t,a){return a=za(a),a.tag=3,a.payload={element:null},a.callback=function(){Il(e,t)},a}function gg(e){return e=za(e),e.tag=3,e}function pg(e,t,a,n){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var r=n.value;e.payload=function(){return s(r)},e.callback=function(){th(t,a,n)}}var l=a.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){th(t,a,n),typeof s!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function nv(e,t,a,n,s){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Es(t,a,s,!0),a=pt.current,a!==null){switch(a.tag){case 31:case 13:return Nt===null?Wl():a.alternate===null&&ge===0&&(ge=3),a.flags&=-257,a.flags|=65536,a.lanes=s,n===Gl?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),po(e,n,s)),!1;case 22:return a.flags|=65536,n===Gl?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),po(e,n,s)),!1}throw Error(S(435,a.tag))}return po(e,n,s),Wl(),!1}if(V)return t=pt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==Wo&&(e=Error(S(422),{cause:n}),vr(St(e,a)))):(n!==Wo&&(t=Error(S(423),{cause:n}),vr(St(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,n=St(n,a),s=hc(e.stateNode,n,s),ao(e,s),ge!==4&&(ge=2)),!1;var r=Error(S(520),{cause:n});if(r=St(r,a),ir===null?ir=[r]:ir.push(r),ge!==4&&(ge=2),t===null)return!0;n=St(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=hc(a.stateNode,n,e),ao(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(qa===null||!qa.has(r))))return a.flags|=65536,s&=-s,a.lanes|=s,s=gg(s),pg(s,e,a,n),ao(a,s),!1}a=a.return}while(a!==null);return!1}var Lu=Error(S(461)),Oe=!1;function Me(e,t,a,n){t.child=e===null?Cm(t,null,a,n):bn(t,e.child,a,n)}function ah(e,t,a,n,s){a=a.render;var r=t.ref;if("ref"in n){var l={};for(var o in n)o!=="ref"&&(l[o]=n[o])}else l=n;return vn(t),n=Su(e,t,a,l,r,s),o=ju(),e!==null&&!Oe?(Eu(e,t,s),ha(e,t,s)):(V&&o&&gu(t),t.flags|=1,Me(e,t,n,s),t.child)}function nh(e,t,a,n,s){if(e===null){var r=a.type;return typeof r=="function"&&!mu(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,yg(e,t,r,n,s)):(e=Sl(a.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!zu(e,s)){var l=r.memoizedProps;if(a=a.compare,a=a!==null?a:pr,a(l,n)&&e.ref===t.ref)return ha(e,t,s)}return t.flags|=1,e=la(r,n),e.ref=t.ref,e.return=t,t.child=e}function yg(e,t,a,n,s){if(e!==null){var r=e.memoizedProps;if(pr(r,n)&&e.ref===t.ref)if(Oe=!1,t.pendingProps=n=r,zu(e,s))e.flags&131072&&(Oe=!0);else return t.lanes=e.lanes,ha(e,t,s)}return fc(e,t,a,n,s)}function vg(e,t,a,n){var s=n.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|a:a,e!==null){for(n=t.child=e.child,s=0;n!==null;)s=s|n.lanes|n.childLanes,n=n.sibling;n=s&~r}else n=0,t.child=null;return sh(e,t,r,a,n)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&jl(t,r!==null?r.cachePool:null),r!==null?Qd(t,r):lc(),km(t);else return n=t.lanes=536870912,sh(e,t,r!==null?r.baseLanes|a:a,a,n)}else r!==null?(jl(t,r.cachePool),Qd(t,r),Ea(),t.memoizedState=null):(e!==null&&jl(t,null),lc(),Ea());return Me(e,t,s,a),t.child}function Ks(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function sh(e,t,a,n,s){var r=vu();return r=r===null?null:{parent:Te._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&jl(t,null),lc(),km(t),e!==null&&Es(e,t,n,!0),t.childLanes=s,null}function Tl(e,t){return t=Jl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function rh(e,t,a){return bn(t,e.child,null,a),e=Tl(t,t.pendingProps),e.flags|=2,rt(t),t.memoizedState=null,e}function sv(e,t,a){var n=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(V){if(n.mode==="hidden")return e=Tl(t,n),t.lanes=536870912,Ks(null,e);if(ic(t),(e=ie)?(e=u0(e,jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Va!==null?{id:Ht,overflow:Pt}:null,retryLane:536870912,hydrationErrors:null},a=Sm(e),a.return=t,t.child=a,Be=t,ie=null)):e=null,e===null)throw Ya(t);return t.lanes=536870912,null}return Tl(t,n)}var r=e.memoizedState;if(r!==null){var l=r.dehydrated;if(ic(t),s)if(t.flags&256)t.flags&=-257,t=rh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(S(558));else if(Oe||Es(e,t,a,!1),s=(a&e.childLanes)!==0,Oe||s){if(n=te,n!==null&&(l=Jf(n,a),l!==0&&l!==r.retryLane))throw r.retryLane=l,En(e,l),We(n,e,l),Lu;Wl(),t=rh(e,t,a)}else e=r.treeContext,ie=Tt(l.nextSibling),Be=t,V=!0,La=null,jt=!1,e!==null&&Em(t,e),t=Tl(t,n),t.flags|=4096;return t}return e=la(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ol(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(S(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function fc(e,t,a,n,s){return vn(t),a=Su(e,t,a,n,void 0,s),n=ju(),e!==null&&!Oe?(Eu(e,t,s),ha(e,t,s)):(V&&n&&gu(t),t.flags|=1,Me(e,t,a,s),t.child)}function lh(e,t,a,n,s,r){return vn(t),t.updateQueue=null,a=Lm(t,n,a,s),Dm(e),n=ju(),e!==null&&!Oe?(Eu(e,t,r),ha(e,t,r)):(V&&n&&gu(t),t.flags|=1,Me(e,t,a,r),t.child)}function ih(e,t,a,n,s){if(vn(t),t.stateNode===null){var r=Fn,l=a.contextType;typeof l=="object"&&l!==null&&(r=$e(l)),r=new a(n,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=dc,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=n,r.state=t.memoizedState,r.refs={},xu(t),l=a.contextType,r.context=typeof l=="object"&&l!==null?$e(l):Fn,r.state=t.memoizedState,l=a.getDerivedStateFromProps,typeof l=="function"&&(so(t,a,l,n),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(l=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),l!==r.state&&dc.enqueueReplaceState(r,r.state,null),nr(t,n,r,s),ar(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,c=_n(a,o);r.props=c;var u=r.context,d=a.contextType;l=Fn,typeof d=="object"&&d!==null&&(l=$e(d));var f=a.getDerivedStateFromProps;d=typeof f=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||u!==l)&&eh(t,r,n,l),_a=!1;var h=t.memoizedState;r.state=h,nr(t,n,r,s),ar(),u=t.memoizedState,o||h!==u||_a?(typeof f=="function"&&(so(t,a,f,n),u=t.memoizedState),(c=_a||Wd(t,a,c,n,h,u,l))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),r.props=n,r.state=u,r.context=l,n=c):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,sc(e,t),l=t.memoizedProps,d=_n(a,l),r.props=d,f=t.pendingProps,h=r.context,u=a.contextType,c=Fn,typeof u=="object"&&u!==null&&(c=$e(u)),o=a.getDerivedStateFromProps,(u=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l!==f||h!==c)&&eh(t,r,n,c),_a=!1,h=t.memoizedState,r.state=h,nr(t,n,r,s),ar();var g=t.memoizedState;l!==f||h!==g||_a||e!==null&&e.dependencies!==null&&Pl(e.dependencies)?(typeof o=="function"&&(so(t,a,o,n),g=t.memoizedState),(d=_a||Wd(t,a,d,n,h,g,c)||e!==null&&e.dependencies!==null&&Pl(e.dependencies))?(u||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(n,g,c),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(n,g,c)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),r.props=n,r.state=g,r.context=c,n=d):(typeof r.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return r=n,Ol(e,t),n=(t.flags&128)!==0,r||n?(r=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&n?(t.child=bn(t,e.child,null,s),t.child=bn(t,null,a,s)):Me(e,t,a,s),t.memoizedState=r.state,e=t.child):e=ha(e,t,s),e}function oh(e,t,a,n){return yn(),t.flags|=256,Me(e,t,a,n),t.child}var ro={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lo(e){return{baseLanes:e,cachePool:Tm()}}function io(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ut),e}function bg(e,t,a){var n=t.pendingProps,s=!1,r=(t.flags&128)!==0,l;if((l=r)||(l=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),l&&(s=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(V){if(s?ja(t):Ea(),(e=ie)?(e=u0(e,jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Va!==null?{id:Ht,overflow:Pt}:null,retryLane:536870912,hydrationErrors:null},a=Sm(e),a.return=t,t.child=a,Be=t,ie=null)):e=null,e===null)throw Ya(t);return Tc(e)?t.lanes=32:t.lanes=536870912,null}var o=n.children;return n=n.fallback,s?(Ea(),s=t.mode,o=Jl({mode:"hidden",children:o},s),n=fn(n,s,a,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n=t.child,n.memoizedState=lo(a),n.childLanes=io(e,l,a),t.memoizedState=ro,Ks(null,n)):(ja(t),mc(t,o))}var c=e.memoizedState;if(c!==null&&(o=c.dehydrated,o!==null)){if(r)t.flags&256?(ja(t),t.flags&=-257,t=oo(e,t,a)):t.memoizedState!==null?(Ea(),t.child=e.child,t.flags|=128,t=null):(Ea(),o=n.fallback,s=t.mode,n=Jl({mode:"visible",children:n.children},s),o=fn(o,s,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,bn(t,e.child,null,a),n=t.child,n.memoizedState=lo(a),n.childLanes=io(e,l,a),t.memoizedState=ro,t=Ks(null,n));else if(ja(t),Tc(o)){if(l=o.nextSibling&&o.nextSibling.dataset,l)var u=l.dgst;l=u,n=Error(S(419)),n.stack="",n.digest=l,vr({value:n,source:null,stack:null}),t=oo(e,t,a)}else if(Oe||Es(e,t,a,!1),l=(a&e.childLanes)!==0,Oe||l){if(l=te,l!==null&&(n=Jf(l,a),n!==0&&n!==c.retryLane))throw c.retryLane=n,En(e,n),We(l,e,n),Lu;Nc(o)||Wl(),t=oo(e,t,a)}else Nc(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ie=Tt(o.nextSibling),Be=t,V=!0,La=null,jt=!1,e!==null&&Em(t,e),t=mc(t,n.children),t.flags|=4096);return t}return s?(Ea(),o=n.fallback,s=t.mode,c=e.child,u=c.sibling,n=la(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,u!==null?o=la(u,o):(o=fn(o,s,a,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,Ks(null,n),n=t.child,o=e.child.memoizedState,o===null?o=lo(a):(s=o.cachePool,s!==null?(c=Te._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Tm(),o={baseLanes:o.baseLanes|a,cachePool:s}),n.memoizedState=o,n.childLanes=io(e,l,a),t.memoizedState=ro,Ks(e.child,n)):(ja(t),a=e.child,e=a.sibling,a=la(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=a,t.memoizedState=null,a)}function mc(e,t){return t=Jl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Jl(e,t){return e=lt(22,e,null,t),e.lanes=0,e}function oo(e,t,a){return bn(t,e.child,null,a),e=mc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ch(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),tc(e.return,t,a)}function co(e,t,a,n,s,r){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:s,treeForkCount:r}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=a,l.tailMode=s,l.treeForkCount=r)}function xg(e,t,a){var n=t.pendingProps,s=n.revealOrder,r=n.tail;n=n.children;var l=ye.current,o=(l&2)!==0;if(o?(l=l&1|2,t.flags|=128):l&=1,ne(ye,l),Me(e,t,n,a),n=V?yr:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ch(e,a,t);else if(e.tag===19)ch(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&Yl(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),co(t,!1,s,a,r,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Yl(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}co(t,!0,a,null,r,n);break;case"together":co(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function ha(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ka|=t.lanes,!(a&t.childLanes))if(e!==null){if(Es(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,a=la(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=la(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function zu(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Pl(e)))}function rv(e,t,a){switch(t.tag){case 3:Ll(t,t.stateNode.containerInfo),Sa(t,Te,e.memoizedState.cache),yn();break;case 27:case 5:Po(t);break;case 4:Ll(t,t.stateNode.containerInfo);break;case 10:Sa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ic(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ja(t),t.flags|=128,null):a&t.child.childLanes?bg(e,t,a):(ja(t),e=ha(e,t,a),e!==null?e.sibling:null);ja(t);break;case 19:var s=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Es(e,t,a,!1),n=(a&t.childLanes)!==0),s){if(n)return xg(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ne(ye,ye.current),n)break;return null;case 22:return t.lanes=0,vg(e,t,a,t.pendingProps);case 24:Sa(t,Te,e.memoizedState.cache)}return ha(e,t,a)}function _g(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Oe=!0;else{if(!zu(e,a)&&!(t.flags&128))return Oe=!1,rv(e,t,a);Oe=!!(e.flags&131072)}else Oe=!1,V&&t.flags&1048576&&jm(t,yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=sn(t.elementType),t.type=e,typeof e=="function")mu(e)?(n=_n(e,n),t.tag=1,t=ih(null,t,e,n,a)):(t.tag=0,t=fc(null,t,e,n,a));else{if(e!=null){var s=e.$$typeof;if(s===eu){t.tag=11,t=ah(null,t,e,n,a);break e}else if(s===tu){t.tag=14,t=nh(null,t,e,n,a);break e}}throw t=$o(e)||e,Error(S(306,t,""))}}return t;case 0:return fc(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,s=_n(n,t.pendingProps),ih(e,t,n,s,a);case 3:e:{if(Ll(t,t.stateNode.containerInfo),e===null)throw Error(S(387));n=t.pendingProps;var r=t.memoizedState;s=r.element,sc(e,t),nr(t,n,null,a);var l=t.memoizedState;if(n=l.cache,Sa(t,Te,n),n!==r.cache&&ac(t,[Te],a,!0),ar(),n=l.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=oh(e,t,n,a);break e}else if(n!==s){s=St(Error(S(424)),t),vr(s),t=oh(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=Tt(e.firstChild),Be=t,V=!0,La=null,jt=!0,a=Cm(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yn(),n===s){t=ha(e,t,a);break e}Me(e,t,n,a)}t=t.child}return t;case 26:return Ol(e,t),e===null?(a=Ah(t.type,null,t.pendingProps,null))?t.memoizedState=a:V||(a=t.type,e=t.pendingProps,n=ni(Da.current).createElement(a),n[qe]=t,n[et]=e,He(n,a,e),ke(n),t.stateNode=n):t.memoizedState=Ah(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Po(t),e===null&&V&&(n=t.stateNode=d0(t.type,t.pendingProps,Da.current),Be=t,jt=!0,s=ie,Ja(t.type)?(Oc=s,ie=Tt(n.firstChild)):ie=s),Me(e,t,t.pendingProps.children,a),Ol(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&V&&((s=n=ie)&&(n=Lv(n,t.type,t.pendingProps,jt),n!==null?(t.stateNode=n,Be=t,ie=Tt(n.firstChild),jt=!1,s=!0):s=!1),s||Ya(t)),Po(t),s=t.type,r=t.pendingProps,l=e!==null?e.memoizedProps:null,n=r.children,jc(s,r)?n=null:l!==null&&jc(s,l)&&(t.flags|=32),t.memoizedState!==null&&(s=Su(e,t,Xy,null,null,a),jr._currentValue=s),Ol(e,t),Me(e,t,n,a),t.child;case 6:return e===null&&V&&((e=a=ie)&&(a=zv(a,t.pendingProps,jt),a!==null?(t.stateNode=a,Be=t,ie=null,e=!0):e=!1),e||Ya(t)),null;case 13:return bg(e,t,a);case 4:return Ll(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bn(t,null,n,a):Me(e,t,n,a),t.child;case 11:return ah(e,t,t.type,t.pendingProps,a);case 7:return Me(e,t,t.pendingProps,a),t.child;case 8:return Me(e,t,t.pendingProps.children,a),t.child;case 12:return Me(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Sa(t,t.type,n.value),Me(e,t,n.children,a),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,vn(t),s=$e(s),n=n(s),t.flags|=1,Me(e,t,n,a),t.child;case 14:return nh(e,t,t.type,t.pendingProps,a);case 15:return yg(e,t,t.type,t.pendingProps,a);case 19:return xg(e,t,a);case 31:return sv(e,t,a);case 22:return vg(e,t,a,t.pendingProps);case 24:return vn(t),n=$e(Te),e===null?(s=vu(),s===null&&(s=te,r=yu(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=a),s=r),t.memoizedState={parent:n,cache:s},xu(t),Sa(t,Te,s)):(e.lanes&a&&(sc(e,t),nr(t,null,null,a),ar()),s=e.memoizedState,r=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Sa(t,Te,n)):(n=r.cache,Sa(t,Te,n),n!==s.cache&&ac(t,[Te],a,!0))),Me(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(S(156,t.tag))}function Xt(e){e.flags|=4}function uo(e,t,a,n,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Yg())e.flags|=8192;else throw gn=Gl,bu}else e.flags&=-16777217}function uh(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!m0(t))if(Yg())e.flags|=8192;else throw gn=Gl,bu}function il(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Qf():536870912,e.lanes|=t,ps|=t)}function $s(e,t){if(!V)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function le(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags&65011712,n|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function lv(e,t,a){var n=t.pendingProps;switch(pu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(t),null;case 1:return le(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ia(Te),us(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(On(t)?Xt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,to())),le(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(Xt(t),r!==null?(le(t),uh(t,r)):(le(t),uo(t,s,null,n,a))):r?r!==e.memoizedState?(Xt(t),le(t),uh(t,r)):(le(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Xt(t),le(t),uo(t,s,e,n,a)),null;case 27:if(zl(t),a=Da.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Xt(t);else{if(!n){if(t.stateNode===null)throw Error(S(166));return le(t),null}e=Vt.current,On(t)?Bd(t):(e=d0(s,n,a),t.stateNode=e,Xt(t))}return le(t),null;case 5:if(zl(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Xt(t);else{if(!n){if(t.stateNode===null)throw Error(S(166));return le(t),null}if(r=Vt.current,On(t))Bd(t);else{var l=ni(Da.current);switch(r){case 1:r=l.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=l.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=l.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=l.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=l.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof n.is=="string"?l.createElement("select",{is:n.is}):l.createElement("select"),n.multiple?r.multiple=!0:n.size&&(r.size=n.size);break;default:r=typeof n.is=="string"?l.createElement(s,{is:n.is}):l.createElement(s)}}r[qe]=t,r[et]=n;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=r;e:switch(He(r,s,n),s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Xt(t)}}return le(t),uo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Xt(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(S(166));if(e=Da.current,On(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,s=Be,s!==null)switch(s.tag){case 27:case 5:n=s.memoizedProps}e[qe]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||i0(e.nodeValue,a)),e||Ya(t,!0)}else e=ni(e).createTextNode(n),e[qe]=t,t.stateNode=e}return le(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=On(t),a!==null){if(e===null){if(!n)throw Error(S(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(557));e[qe]=t}else yn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;le(t),e=!1}else a=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(rt(t),t):(rt(t),null);if(t.flags&128)throw Error(S(558))}return le(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=On(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(S(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(S(317));s[qe]=t}else yn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;le(t),s=!1}else s=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(rt(t),t):(rt(t),null)}return rt(t),t.flags&128?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,s=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(s=n.alternate.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),il(t,t.updateQueue),le(t),null);case 4:return us(),e===null&&Gu(t.stateNode.containerInfo),le(t),null;case 10:return ia(t.type),le(t),null;case 19:if(De(ye),n=t.memoizedState,n===null)return le(t),null;if(s=(t.flags&128)!==0,r=n.rendering,r===null)if(s)$s(n,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=Yl(e),r!==null){for(t.flags|=128,$s(n,!1),e=r.updateQueue,t.updateQueue=e,il(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)wm(a,e),a=a.sibling;return ne(ye,ye.current&1|2),V&&ta(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&dt()>Fl&&(t.flags|=128,s=!0,$s(n,!1),t.lanes=4194304)}else{if(!s)if(e=Yl(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,il(t,e),$s(n,!0),n.tail===null&&n.tailMode==="hidden"&&!r.alternate&&!V)return le(t),null}else 2*dt()-n.renderingStartTime>Fl&&a!==536870912&&(t.flags|=128,s=!0,$s(n,!1),t.lanes=4194304);n.isBackwards?(r.sibling=t.child,t.child=r):(e=n.last,e!==null?e.sibling=r:t.child=r,n.last=r)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=dt(),e.sibling=null,a=ye.current,ne(ye,s?a&1|2:a&1),V&&ta(t,n.treeForkCount),e):(le(t),null);case 22:case 23:return rt(t),_u(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?a&536870912&&!(t.flags&128)&&(le(t),t.subtreeFlags&6&&(t.flags|=8192)):le(t),a=t.updateQueue,a!==null&&il(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&De(mn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ia(Te),le(t),null;case 25:return null;case 30:return null}throw Error(S(156,t.tag))}function iv(e,t){switch(pu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ia(Te),us(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return zl(t),null;case 31:if(t.memoizedState!==null){if(rt(t),t.alternate===null)throw Error(S(340));yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(rt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(ye),null;case 4:return us(),null;case 10:return ia(t.type),null;case 22:case 23:return rt(t),_u(),e!==null&&De(mn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ia(Te),null;case 25:return null;default:return null}}function wg(e,t){switch(pu(t),t.tag){case 3:ia(Te),us();break;case 26:case 27:case 5:zl(t);break;case 4:us();break;case 31:t.memoizedState!==null&&rt(t);break;case 13:rt(t);break;case 19:De(ye);break;case 10:ia(t.type);break;case 22:case 23:rt(t),_u(),e!==null&&De(mn);break;case 24:ia(Te)}}function Gr(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var s=n.next;a=s;do{if((a.tag&e)===e){n=void 0;var r=a.create,l=a.inst;n=r(),l.destroy=n}a=a.next}while(a!==s)}}catch(o){Z(t,t.return,o)}}function Qa(e,t,a){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&e)===e){var l=n.inst,o=l.destroy;if(o!==void 0){l.destroy=void 0,s=t;var c=a,u=o;try{u()}catch(d){Z(s,c,d)}}}n=n.next}while(n!==r)}}catch(d){Z(t,t.return,d)}}function Sg(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Um(t,a)}catch(n){Z(e,e.return,n)}}}function jg(e,t,a){a.props=_n(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Z(e,t,n)}}function rr(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(s){Z(e,t,s)}}function Gt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(s){Z(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){Z(e,t,s)}else a.current=null}function Eg(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(s){Z(e,e.return,s)}}function ho(e,t,a){try{var n=e.stateNode;Av(n,e.type,a,t),n[et]=t}catch(s){Z(e,e.return,s)}}function Ng(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ja(e.type)||e.tag===4}function fo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ng(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ja(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gc(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=sa));else if(n!==4&&(n===27&&Ja(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(gc(e,t,a),e=e.sibling;e!==null;)gc(e,t,a),e=e.sibling}function Xl(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Ja(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Xl(e,t,a),e=e.sibling;e!==null;)Xl(e,t,a),e=e.sibling}function Tg(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);He(t,n,a),t[qe]=e,t[et]=a}catch(r){Z(e,e.return,r)}}var aa=!1,Ne=!1,mo=!1,dh=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function ov(e,t){if(e=e.containerInfo,wc=ii,e=mm(e),du(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var s=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var l=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==a||s!==0&&f.nodeType!==3||(o=l+s),f!==r||n!==0&&f.nodeType!==3||(c=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===a&&++u===s&&(o=l),h===r&&++d===n&&(c=l),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}a=o===-1||c===-1?null:{start:o,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sc={focusedElem:e,selectionRange:a},ii=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){switch(t=Ue,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,a=t,s=r.memoizedProps,r=r.memoizedState,n=a.stateNode;try{var x=_n(a.type,s);e=n.getSnapshotBeforeUpdate(x,r),n.__reactInternalSnapshotBeforeUpdate=e}catch(v){Z(a,a.return,v)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ec(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ec(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(S(163))}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}}function Og(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Zt(e,a),n&4&&Gr(5,a);break;case 1:if(Zt(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(l){Z(a,a.return,l)}else{var s=_n(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){Z(a,a.return,l)}}n&64&&Sg(a),n&512&&rr(a,a.return);break;case 3:if(Zt(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Um(e,t)}catch(l){Z(a,a.return,l)}}break;case 27:t===null&&n&4&&Tg(a);case 26:case 5:Zt(e,a),t===null&&n&4&&Eg(a),n&512&&rr(a,a.return);break;case 12:Zt(e,a);break;case 31:Zt(e,a),n&4&&Rg(e,a);break;case 13:Zt(e,a),n&4&&Ug(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yv.bind(null,a),Mv(e,a))));break;case 22:if(n=a.memoizedState!==null||aa,!n){t=t!==null&&t.memoizedState!==null||Ne,s=aa;var r=Ne;aa=n,(Ne=t)&&!r?Wt(e,a,(a.subtreeFlags&8772)!==0):Zt(e,a),aa=s,Ne=r}break;case 30:break;default:Zt(e,a)}}function Ag(e){var t=e.alternate;t!==null&&(e.alternate=null,Ag(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ru(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,Xe=!1;function Ft(e,t,a){for(a=a.child;a!==null;)Cg(e,t,a),a=a.sibling}function Cg(e,t,a){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(zr,a)}catch{}switch(a.tag){case 26:Ne||Gt(a,t),Ft(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||Gt(a,t);var n=ue,s=Xe;Ja(a.type)&&(ue=a.stateNode,Xe=!1),Ft(e,t,a),cr(a.stateNode),ue=n,Xe=s;break;case 5:Ne||Gt(a,t);case 6:if(n=ue,s=Xe,ue=null,Ft(e,t,a),ue=n,Xe=s,ue!==null)if(Xe)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(r){Z(a,t,r)}else try{ue.removeChild(a.stateNode)}catch(r){Z(a,t,r)}break;case 18:ue!==null&&(Xe?(e=ue,jh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),xs(e)):jh(ue,a.stateNode));break;case 4:n=ue,s=Xe,ue=a.stateNode.containerInfo,Xe=!0,Ft(e,t,a),ue=n,Xe=s;break;case 0:case 11:case 14:case 15:Qa(2,a,t),Ne||Qa(4,a,t),Ft(e,t,a);break;case 1:Ne||(Gt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&jg(a,t,n)),Ft(e,t,a);break;case 21:Ft(e,t,a);break;case 22:Ne=(n=Ne)||a.memoizedState!==null,Ft(e,t,a),Ne=n;break;default:Ft(e,t,a)}}function Rg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xs(e)}catch(a){Z(t,t.return,a)}}}function Ug(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xs(e)}catch(a){Z(t,t.return,a)}}function cv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new dh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new dh),t;default:throw Error(S(435,e.tag))}}function ol(e,t){var a=cv(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var s=vv.bind(null,e,n);n.then(s,s)}})}function Ie(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var s=a[n],r=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 27:if(Ja(o.type)){ue=o.stateNode,Xe=!1;break e}break;case 5:ue=o.stateNode,Xe=!1;break e;case 3:case 4:ue=o.stateNode.containerInfo,Xe=!0;break e}o=o.return}if(ue===null)throw Error(S(160));Cg(r,l,s),ue=null,Xe=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)kg(t,e),t=t.sibling}var Lt=null;function kg(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ie(t,e),Je(e),n&4&&(Qa(3,e,e.return),Gr(3,e),Qa(5,e,e.return));break;case 1:Ie(t,e),Je(e),n&512&&(Ne||a===null||Gt(a,a.return)),n&64&&aa&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var s=Lt;if(Ie(t,e),Je(e),n&512&&(Ne||a===null||Gt(a,a.return)),n&4){var r=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":r=s.getElementsByTagName("title")[0],(!r||r[Br]||r[qe]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(n),s.head.insertBefore(r,s.querySelector("head > title"))),He(r,n,a),r[qe]=e,ke(r),n=r;break e;case"link":var l=Rh("link","href",s).get(n+(a.href||""));if(l){for(var o=0;o<l.length;o++)if(r=l[o],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){l.splice(o,1);break t}}r=s.createElement(n),He(r,n,a),s.head.appendChild(r);break;case"meta":if(l=Rh("meta","content",s).get(n+(a.content||""))){for(o=0;o<l.length;o++)if(r=l[o],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){l.splice(o,1);break t}}r=s.createElement(n),He(r,n,a),s.head.appendChild(r);break;default:throw Error(S(468,n))}r[qe]=e,ke(r),n=r}e.stateNode=n}else Uh(s,e.type,e.stateNode);else e.stateNode=Ch(s,n,e.memoizedProps);else r!==n?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,n===null?Uh(s,e.type,e.stateNode):Ch(s,n,e.memoizedProps)):n===null&&e.stateNode!==null&&ho(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ie(t,e),Je(e),n&512&&(Ne||a===null||Gt(a,a.return)),a!==null&&n&4&&ho(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ie(t,e),Je(e),n&512&&(Ne||a===null||Gt(a,a.return)),e.flags&32){s=e.stateNode;try{hs(s,"")}catch(x){Z(e,e.return,x)}}n&4&&e.stateNode!=null&&(s=e.memoizedProps,ho(e,s,a!==null?a.memoizedProps:s)),n&1024&&(mo=!0);break;case 6:if(Ie(t,e),Je(e),n&4){if(e.stateNode===null)throw Error(S(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(x){Z(e,e.return,x)}}break;case 3:if(Rl=null,s=Lt,Lt=si(t.containerInfo),Ie(t,e),Lt=s,Je(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{xs(t.containerInfo)}catch(x){Z(e,e.return,x)}mo&&(mo=!1,Dg(e));break;case 4:n=Lt,Lt=si(e.stateNode.containerInfo),Ie(t,e),Je(e),Lt=n;break;case 12:Ie(t,e),Je(e);break;case 31:Ie(t,e),Je(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ol(e,n)));break;case 13:Ie(t,e),Je(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ti=dt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ol(e,n)));break;case 22:s=e.memoizedState!==null;var c=a!==null&&a.memoizedState!==null,u=aa,d=Ne;if(aa=u||s,Ne=d||c,Ie(t,e),Ne=d,aa=u,Je(e),n&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||c||aa||Ne||rn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){c=a=t;try{if(r=c.stateNode,s)l=r.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(x){Z(c,c.return,x)}}}else if(t.tag===6){if(a===null){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(x){Z(c,c.return,x)}}}else if(t.tag===18){if(a===null){c=t;try{var g=c.stateNode;s?Eh(g,!0):Eh(c.stateNode,!1)}catch(x){Z(c,c.return,x)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,ol(e,a))));break;case 19:Ie(t,e),Je(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ol(e,n)));break;case 30:break;case 21:break;default:Ie(t,e),Je(e)}}function Je(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Ng(n)){a=n;break}n=n.return}if(a==null)throw Error(S(160));switch(a.tag){case 27:var s=a.stateNode,r=fo(e);Xl(e,r,s);break;case 5:var l=a.stateNode;a.flags&32&&(hs(l,""),a.flags&=-33);var o=fo(e);Xl(e,o,l);break;case 3:case 4:var c=a.stateNode.containerInfo,u=fo(e);gc(e,u,c);break;default:throw Error(S(161))}}catch(d){Z(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Dg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Zt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Og(e,t.alternate,t),t=t.sibling}function rn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qa(4,t,t.return),rn(t);break;case 1:Gt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&jg(t,t.return,a),rn(t);break;case 27:cr(t.stateNode);case 26:case 5:Gt(t,t.return),rn(t);break;case 22:t.memoizedState===null&&rn(t);break;case 30:rn(t);break;default:rn(t)}e=e.sibling}}function Wt(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,s=e,r=t,l=r.flags;switch(r.tag){case 0:case 11:case 15:Wt(s,r,a),Gr(4,r);break;case 1:if(Wt(s,r,a),n=r,s=n.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){Z(n,n.return,u)}if(n=r,s=n.updateQueue,s!==null){var o=n.stateNode;try{var c=s.shared.hiddenCallbacks;if(c!==null)for(s.shared.hiddenCallbacks=null,s=0;s<c.length;s++)Rm(c[s],o)}catch(u){Z(n,n.return,u)}}a&&l&64&&Sg(r),rr(r,r.return);break;case 27:Tg(r);case 26:case 5:Wt(s,r,a),a&&n===null&&l&4&&Eg(r),rr(r,r.return);break;case 12:Wt(s,r,a);break;case 31:Wt(s,r,a),a&&l&4&&Rg(s,r);break;case 13:Wt(s,r,a),a&&l&4&&Ug(s,r);break;case 22:r.memoizedState===null&&Wt(s,r,a),rr(r,r.return);break;case 30:break;default:Wt(s,r,a)}t=t.sibling}}function Mu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Hr(a))}function qu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hr(e))}function Rt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lg(e,t,a,n),t=t.sibling}function Lg(e,t,a,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Rt(e,t,a,n),s&2048&&Gr(9,t);break;case 1:Rt(e,t,a,n);break;case 3:Rt(e,t,a,n),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hr(e)));break;case 12:if(s&2048){Rt(e,t,a,n),e=t.stateNode;try{var r=t.memoizedProps,l=r.id,o=r.onPostCommit;typeof o=="function"&&o(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Z(t,t.return,c)}}else Rt(e,t,a,n);break;case 31:Rt(e,t,a,n);break;case 13:Rt(e,t,a,n);break;case 23:break;case 22:r=t.stateNode,l=t.alternate,t.memoizedState!==null?r._visibility&2?Rt(e,t,a,n):lr(e,t):r._visibility&2?Rt(e,t,a,n):(r._visibility|=2,qn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Mu(l,t);break;case 24:Rt(e,t,a,n),s&2048&&qu(t.alternate,t);break;default:Rt(e,t,a,n)}}function qn(e,t,a,n,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,l=t,o=a,c=n,u=l.flags;switch(l.tag){case 0:case 11:case 15:qn(r,l,o,c,s),Gr(8,l);break;case 23:break;case 22:var d=l.stateNode;l.memoizedState!==null?d._visibility&2?qn(r,l,o,c,s):lr(r,l):(d._visibility|=2,qn(r,l,o,c,s)),s&&u&2048&&Mu(l.alternate,l);break;case 24:qn(r,l,o,c,s),s&&u&2048&&qu(l.alternate,l);break;default:qn(r,l,o,c,s)}t=t.sibling}}function lr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,s=n.flags;switch(n.tag){case 22:lr(a,n),s&2048&&Mu(n.alternate,n);break;case 24:lr(a,n),s&2048&&qu(n.alternate,n);break;default:lr(a,n)}t=t.sibling}}var Is=8192;function An(e,t,a){if(e.subtreeFlags&Is)for(e=e.child;e!==null;)zg(e,t,a),e=e.sibling}function zg(e,t,a){switch(e.tag){case 26:An(e,t,a),e.flags&Is&&e.memoizedState!==null&&Jv(a,Lt,e.memoizedState,e.memoizedProps);break;case 5:An(e,t,a);break;case 3:case 4:var n=Lt;Lt=si(e.stateNode.containerInfo),An(e,t,a),Lt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Is,Is=16777216,An(e,t,a),Is=n):An(e,t,a));break;default:An(e,t,a)}}function Mg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Hs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ue=n,Bg(n,e)}Mg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qg(e),e=e.sibling}function qg(e){switch(e.tag){case 0:case 11:case 15:Hs(e),e.flags&2048&&Qa(9,e,e.return);break;case 3:Hs(e);break;case 12:Hs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Al(e)):Hs(e);break;default:Hs(e)}}function Al(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ue=n,Bg(n,e)}Mg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qa(8,t,t.return),Al(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Al(t));break;default:Al(t)}e=e.sibling}}function Bg(e,t){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Qa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Hr(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Ue=n;else e:for(a=e;Ue!==null;){n=Ue;var s=n.sibling,r=n.return;if(Ag(n),n===a){Ue=null;break e}if(s!==null){s.return=r,Ue=s;break e}Ue=r}}}var uv={getCacheForType:function(e){var t=$e(Te),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return $e(Te).controller.signal}},dv=typeof WeakMap=="function"?WeakMap:Map,I=0,te=null,P=null,G=0,F=0,st=null,Ca=!1,Ts=!1,Bu=!1,fa=0,ge=0,Ka=0,pn=0,$u=0,ut=0,ps=0,ir=null,Fe=null,pc=!1,Ti=0,$g=0,Fl=1/0,Zl=null,qa=null,Ce=0,Ba=null,ys=null,oa=0,yc=0,vc=null,Hg=null,or=0,bc=null;function mt(){return I&2&&G!==0?G&-G:L.T!==null?Pu():Xf()}function Pg(){if(ut===0)if(!(G&536870912)||V){var e=el;el<<=1,!(el&3932160)&&(el=262144),ut=e}else ut=536870912;return e=pt.current,e!==null&&(e.flags|=32),ut}function We(e,t,a){(e===te&&(F===2||F===9)||e.cancelPendingCommit!==null)&&(vs(e,0),Ra(e,G,ut,!1)),qr(e,a),(!(I&2)||e!==te)&&(e===te&&(!(I&2)&&(pn|=a),ge===4&&Ra(e,G,ut,!1)),Qt(e))}function Gg(e,t,a){if(I&6)throw Error(S(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Mr(e,t),s=n?mv(e,t):go(e,t,!0),r=n;do{if(s===0){Ts&&!n&&Ra(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!hv(a)){s=go(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var o=e;s=ir;var c=o.current.memoizedState.isDehydrated;if(c&&(vs(o,l).flags|=256),l=go(o,l,!1),l!==2){if(Bu&&!c){o.errorRecoveryDisabledLanes|=r,pn|=r,s=4;break e}r=Fe,Fe=s,r!==null&&(Fe===null?Fe=r:Fe.push.apply(Fe,r))}s=l}if(r=!1,s!==2)continue}}if(s===1){vs(e,0),Ra(e,t,0,!0);break}e:{switch(n=e,r=s,r){case 0:case 1:throw Error(S(345));case 4:if((t&4194048)!==t)break;case 6:Ra(n,t,ut,!Ca);break e;case 2:Fe=null;break;case 3:case 5:break;default:throw Error(S(329))}if((t&62914560)===t&&(s=Ti+300-dt(),10<s)){if(Ra(n,t,ut,!Ca),pi(n,0,!0)!==0)break e;oa=t,n.timeoutHandle=c0(hh.bind(null,n,a,Fe,Zl,pc,t,ut,pn,ps,Ca,r,"Throttled",-0,0),s);break e}hh(n,a,Fe,Zl,pc,t,ut,pn,ps,Ca,r,null,-0,0)}}break}while(!0);Qt(e)}function hh(e,t,a,n,s,r,l,o,c,u,d,f,h,g){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sa},zg(t,r,f);var x=(r&62914560)===r?Ti-dt():(r&4194048)===r?$g-dt():0;if(x=Xv(f,x),x!==null){oa=r,e.cancelPendingCommit=x(mh.bind(null,e,t,r,a,n,s,l,o,c,d,f,null,h,g)),Ra(e,r,l,!u);return}}mh(e,t,r,a,n,s,l,o,c)}function hv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var s=a[n],r=s.getSnapshot;s=s.value;try{if(!gt(r(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ra(e,t,a,n){t&=~$u,t&=~pn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var r=31-ft(s),l=1<<r;n[r]=-1,s&=~l}a!==0&&Kf(e,a,t)}function Oi(){return I&6?!0:(Vr(0),!1)}function Hu(){if(P!==null){if(F===0)var e=P.return;else e=P,ra=Nn=null,Nu(e),ls=null,br=0,e=P;for(;e!==null;)wg(e.alternate,e),e=e.return;P=null}}function vs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Uv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),oa=0,Hu(),te=e,P=a=la(e.current,null),G=t,F=0,st=null,Ca=!1,Ts=Mr(e,t),Bu=!1,ps=ut=$u=pn=Ka=ge=0,Fe=ir=null,pc=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var s=31-ft(n),r=1<<s;t|=e[s],n&=~r}return fa=t,xi(),a}function Vg(e,t){B=null,L.H=_r,t===Ns||t===wi?(t=Vd(),F=3):t===bu?(t=Vd(),F=4):F=t===Lu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,st=t,P===null&&(ge=1,Il(e,St(t,e.current)))}function Yg(){var e=pt.current;return e===null?!0:(G&4194048)===G?Nt===null:(G&62914560)===G||G&536870912?e===Nt:!1}function Qg(){var e=L.H;return L.H=_r,e===null?_r:e}function Kg(){var e=L.A;return L.A=uv,e}function Wl(){ge=4,Ca||(G&4194048)!==G&&pt.current!==null||(Ts=!0),!(Ka&134217727)&&!(pn&134217727)||te===null||Ra(te,G,ut,!1)}function go(e,t,a){var n=I;I|=2;var s=Qg(),r=Kg();(te!==e||G!==t)&&(Zl=null,vs(e,t)),t=!1;var l=ge;e:do try{if(F!==0&&P!==null){var o=P,c=st;switch(F){case 8:Hu(),l=6;break e;case 3:case 2:case 9:case 6:pt.current===null&&(t=!0);var u=F;if(F=0,st=null,es(e,o,c,u),a&&Ts){l=0;break e}break;default:u=F,F=0,st=null,es(e,o,c,u)}}fv(),l=ge;break}catch(d){Vg(e,d)}while(!0);return t&&e.shellSuspendCounter++,ra=Nn=null,I=n,L.H=s,L.A=r,P===null&&(te=null,G=0,xi()),l}function fv(){for(;P!==null;)Ig(P)}function mv(e,t){var a=I;I|=2;var n=Qg(),s=Kg();te!==e||G!==t?(Zl=null,Fl=dt()+500,vs(e,t)):Ts=Mr(e,t);e:do try{if(F!==0&&P!==null){t=P;var r=st;t:switch(F){case 1:F=0,st=null,es(e,t,r,1);break;case 2:case 9:if(Gd(r)){F=0,st=null,fh(t);break}t=function(){F!==2&&F!==9||te!==e||(F=7),Qt(e)},r.then(t,t);break e;case 3:F=7;break e;case 4:F=5;break e;case 7:Gd(r)?(F=0,st=null,fh(t)):(F=0,st=null,es(e,t,r,7));break;case 5:var l=null;switch(P.tag){case 26:l=P.memoizedState;case 5:case 27:var o=P;if(l?m0(l):o.stateNode.complete){F=0,st=null;var c=o.sibling;if(c!==null)P=c;else{var u=o.return;u!==null?(P=u,Ai(u)):P=null}break t}}F=0,st=null,es(e,t,r,5);break;case 6:F=0,st=null,es(e,t,r,6);break;case 8:Hu(),ge=6;break e;default:throw Error(S(462))}}gv();break}catch(d){Vg(e,d)}while(!0);return ra=Nn=null,L.H=n,L.A=s,I=a,P!==null?0:(te=null,G=0,xi(),ge)}function gv(){for(;P!==null&&!qp();)Ig(P)}function Ig(e){var t=_g(e.alternate,e,fa);e.memoizedProps=e.pendingProps,t===null?Ai(e):P=t}function fh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=lh(a,t,t.pendingProps,t.type,void 0,G);break;case 11:t=lh(a,t,t.pendingProps,t.type.render,t.ref,G);break;case 5:Nu(t);default:wg(a,t),t=P=wm(t,fa),t=_g(a,t,fa)}e.memoizedProps=e.pendingProps,t===null?Ai(e):P=t}function es(e,t,a,n){ra=Nn=null,Nu(t),ls=null,br=0;var s=t.return;try{if(nv(e,s,t,a,G)){ge=1,Il(e,St(a,e.current)),P=null;return}}catch(r){if(s!==null)throw P=s,r;ge=1,Il(e,St(a,e.current)),P=null;return}t.flags&32768?(V||n===1?e=!0:Ts||G&536870912?e=!1:(Ca=e=!0,(n===2||n===9||n===3||n===6)&&(n=pt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Jg(t,e)):Ai(t)}function Ai(e){var t=e;do{if(t.flags&32768){Jg(t,Ca);return}e=t.return;var a=lv(t.alternate,t,fa);if(a!==null){P=a;return}if(t=t.sibling,t!==null){P=t;return}P=t=e}while(t!==null);ge===0&&(ge=5)}function Jg(e,t){do{var a=iv(e.alternate,e);if(a!==null){a.flags&=32767,P=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){P=e;return}P=e=a}while(e!==null);ge=6,P=null}function mh(e,t,a,n,s,r,l,o,c){e.cancelPendingCommit=null;do Ci();while(Ce!==0);if(I&6)throw Error(S(327));if(t!==null){if(t===e.current)throw Error(S(177));if(r=t.lanes|t.childLanes,r|=hu,Ip(e,a,r,l,o,c),e===te&&(P=te=null,G=0),ys=t,Ba=e,oa=a,yc=r,vc=s,Hg=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,bv(Ml,function(){return e0(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=L.T,L.T=null,s=J.p,J.p=2,l=I,I|=4;try{ov(e,t,a)}finally{I=l,J.p=s,L.T=n}}Ce=1,Xg(),Fg(),Zg()}}function Xg(){if(Ce===1){Ce=0;var e=Ba,t=ys,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=L.T,L.T=null;var n=J.p;J.p=2;var s=I;I|=4;try{kg(t,e);var r=Sc,l=mm(e.containerInfo),o=r.focusedElem,c=r.selectionRange;if(l!==o&&o&&o.ownerDocument&&fm(o.ownerDocument.documentElement,o)){if(c!==null&&du(o)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(d,o.value.length);else{var f=o.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var g=h.getSelection(),x=o.textContent.length,v=Math.min(c.start,x),_=c.end===void 0?v:Math.min(c.end,x);!g.extend&&v>_&&(l=_,_=v,v=l);var p=zd(o,v),m=zd(o,_);if(p&&m&&(g.rangeCount!==1||g.anchorNode!==p.node||g.anchorOffset!==p.offset||g.focusNode!==m.node||g.focusOffset!==m.offset)){var y=f.createRange();y.setStart(p.node,p.offset),g.removeAllRanges(),v>_?(g.addRange(y),g.extend(m.node,m.offset)):(y.setEnd(m.node,m.offset),g.addRange(y))}}}}for(f=[],g=o;g=g.parentNode;)g.nodeType===1&&f.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var b=f[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}ii=!!wc,Sc=wc=null}finally{I=s,J.p=n,L.T=a}}e.current=t,Ce=2}}function Fg(){if(Ce===2){Ce=0;var e=Ba,t=ys,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=L.T,L.T=null;var n=J.p;J.p=2;var s=I;I|=4;try{Og(e,t.alternate,t)}finally{I=s,J.p=n,L.T=a}}Ce=3}}function Zg(){if(Ce===4||Ce===3){Ce=0,Bp();var e=Ba,t=ys,a=oa,n=Hg;t.subtreeFlags&10256||t.flags&10256?Ce=5:(Ce=0,ys=Ba=null,Wg(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(qa=null),su(a),t=t.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(zr,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=L.T,s=J.p,J.p=2,L.T=null;try{for(var r=e.onRecoverableError,l=0;l<n.length;l++){var o=n[l];r(o.value,{componentStack:o.stack})}}finally{L.T=t,J.p=s}}oa&3&&Ci(),Qt(e),s=e.pendingLanes,a&261930&&s&42?e===bc?or++:(or=0,bc=e):or=0,Vr(0)}}function Wg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Hr(t)))}function Ci(){return Xg(),Fg(),Zg(),e0()}function e0(){if(Ce!==5)return!1;var e=Ba,t=yc;yc=0;var a=su(oa),n=L.T,s=J.p;try{J.p=32>a?32:a,L.T=null,a=vc,vc=null;var r=Ba,l=oa;if(Ce=0,ys=Ba=null,oa=0,I&6)throw Error(S(331));var o=I;if(I|=4,qg(r.current),Lg(r,r.current,l,a),I=o,Vr(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(zr,r)}catch{}return!0}finally{J.p=s,L.T=n,Wg(e,t)}}function gh(e,t,a){t=St(a,t),t=hc(e.stateNode,t,2),e=Ma(e,t,2),e!==null&&(qr(e,2),Qt(e))}function Z(e,t,a){if(e.tag===3)gh(e,e,a);else for(;t!==null;){if(t.tag===3){gh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qa===null||!qa.has(n))){e=St(a,e),a=gg(2),n=Ma(t,a,2),n!==null&&(pg(a,n,t,e),qr(n,2),Qt(n));break}}t=t.return}}function po(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new dv;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(a)||(Bu=!0,s.add(a),e=pv.bind(null,e,t,a),t.then(e,e))}function pv(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(G&a)===a&&(ge===4||ge===3&&(G&62914560)===G&&300>dt()-Ti?!(I&2)&&vs(e,0):$u|=a,ps===G&&(ps=0)),Qt(e)}function t0(e,t){t===0&&(t=Qf()),e=En(e,t),e!==null&&(qr(e,t),Qt(e))}function yv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),t0(e,a)}function vv(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(S(314))}n!==null&&n.delete(t),t0(e,a)}function bv(e,t){return au(e,t)}var ei=null,Bn=null,xc=!1,ti=!1,yo=!1,Ua=0;function Qt(e){e!==Bn&&e.next===null&&(Bn===null?ei=Bn=e:Bn=Bn.next=e),ti=!0,xc||(xc=!0,_v())}function Vr(e,t){if(!yo&&ti){yo=!0;do for(var a=!1,n=ei;n!==null;){if(e!==0){var s=n.pendingLanes;if(s===0)var r=0;else{var l=n.suspendedLanes,o=n.pingedLanes;r=(1<<31-ft(42|e)+1)-1,r&=s&~(l&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,ph(n,r))}else r=G,r=pi(n,n===te?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(r&3)||Mr(n,r)||(a=!0,ph(n,r));n=n.next}while(a);yo=!1}}function xv(){a0()}function a0(){ti=xc=!1;var e=0;Ua!==0&&Rv()&&(e=Ua);for(var t=dt(),a=null,n=ei;n!==null;){var s=n.next,r=n0(n,t);r===0?(n.next=null,a===null?ei=s:a.next=s,s===null&&(Bn=a)):(a=n,(e!==0||r&3)&&(ti=!0)),n=s}Ce!==0&&Ce!==5||Vr(e),Ua!==0&&(Ua=0)}function n0(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var l=31-ft(r),o=1<<l,c=s[l];c===-1?(!(o&a)||o&n)&&(s[l]=Kp(o,t)):c<=t&&(e.expiredLanes|=o),r&=~o}if(t=te,a=G,a=pi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(F===2||F===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Vi(n),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Mr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Vi(n),su(a)){case 2:case 8:a=Vf;break;case 32:a=Ml;break;case 268435456:a=Yf;break;default:a=Ml}return n=s0.bind(null,e),a=au(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Vi(n),e.callbackPriority=2,e.callbackNode=null,2}function s0(e,t){if(Ce!==0&&Ce!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ci()&&e.callbackNode!==a)return null;var n=G;return n=pi(e,e===te?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Gg(e,n,t),n0(e,dt()),e.callbackNode!=null&&e.callbackNode===a?s0.bind(null,e):null)}function ph(e,t){if(Ci())return null;Gg(e,t,!0)}function _v(){kv(function(){I&6?au(Gf,xv):a0()})}function Pu(){if(Ua===0){var e=fs;e===0&&(e=Wr,Wr<<=1,!(Wr&261888)&&(Wr=256)),Ua=e}return Ua}function yh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xl(""+e)}function vh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function wv(e,t,a,n,s){if(t==="submit"&&a&&a.stateNode===s){var r=yh((s[et]||null).action),l=n.submitter;l&&(t=(t=l[et]||null)?yh(t.formAction):l.getAttribute("formAction"),t!==null&&(r=t,l=null));var o=new yi("action","action",null,n,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ua!==0){var c=l?vh(s,l):new FormData(s);uc(a,{pending:!0,data:c,method:s.method,action:r},null,c)}}else typeof r=="function"&&(o.preventDefault(),c=l?vh(s,l):new FormData(s),uc(a,{pending:!0,data:c,method:s.method,action:r},r,c))},currentTarget:s}]})}}for(var vo=0;vo<Zo.length;vo++){var bo=Zo[vo],Sv=bo.toLowerCase(),jv=bo[0].toUpperCase()+bo.slice(1);qt(Sv,"on"+jv)}qt(pm,"onAnimationEnd");qt(ym,"onAnimationIteration");qt(vm,"onAnimationStart");qt("dblclick","onDoubleClick");qt("focusin","onFocus");qt("focusout","onBlur");qt($y,"onTransitionRun");qt(Hy,"onTransitionStart");qt(Py,"onTransitionCancel");qt(bm,"onTransitionEnd");ds("onMouseEnter",["mouseout","mouseover"]);ds("onMouseLeave",["mouseout","mouseover"]);ds("onPointerEnter",["pointerout","pointerover"]);ds("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ev=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wr));function r0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],s=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=u;try{r(s)}catch(d){Bl(d)}s.currentTarget=null,r=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=u;try{r(s)}catch(d){Bl(d)}s.currentTarget=null,r=c}}}}function H(e,t){var a=t[Vo];a===void 0&&(a=t[Vo]=new Set);var n=e+"__bubble";a.has(n)||(l0(t,e,2,!1),a.add(n))}function xo(e,t,a){var n=0;t&&(n|=4),l0(a,e,n,t)}var cl="_reactListening"+Math.random().toString(36).slice(2);function Gu(e){if(!e[cl]){e[cl]=!0,Ff.forEach(function(a){a!=="selectionchange"&&(Ev.has(a)||xo(a,!1,e),xo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cl]||(t[cl]=!0,xo("selectionchange",!1,t))}}function l0(e,t,a,n){switch(b0(t)){case 2:var s=Wv;break;case 8:s=eb;break;default:s=Ku}a=s.bind(null,t,a,e),s=void 0,!Jo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function _o(e,t,a,n,s){var r=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&l.stateNode.containerInfo===s)return;l=l.return}for(;o!==null;){if(l=Yn(o),l===null)return;if(c=l.tag,c===5||c===6||c===26||c===27){n=r=l;continue e}o=o.parentNode}}n=n.return}rm(function(){var u=r,d=iu(a),f=[];e:{var h=xm.get(e);if(h!==void 0){var g=yi,x=e;switch(e){case"keypress":if(wl(a)===0)break e;case"keydown":case"keyup":g=vy;break;case"focusin":x="focus",g=Ji;break;case"focusout":x="blur",g=Ji;break;case"beforeblur":case"afterblur":g=Ji;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_y;break;case pm:case ym:case vm:g=cy;break;case bm:g=Sy;break;case"scroll":case"scrollend":g=sy;break;case"wheel":g=Ey;break;case"copy":case"cut":case"paste":g=dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Od;break;case"toggle":case"beforetoggle":g=Ty}var v=(t&4)!==0,_=!v&&(e==="scroll"||e==="scrollend"),p=v?h!==null?h+"Capture":null:h;v=[];for(var m=u,y;m!==null;){var b=m;if(y=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||y===null||p===null||(b=mr(m,p),b!=null&&v.push(Sr(m,b,y))),_)break;m=m.return}0<v.length&&(h=new g(h,x,null,a,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&a!==Io&&(x=a.relatedTarget||a.fromElement)&&(Yn(x)||x[Ss]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(x=a.relatedTarget||a.toElement,g=u,x=x?Yn(x):null,x!==null&&(_=Lr(x),v=x.tag,x!==_||v!==5&&v!==27&&v!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=Nd,b="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=Od,b="onPointerLeave",p="onPointerEnter",m="pointer"),_=g==null?h:Qs(g),y=x==null?h:Qs(x),h=new v(b,m+"leave",g,a,d),h.target=_,h.relatedTarget=y,b=null,Yn(d)===u&&(v=new v(p,m+"enter",x,a,d),v.target=y,v.relatedTarget=_,b=v),_=b,g&&x)t:{for(v=Nv,p=g,m=x,y=0,b=p;b;b=v(b))y++;b=0;for(var j=m;j;j=v(j))b++;for(;0<y-b;)p=v(p),y--;for(;0<b-y;)m=v(m),b--;for(;y--;){if(p===m||m!==null&&p===m.alternate){v=p;break t}p=v(p),m=v(m)}v=null}else v=null;g!==null&&bh(f,h,g,v,!1),x!==null&&_!==null&&bh(f,_,x,v,!0)}}e:{if(h=u?Qs(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=Ud;else if(Rd(h))if(dm)N=My;else{N=Ly;var E=Dy}else g=h.nodeName,!g||g.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&lu(u.elementType)&&(N=Ud):N=zy;if(N&&(N=N(e,u))){um(f,N,a,d);break e}E&&E(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&Ko(h,"number",h.value)}switch(E=u?Qs(u):window,e){case"focusin":(Rd(E)||E.contentEditable==="true")&&(In=E,Xo=u,Ws=null);break;case"focusout":Ws=Xo=In=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,Md(f,a,d);break;case"selectionchange":if(By)break;case"keydown":case"keyup":Md(f,a,d)}var A;if(uu)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Kn?om(e,a)&&(U="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(U="onCompositionStart");U&&(im&&a.locale!=="ko"&&(Kn||U!=="onCompositionStart"?U==="onCompositionEnd"&&Kn&&(A=lm()):(Aa=d,ou="value"in Aa?Aa.value:Aa.textContent,Kn=!0)),E=ai(u,U),0<E.length&&(U=new Td(U,e,null,a,d),f.push({event:U,listeners:E}),A?U.data=A:(A=cm(a),A!==null&&(U.data=A)))),(A=Ay?Cy(e,a):Ry(e,a))&&(U=ai(u,"onBeforeInput"),0<U.length&&(E=new Td("onBeforeInput","beforeinput",null,a,d),f.push({event:E,listeners:U}),E.data=A)),wv(f,e,u,a,d)}r0(f,t)})}function Sr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ai(e,t){for(var a=t+"Capture",n=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=mr(e,a),s!=null&&n.unshift(Sr(e,s,r)),s=mr(e,t),s!=null&&n.push(Sr(e,s,r))),e.tag===3)return n;e=e.return}return[]}function Nv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bh(e,t,a,n,s){for(var r=t._reactName,l=[];a!==null&&a!==n;){var o=a,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===n)break;o!==5&&o!==26&&o!==27||u===null||(c=u,s?(u=mr(a,r),u!=null&&l.unshift(Sr(a,u,c))):s||(u=mr(a,r),u!=null&&l.push(Sr(a,u,c)))),a=a.return}l.length!==0&&e.push({event:t,listeners:l})}var Tv=/\r\n?/g,Ov=/\u0000|\uFFFD/g;function xh(e){return(typeof e=="string"?e:""+e).replace(Tv,`
`).replace(Ov,"")}function i0(e,t){return t=xh(t),xh(e)===t}function W(e,t,a,n,s,r){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||hs(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&hs(e,""+n);break;case"className":al(e,"class",n);break;case"tabIndex":al(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":al(e,a,n);break;case"style":sm(e,n,r);break;case"data":if(t!=="object"){al(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=xl(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&W(e,t,"name",s.name,s,null),W(e,t,"formEncType",s.formEncType,s,null),W(e,t,"formMethod",s.formMethod,s,null),W(e,t,"formTarget",s.formTarget,s,null)):(W(e,t,"encType",s.encType,s,null),W(e,t,"method",s.method,s,null),W(e,t,"target",s.target,s,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=xl(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=sa);break;case"onScroll":n!=null&&H("scroll",e);break;case"onScrollEnd":n!=null&&H("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(S(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(S(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=xl(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":H("beforetoggle",e),H("toggle",e),bl(e,"popover",n);break;case"xlinkActuate":Jt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Jt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Jt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Jt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Jt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Jt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":bl(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ay.get(a)||a,bl(e,a,n))}}function _c(e,t,a,n,s,r){switch(a){case"style":sm(e,n,r);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(S(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(S(60));e.innerHTML=a}}break;case"children":typeof n=="string"?hs(e,n):(typeof n=="number"||typeof n=="bigint")&&hs(e,""+n);break;case"onScroll":n!=null&&H("scroll",e);break;case"onScrollEnd":n!=null&&H("scrollend",e);break;case"onClick":n!=null&&(e.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),r=e[et]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof n=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,s);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):bl(e,a,n)}}}function He(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":H("error",e),H("load",e);var n=!1,s=!1,r;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];if(l!=null)switch(r){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:W(e,t,r,l,a,null)}}s&&W(e,t,"srcSet",a.srcSet,a,null),n&&W(e,t,"src",a.src,a,null);return;case"input":H("invalid",e);var o=r=l=s=null,c=null,u=null;for(n in a)if(a.hasOwnProperty(n)){var d=a[n];if(d!=null)switch(n){case"name":s=d;break;case"type":l=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(S(137,t));break;default:W(e,t,n,d,a,null)}}tm(e,r,o,c,u,l,s,!1);return;case"select":H("invalid",e),n=l=r=null;for(s in a)if(a.hasOwnProperty(s)&&(o=a[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":l=o;break;case"multiple":n=o;default:W(e,t,s,o,a,null)}t=r,a=l,e.multiple=!!n,t!=null?ns(e,!!n,t,!1):a!=null&&ns(e,!!n,a,!0);return;case"textarea":H("invalid",e),r=s=n=null;for(l in a)if(a.hasOwnProperty(l)&&(o=a[l],o!=null))switch(l){case"value":n=o;break;case"defaultValue":s=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(S(91));break;default:W(e,t,l,o,a,null)}nm(e,n,s,r);return;case"option":for(c in a)if(a.hasOwnProperty(c)&&(n=a[c],n!=null))switch(c){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:W(e,t,c,n,a,null)}return;case"dialog":H("beforetoggle",e),H("toggle",e),H("cancel",e),H("close",e);break;case"iframe":case"object":H("load",e);break;case"video":case"audio":for(n=0;n<wr.length;n++)H(wr[n],e);break;case"image":H("error",e),H("load",e);break;case"details":H("toggle",e);break;case"embed":case"source":case"link":H("error",e),H("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:W(e,t,u,n,a,null)}return;default:if(lu(t)){for(d in a)a.hasOwnProperty(d)&&(n=a[d],n!==void 0&&_c(e,t,d,n,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(n=a[o],n!=null&&W(e,t,o,n,a,null))}function Av(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,l=null,o=null,c=null,u=null,d=null;for(g in a){var f=a[g];if(a.hasOwnProperty(g)&&f!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=f;default:n.hasOwnProperty(g)||W(e,t,g,null,n,f)}}for(var h in n){var g=n[h];if(f=a[h],n.hasOwnProperty(h)&&(g!=null||f!=null))switch(h){case"type":r=g;break;case"name":s=g;break;case"checked":u=g;break;case"defaultChecked":d=g;break;case"value":l=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(S(137,t));break;default:g!==f&&W(e,t,h,g,n,f)}}Qo(e,l,o,c,u,d,r,s);return;case"select":g=l=o=h=null;for(r in a)if(c=a[r],a.hasOwnProperty(r)&&c!=null)switch(r){case"value":break;case"multiple":g=c;default:n.hasOwnProperty(r)||W(e,t,r,null,n,c)}for(s in n)if(r=n[s],c=a[s],n.hasOwnProperty(s)&&(r!=null||c!=null))switch(s){case"value":h=r;break;case"defaultValue":o=r;break;case"multiple":l=r;default:r!==c&&W(e,t,s,r,n,c)}t=o,a=l,n=g,h!=null?ns(e,!!a,h,!1):!!n!=!!a&&(t!=null?ns(e,!!a,t,!0):ns(e,!!a,a?[]:"",!1));return;case"textarea":g=h=null;for(o in a)if(s=a[o],a.hasOwnProperty(o)&&s!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:W(e,t,o,null,n,s)}for(l in n)if(s=n[l],r=a[l],n.hasOwnProperty(l)&&(s!=null||r!=null))switch(l){case"value":h=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(S(91));break;default:s!==r&&W(e,t,l,s,n,r)}am(e,h,g);return;case"option":for(var x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!n.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:W(e,t,x,null,n,h)}for(c in n)if(h=n[c],g=a[c],n.hasOwnProperty(c)&&h!==g&&(h!=null||g!=null))switch(c){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:W(e,t,c,h,n,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in a)h=a[v],a.hasOwnProperty(v)&&h!=null&&!n.hasOwnProperty(v)&&W(e,t,v,null,n,h);for(u in n)if(h=n[u],g=a[u],n.hasOwnProperty(u)&&h!==g&&(h!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(S(137,t));break;default:W(e,t,u,h,n,g)}return;default:if(lu(t)){for(var _ in a)h=a[_],a.hasOwnProperty(_)&&h!==void 0&&!n.hasOwnProperty(_)&&_c(e,t,_,void 0,n,h);for(d in n)h=n[d],g=a[d],!n.hasOwnProperty(d)||h===g||h===void 0&&g===void 0||_c(e,t,d,h,n,g);return}}for(var p in a)h=a[p],a.hasOwnProperty(p)&&h!=null&&!n.hasOwnProperty(p)&&W(e,t,p,null,n,h);for(f in n)h=n[f],g=a[f],!n.hasOwnProperty(f)||h===g||h==null&&g==null||W(e,t,f,h,n,g)}function _h(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var s=a[n],r=s.transferSize,l=s.initiatorType,o=s.duration;if(r&&o&&_h(l)){for(l=0,o=s.responseEnd,n+=1;n<a.length;n++){var c=a[n],u=c.startTime;if(u>o)break;var d=c.transferSize,f=c.initiatorType;d&&_h(f)&&(c=c.responseEnd,l+=d*(c<o?1:(o-u)/(c-u)))}if(--n,t+=8*(r+l)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wc=null,Sc=null;function ni(e){return e.nodeType===9?e:e.ownerDocument}function wh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function jc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wo=null;function Rv(){var e=window.event;return e&&e.type==="popstate"?e===wo?!1:(wo=e,!0):(wo=null,!1)}var c0=typeof setTimeout=="function"?setTimeout:void 0,Uv=typeof clearTimeout=="function"?clearTimeout:void 0,Sh=typeof Promise=="function"?Promise:void 0,kv=typeof queueMicrotask=="function"?queueMicrotask:typeof Sh<"u"?function(e){return Sh.resolve(null).then(e).catch(Dv)}:c0;function Dv(e){setTimeout(function(){throw e})}function Ja(e){return e==="head"}function jh(e,t){var a=t,n=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(s),xs(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")cr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,cr(a);for(var r=a.firstChild;r;){var l=r.nextSibling,o=r.nodeName;r[Br]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||a.removeChild(r),r=l}}else a==="body"&&cr(e.ownerDocument.body);a=s}while(a);xs(t)}function Eh(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Ec(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ec(a),ru(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Lv(e,t,a,n){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Br])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Tt(e.nextSibling),e===null)break}return null}function zv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Tt(e.nextSibling),e===null))return null;return e}function u0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Tt(e.nextSibling),e===null))return null;return e}function Nc(e){return e.data==="$?"||e.data==="$~"}function Tc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Mv(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Tt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Oc=null;function Nh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Tt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Th(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function d0(e,t,a){switch(t=ni(a),e){case"html":if(e=t.documentElement,!e)throw Error(S(452));return e;case"head":if(e=t.head,!e)throw Error(S(453));return e;case"body":if(e=t.body,!e)throw Error(S(454));return e;default:throw Error(S(451))}}function cr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ru(e)}var Ot=new Map,Oh=new Set;function si(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ma=J.d;J.d={f:qv,r:Bv,D:$v,C:Hv,L:Pv,m:Gv,X:Yv,S:Vv,M:Qv};function qv(){var e=ma.f(),t=Oi();return e||t}function Bv(e){var t=js(e);t!==null&&t.tag===5&&t.type==="form"?sg(t):ma.r(e)}var Os=typeof document>"u"?null:document;function h0(e,t,a){var n=Os;if(n&&typeof t=="string"&&t){var s=wt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),Oh.has(s)||(Oh.add(s),e={rel:e,crossOrigin:a,href:t},n.querySelector(s)===null&&(t=n.createElement("link"),He(t,"link",e),ke(t),n.head.appendChild(t)))}}function $v(e){ma.D(e),h0("dns-prefetch",e,null)}function Hv(e,t){ma.C(e,t),h0("preconnect",e,t)}function Pv(e,t,a){ma.L(e,t,a);var n=Os;if(n&&e&&t){var s='link[rel="preload"][as="'+wt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+wt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+wt(a.imageSizes)+'"]')):s+='[href="'+wt(e)+'"]';var r=s;switch(t){case"style":r=bs(e);break;case"script":r=As(e)}Ot.has(r)||(e=ce({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ot.set(r,e),n.querySelector(s)!==null||t==="style"&&n.querySelector(Yr(r))||t==="script"&&n.querySelector(Qr(r))||(t=n.createElement("link"),He(t,"link",e),ke(t),n.head.appendChild(t)))}}function Gv(e,t){ma.m(e,t);var a=Os;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+wt(n)+'"][href="'+wt(e)+'"]',r=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=As(e)}if(!Ot.has(r)&&(e=ce({rel:"modulepreload",href:e},t),Ot.set(r,e),a.querySelector(s)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Qr(r)))return}n=a.createElement("link"),He(n,"link",e),ke(n),a.head.appendChild(n)}}}function Vv(e,t,a){ma.S(e,t,a);var n=Os;if(n&&e){var s=as(n).hoistableStyles,r=bs(e);t=t||"default";var l=s.get(r);if(!l){var o={loading:0,preload:null};if(l=n.querySelector(Yr(r)))o.loading=5;else{e=ce({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ot.get(r))&&Vu(e,a);var c=l=n.createElement("link");ke(c),He(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Cl(l,t,n)}l={type:"stylesheet",instance:l,count:1,state:o},s.set(r,l)}}}function Yv(e,t){ma.X(e,t);var a=Os;if(a&&e){var n=as(a).hoistableScripts,s=As(e),r=n.get(s);r||(r=a.querySelector(Qr(s)),r||(e=ce({src:e,async:!0},t),(t=Ot.get(s))&&Yu(e,t),r=a.createElement("script"),ke(r),He(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(s,r))}}function Qv(e,t){ma.M(e,t);var a=Os;if(a&&e){var n=as(a).hoistableScripts,s=As(e),r=n.get(s);r||(r=a.querySelector(Qr(s)),r||(e=ce({src:e,async:!0,type:"module"},t),(t=Ot.get(s))&&Yu(e,t),r=a.createElement("script"),ke(r),He(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(s,r))}}function Ah(e,t,a,n){var s=(s=Da.current)?si(s):null;if(!s)throw Error(S(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=bs(a.href),a=as(s).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=bs(a.href);var r=as(s).hoistableStyles,l=r.get(e);if(l||(s=s.ownerDocument||s,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,l),(r=s.querySelector(Yr(e)))&&!r._p&&(l.instance=r,l.state.loading=5),Ot.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ot.set(e,a),r||Kv(s,e,a,l.state))),t&&n===null)throw Error(S(528,""));return l}if(t&&n!==null)throw Error(S(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=As(a),a=as(s).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(S(444,e))}}function bs(e){return'href="'+wt(e)+'"'}function Yr(e){return'link[rel="stylesheet"]['+e+"]"}function f0(e){return ce({},e,{"data-precedence":e.precedence,precedence:null})}function Kv(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),He(t,"link",a),ke(t),e.head.appendChild(t))}function As(e){return'[src="'+wt(e)+'"]'}function Qr(e){return"script[async]"+e}function Ch(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+wt(a.href)+'"]');if(n)return t.instance=n,ke(n),n;var s=ce({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),ke(n),He(n,"style",s),Cl(n,a.precedence,e),t.instance=n;case"stylesheet":s=bs(a.href);var r=e.querySelector(Yr(s));if(r)return t.state.loading|=4,t.instance=r,ke(r),r;n=f0(a),(s=Ot.get(s))&&Vu(n,s),r=(e.ownerDocument||e).createElement("link"),ke(r);var l=r;return l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),He(r,"link",n),t.state.loading|=4,Cl(r,a.precedence,e),t.instance=r;case"script":return r=As(a.src),(s=e.querySelector(Qr(r)))?(t.instance=s,ke(s),s):(n=a,(s=Ot.get(r))&&(n=ce({},a),Yu(n,s)),e=e.ownerDocument||e,s=e.createElement("script"),ke(s),He(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(S(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Cl(n,a.precedence,e));return t.instance}function Cl(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,r=s,l=0;l<n.length;l++){var o=n[l];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Vu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Yu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Rl=null;function Rh(e,t,a){if(Rl===null){var n=new Map,s=Rl=new Map;s.set(a,n)}else s=Rl,n=s.get(a),n||(n=new Map,s.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var r=a[s];if(!(r[Br]||r[qe]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var l=r.getAttribute(t)||"";l=e+l;var o=n.get(l);o?o.push(r):n.set(l,[r])}}return n}function Uh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Iv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function m0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Jv(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var s=bs(n.href),r=t.querySelector(Yr(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ri.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=r,ke(r);return}r=t.ownerDocument||t,n=f0(n),(s=Ot.get(s))&&Vu(n,s),r=r.createElement("link"),ke(r);var l=r;l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),He(r,"link",n),a.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=ri.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var So=0;function Xv(e,t){return e.stylesheets&&e.count===0&&Ul(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Ul(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&So===0&&(So=62500*Cv());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ul(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>So?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(s)}}:null}function ri(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ul(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var li=null;function Ul(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,li=new Map,t.forEach(Fv,e),li=null,ri.call(e))}function Fv(e,t){if(!(t.state.loading&4)){var a=li.get(e);if(a)var n=a.get(null);else{a=new Map,li.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var l=s[r];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(a.set(l.dataset.precedence,l),n=l)}n&&a.set(null,n)}s=t.instance,l=s.getAttribute("data-precedence"),r=a.get(l)||n,r===n&&a.set(null,s),a.set(l,s),this.count++,n=ri.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var jr={$$typeof:na,Provider:null,Consumer:null,_currentValue:hn,_currentValue2:hn,_threadCount:0};function Zv(e,t,a,n,s,r,l,o,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.hiddenUpdates=Yi(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function g0(e,t,a,n,s,r,l,o,c,u,d,f){return e=new Zv(e,t,a,l,c,u,d,f,o),t=1,r===!0&&(t|=24),r=lt(3,null,null,t),e.current=r,r.stateNode=e,t=yu(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:n,isDehydrated:a,cache:t},xu(r),e}function p0(e){return e?(e=Fn,e):Fn}function y0(e,t,a,n,s,r){s=p0(s),n.context===null?n.context=s:n.pendingContext=s,n=za(t),n.payload={element:a},r=r===void 0?null:r,r!==null&&(n.callback=r),a=Ma(e,n,t),a!==null&&(We(a,e,t),tr(a,e,t))}function kh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Qu(e,t){kh(e,t),(e=e.alternate)&&kh(e,t)}function v0(e){if(e.tag===13||e.tag===31){var t=En(e,67108864);t!==null&&We(t,e,67108864),Qu(e,67108864)}}function Dh(e){if(e.tag===13||e.tag===31){var t=mt();t=nu(t);var a=En(e,t);a!==null&&We(a,e,t),Qu(e,t)}}var ii=!0;function Wv(e,t,a,n){var s=L.T;L.T=null;var r=J.p;try{J.p=2,Ku(e,t,a,n)}finally{J.p=r,L.T=s}}function eb(e,t,a,n){var s=L.T;L.T=null;var r=J.p;try{J.p=8,Ku(e,t,a,n)}finally{J.p=r,L.T=s}}function Ku(e,t,a,n){if(ii){var s=Ac(n);if(s===null)_o(e,t,n,oi,a),Lh(e,n);else if(ab(s,e,t,a,n))n.stopPropagation();else if(Lh(e,n),t&4&&-1<tb.indexOf(e)){for(;s!==null;){var r=js(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var l=nn(r.pendingLanes);if(l!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;l;){var c=1<<31-ft(l);o.entanglements[1]|=c,l&=~c}Qt(r),!(I&6)&&(Fl=dt()+500,Vr(0))}}break;case 31:case 13:o=En(r,2),o!==null&&We(o,r,2),Oi(),Qu(r,2)}if(r=Ac(n),r===null&&_o(e,t,n,oi,a),r===s)break;s=r}s!==null&&n.stopPropagation()}else _o(e,t,n,null,a)}}function Ac(e){return e=iu(e),Iu(e)}var oi=null;function Iu(e){if(oi=null,e=Yn(e),e!==null){var t=Lr(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=qf(t),e!==null)return e;e=null}else if(a===31){if(e=Bf(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oi=e,null}function b0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($p()){case Gf:return 2;case Vf:return 8;case Ml:case Hp:return 32;case Yf:return 268435456;default:return 32}default:return 32}}var Cc=!1,$a=null,Ha=null,Pa=null,Er=new Map,Nr=new Map,Na=[],tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(t.pointerId)}}function Ps(e,t,a,n,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},t!==null&&(t=js(t),t!==null&&v0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ab(e,t,a,n,s){switch(t){case"focusin":return $a=Ps($a,e,t,a,n,s),!0;case"dragenter":return Ha=Ps(Ha,e,t,a,n,s),!0;case"mouseover":return Pa=Ps(Pa,e,t,a,n,s),!0;case"pointerover":var r=s.pointerId;return Er.set(r,Ps(Er.get(r)||null,e,t,a,n,s)),!0;case"gotpointercapture":return r=s.pointerId,Nr.set(r,Ps(Nr.get(r)||null,e,t,a,n,s)),!0}return!1}function x0(e){var t=Yn(e.target);if(t!==null){var a=Lr(t);if(a!==null){if(t=a.tag,t===13){if(t=qf(a),t!==null){e.blockedOn=t,bd(e.priority,function(){Dh(a)});return}}else if(t===31){if(t=Bf(a),t!==null){e.blockedOn=t,bd(e.priority,function(){Dh(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ac(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Io=n,a.target.dispatchEvent(n),Io=null}else return t=js(a),t!==null&&v0(t),e.blockedOn=a,!1;t.shift()}return!0}function zh(e,t,a){kl(e)&&a.delete(t)}function nb(){Cc=!1,$a!==null&&kl($a)&&($a=null),Ha!==null&&kl(Ha)&&(Ha=null),Pa!==null&&kl(Pa)&&(Pa=null),Er.forEach(zh),Nr.forEach(zh)}function ul(e,t){e.blockedOn===t&&(e.blockedOn=null,Cc||(Cc=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,nb)))}var dl=null;function Mh(e){dl!==e&&(dl=e,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,function(){dl===e&&(dl=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],s=e[t+2];if(typeof n!="function"){if(Iu(n||a)===null)continue;break}var r=js(a);r!==null&&(e.splice(t,3),t-=3,uc(r,{pending:!0,data:s,method:a.method,action:n},n,s))}}))}function xs(e){function t(c){return ul(c,e)}$a!==null&&ul($a,e),Ha!==null&&ul(Ha,e),Pa!==null&&ul(Pa,e),Er.forEach(t),Nr.forEach(t);for(var a=0;a<Na.length;a++){var n=Na[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Na.length&&(a=Na[0],a.blockedOn===null);)x0(a),a.blockedOn===null&&Na.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var s=a[n],r=a[n+1],l=s[et]||null;if(typeof r=="function")l||Mh(a);else if(l){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,l=r[et]||null)o=l.formAction;else if(Iu(s)!==null)continue}else o=l.action;typeof o=="function"?a[n+1]=o:(a.splice(n,3),n-=3),Mh(a)}}}function _0(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(l){return s=l})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Ju(e){this._internalRoot=e}Ri.prototype.render=Ju.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));var a=t.current,n=mt();y0(a,n,e,t,null,null)};Ri.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;y0(e.current,2,null,e,null,null),Oi(),t[Ss]=null}};function Ri(e){this._internalRoot=e}Ri.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xf();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Na.length&&t!==0&&t<Na[a].priority;a++);Na.splice(a,0,e),a===0&&x0(e)}};var qh=zf.version;if(qh!=="19.2.3")throw Error(S(527,qh,"19.2.3"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=kp(t),e=e!==null?$f(e):null,e=e===null?null:e.stateNode,e};var sb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{zr=hl.inject(sb),ht=hl}catch{}}mi.createRoot=function(e,t){if(!Mf(e))throw Error(S(299));var a=!1,n="",s=hg,r=fg,l=mg;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=g0(e,1,!1,null,null,a,n,null,s,r,l,_0),e[Ss]=t.current,Gu(e),new Ju(t)};mi.hydrateRoot=function(e,t,a){if(!Mf(e))throw Error(S(299));var n=!1,s="",r=hg,l=fg,o=mg,c=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(l=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.formState!==void 0&&(c=a.formState)),t=g0(e,1,!0,t,a??null,n,s,c,r,l,o,_0),t.context=p0(null),a=t.current,n=mt(),n=nu(n),s=za(n),s.callback=null,Ma(a,s,n),a=n,t.current.lanes=a,qr(t,a),Qt(t),e[Ss]=t.current,Gu(e),new Ri(t)};mi.version="19.2.3";function w0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w0)}catch(e){console.error(e)}}w0(),Cf.exports=mi;var rb=Cf.exports;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Tr.apply(this,arguments)}var ka;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ka||(ka={}));const Bh="popstate";function lb(e){e===void 0&&(e={});function t(n,s){let{pathname:r,search:l,hash:o}=n.location;return Rc("",{pathname:r,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function a(n,s){return typeof s=="string"?s:ci(s)}return ob(t,a,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ib(){return Math.random().toString(36).substr(2,8)}function $h(e,t){return{usr:e.state,key:e.key,idx:t}}function Rc(e,t,a,n){return a===void 0&&(a=null),Tr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cs(t):t,{state:a,key:t&&t.key||n||ib()})}function ci(e){let{pathname:t="/",search:a="",hash:n=""}=e;return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cs(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ob(e,t,a,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:r=!1}=n,l=s.history,o=ka.Pop,c=null,u=d();u==null&&(u=0,l.replaceState(Tr({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function f(){o=ka.Pop;let _=d(),p=_==null?null:_-u;u=_,c&&c({action:o,location:v.location,delta:p})}function h(_,p){o=ka.Push;let m=Rc(v.location,_,p);u=d()+1;let y=$h(m,u),b=v.createHref(m);try{l.pushState(y,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(b)}r&&c&&c({action:o,location:v.location,delta:1})}function g(_,p){o=ka.Replace;let m=Rc(v.location,_,p);u=d();let y=$h(m,u),b=v.createHref(m);l.replaceState(y,"",b),r&&c&&c({action:o,location:v.location,delta:0})}function x(_){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof _=="string"?_:ci(_);return m=m.replace(/ $/,"%20"),be(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let v={get action(){return o},get location(){return e(s,l)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Bh,f),c=_,()=>{s.removeEventListener(Bh,f),c=null}},createHref(_){return t(s,_)},createURL:x,encodeLocation(_){let p=x(_);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:g,go(_){return l.go(_)}};return v}var Hh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hh||(Hh={}));function cb(e,t,a){return a===void 0&&(a="/"),ub(e,t,a)}function ub(e,t,a,n){let s=typeof t=="string"?Cs(t):t,r=Fu(s.pathname||"/",a);if(r==null)return null;let l=S0(e);db(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=Sb(r);o=xb(l[c],u)}return o}function S0(e,t,a,n){t===void 0&&(t=[]),a===void 0&&(a=[]),n===void 0&&(n="");let s=(r,l,o)=>{let c={relativePath:o===void 0?r.path||"":o,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};c.relativePath.startsWith("/")&&(be(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ga([n,c.relativePath]),d=a.concat(c);r.children&&r.children.length>0&&(be(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),S0(r.children,t,d,u)),!(r.path==null&&!r.index)&&t.push({path:u,score:vb(u,r.index),routesMeta:d})};return e.forEach((r,l)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))s(r,l);else for(let c of j0(r.path))s(r,l,c)}),t}function j0(e){let t=e.split("/");if(t.length===0)return[];let[a,...n]=t,s=a.endsWith("?"),r=a.replace(/\?$/,"");if(n.length===0)return s?[r,""]:[r];let l=j0(n.join("/")),o=[];return o.push(...l.map(c=>c===""?r:[r,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function db(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:bb(t.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}const hb=/^:[\w-]+$/,fb=3,mb=2,gb=1,pb=10,yb=-2,Ph=e=>e==="*";function vb(e,t){let a=e.split("/"),n=a.length;return a.some(Ph)&&(n+=yb),t&&(n+=mb),a.filter(s=>!Ph(s)).reduce((s,r)=>s+(hb.test(r)?fb:r===""?gb:pb),n)}function bb(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function xb(e,t,a){let{routesMeta:n}=e,s={},r="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=r==="/"?t:t.slice(r.length)||"/",f=_b({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),l.push({params:s,pathname:Ga([r,f.pathname]),pathnameBase:Ob(Ga([r,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(r=Ga([r,f.pathnameBase]))}return l}function _b(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=wb(e.path,e.caseSensitive,e.end),s=t.match(a);if(!s)return null;let r=s[0],l=r.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let v=o[f]||"";l=r.slice(0,r.length-v.length).replace(/(.)\/+$/,"$1")}const x=o[f];return g&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:l,pattern:e}}function wb(e,t,a){t===void 0&&(t=!1),a===void 0&&(a=!0),Xu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Sb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&n!=="/"?null:e.slice(a)||"/"}const jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eb=e=>jb.test(e);function Nb(e,t){t===void 0&&(t="/");let{pathname:a,search:n="",hash:s=""}=typeof e=="string"?Cs(e):e,r;if(a)if(Eb(a))r=a;else{if(a.includes("//")){let l=a;a=a.replace(/\/\/+/g,"/"),Xu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+a))}a.startsWith("/")?r=Gh(a.substring(1),"/"):r=Gh(a,t)}else r=t;return{pathname:r,search:Ab(n),hash:Cb(s)}}function Gh(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?a.length>1&&a.pop():s!=="."&&a.push(s)}),a.length>1?a.join("/"):"/"}function jo(e,t,a,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tb(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Zu(e,t){let a=Tb(e);return t?a.map((n,s)=>s===a.length-1?n.pathname:n.pathnameBase):a.map(n=>n.pathnameBase)}function Wu(e,t,a,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Cs(e):(s=Tr({},e),be(!s.pathname||!s.pathname.includes("?"),jo("?","pathname","search",s)),be(!s.pathname||!s.pathname.includes("#"),jo("#","pathname","hash",s)),be(!s.search||!s.search.includes("#"),jo("#","search","hash",s)));let r=e===""||s.pathname==="",l=r?"/":s.pathname,o;if(l==null)o=a;else{let f=t.length-1;if(!n&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=Nb(s,o),u=l&&l!=="/"&&l.endsWith("/"),d=(r||l===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ga=e=>e.join("/").replace(/\/\/+/g,"/"),Ob=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ab=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Rb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const E0=["post","put","patch","delete"];new Set(E0);const Ub=["get",...E0];new Set(Ub);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Or.apply(this,arguments)}const ed=w.createContext(null),kb=w.createContext(null),Xa=w.createContext(null),Ui=w.createContext(null),ga=w.createContext({outlet:null,matches:[],isDataRoute:!1}),N0=w.createContext(null);function Db(e,t){let{relative:a}=t===void 0?{}:t;Rs()||be(!1);let{basename:n,navigator:s}=w.useContext(Xa),{hash:r,pathname:l,search:o}=O0(e,{relative:a}),c=l;return n!=="/"&&(c=l==="/"?n:Ga([n,l])),s.createHref({pathname:c,search:o,hash:r})}function Rs(){return w.useContext(Ui)!=null}function Us(){return Rs()||be(!1),w.useContext(Ui).location}function T0(e){w.useContext(Xa).static||w.useLayoutEffect(e)}function ks(){let{isDataRoute:e}=w.useContext(ga);return e?Ib():Lb()}function Lb(){Rs()||be(!1);let e=w.useContext(ed),{basename:t,future:a,navigator:n}=w.useContext(Xa),{matches:s}=w.useContext(ga),{pathname:r}=Us(),l=JSON.stringify(Zu(s,a.v7_relativeSplatPath)),o=w.useRef(!1);return T0(()=>{o.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Wu(u,JSON.parse(l),r,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ga([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,l,r,e])}function zb(){let{matches:e}=w.useContext(ga),t=e[e.length-1];return t?t.params:{}}function O0(e,t){let{relative:a}=t===void 0?{}:t,{future:n}=w.useContext(Xa),{matches:s}=w.useContext(ga),{pathname:r}=Us(),l=JSON.stringify(Zu(s,n.v7_relativeSplatPath));return w.useMemo(()=>Wu(e,JSON.parse(l),r,a==="path"),[e,l,r,a])}function Mb(e,t){return qb(e,t)}function qb(e,t,a,n){Rs()||be(!1);let{navigator:s}=w.useContext(Xa),{matches:r}=w.useContext(ga),l=r[r.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Us(),d;if(t){var f;let _=typeof t=="string"?Cs(t):t;c==="/"||(f=_.pathname)!=null&&f.startsWith(c)||be(!1),d=_}else d=u;let h=d.pathname||"/",g=h;if(c!=="/"){let _=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=cb(e,{pathname:g}),v=Gb(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Ga([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Ga([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),r,a,n);return t&&v?w.createElement(Ui.Provider,{value:{location:Or({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ka.Pop}},v):v}function Bb(){let e=Kb(),t=Rb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),a?w.createElement("pre",{style:s},a):null,null)}const $b=w.createElement(Bb,null);class Hb extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){console.error("React Router caught the following error during render",t,a)}render(){return this.state.error!==void 0?w.createElement(ga.Provider,{value:this.props.routeContext},w.createElement(N0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Pb(e){let{routeContext:t,match:a,children:n}=e,s=w.useContext(ed);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),w.createElement(ga.Provider,{value:t},n)}function Gb(e,t,a,n){var s;if(t===void 0&&(t=[]),a===void 0&&(a=null),n===void 0&&(n=null),e==null){var r;if(!a)return null;if(a.errors)e=a.matches;else if((r=n)!=null&&r.v7_partialHydration&&t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let l=e,o=(s=a)==null?void 0:s.errors;if(o!=null){let d=l.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||be(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,u=-1;if(a&&n&&n.v7_partialHydration)for(let d=0;d<l.length;d++){let f=l[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=a,x=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,f,h)=>{let g,x=!1,v=null,_=null;a&&(g=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||$b,c&&(u<0&&h===0?(Jb("route-fallback"),x=!0,_=null):u===h&&(x=!0,_=f.route.hydrateFallbackElement||null)));let p=t.concat(l.slice(0,h+1)),m=()=>{let y;return g?y=v:x?y=_:f.route.Component?y=w.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,w.createElement(Pb,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:a!=null},children:y})};return a&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(Hb,{location:a.location,revalidation:a.revalidation,component:v,error:g,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var A0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(A0||{}),C0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C0||{});function Vb(e){let t=w.useContext(ed);return t||be(!1),t}function Yb(e){let t=w.useContext(kb);return t||be(!1),t}function Qb(e){let t=w.useContext(ga);return t||be(!1),t}function R0(e){let t=Qb(),a=t.matches[t.matches.length-1];return a.route.id||be(!1),a.route.id}function Kb(){var e;let t=w.useContext(N0),a=Yb(),n=R0();return t!==void 0?t:(e=a.errors)==null?void 0:e[n]}function Ib(){let{router:e}=Vb(A0.UseNavigateStable),t=R0(C0.UseNavigateStable),a=w.useRef(!1);return T0(()=>{a.current=!0}),w.useCallback(function(s,r){r===void 0&&(r={}),a.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Or({fromRouteId:t},r)))},[e,t])}const Vh={};function Jb(e,t,a){Vh[e]||(Vh[e]=!0)}function Xb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function U0(e){let{to:t,replace:a,state:n,relative:s}=e;Rs()||be(!1);let{future:r,static:l}=w.useContext(Xa),{matches:o}=w.useContext(ga),{pathname:c}=Us(),u=ks(),d=Wu(t,Zu(o,r.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:a,state:n,relative:s}),[u,f,s,a,n]),null}function $t(e){be(!1)}function Fb(e){let{basename:t="/",children:a=null,location:n,navigationType:s=ka.Pop,navigator:r,static:l=!1,future:o}=e;Rs()&&be(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:r,static:l,future:Or({v7_relativeSplatPath:!1},o)}),[c,o,r,l]);typeof n=="string"&&(n=Cs(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:x="default"}=n,v=w.useMemo(()=>{let _=Fu(d,c);return _==null?null:{location:{pathname:_,search:f,hash:h,state:g,key:x},navigationType:s}},[c,d,f,h,g,x,s]);return v==null?null:w.createElement(Xa.Provider,{value:u},w.createElement(Ui.Provider,{children:a,value:v}))}function Zb(e){let{children:t,location:a}=e;return Mb(Uc(t),a)}new Promise(()=>{});function Uc(e,t){t===void 0&&(t=[]);let a=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let r=[...t,s];if(n.type===w.Fragment){a.push.apply(a,Uc(n.props.children,r));return}n.type!==$t&&be(!1),!n.props.index||!n.props.children||be(!1);let l={id:n.props.id||r.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Uc(n.props.children,r)),a.push(l)}),a}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},kc.apply(this,arguments)}function Wb(e,t){if(e==null)return{};var a={},n=Object.keys(e),s,r;for(r=0;r<n.length;r++)s=n[r],!(t.indexOf(s)>=0)&&(a[s]=e[s]);return a}function ex(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tx(e,t){return e.button===0&&(!t||t==="_self")&&!ex(e)}function Dc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,a)=>{let n=e[a];return t.concat(Array.isArray(n)?n.map(s=>[a,s]):[[a,n]])},[]))}function ax(e,t){let a=Dc(e);return t&&t.forEach((n,s)=>{a.has(s)||t.getAll(s).forEach(r=>{a.append(s,r)})}),a}const nx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sx="6";try{window.__reactRouterVersion=sx}catch{}const rx="startTransition",Yh=Np[rx];function lx(e){let{basename:t,children:a,future:n,window:s}=e,r=w.useRef();r.current==null&&(r.current=lb({window:s,v5Compat:!0}));let l=r.current,[o,c]=w.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&Yh?Yh(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>l.listen(d),[l,d]),w.useEffect(()=>Xb(n),[n]),w.createElement(Fb,{basename:t,children:a,location:o.location,navigationType:o.action,navigator:l,future:n})}const ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ox=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=w.forwardRef(function(t,a){let{onClick:n,relative:s,reloadDocument:r,replace:l,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Wb(t,nx),{basename:g}=w.useContext(Xa),x,v=!1;if(typeof u=="string"&&ox.test(u)&&(x=u,ix))try{let y=new URL(window.location.href),b=u.startsWith("//")?new URL(y.protocol+u):new URL(u),j=Fu(b.pathname,g);b.origin===y.origin&&j!=null?u=j+b.search+b.hash:v=!0}catch{}let _=Db(u,{relative:s}),p=cx(u,{replace:l,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:f});function m(y){n&&n(y),y.defaultPrevented||p(y)}return w.createElement("a",kc({},h,{href:x||_,onClick:v||r?n:m,ref:a,target:c}))});var Qh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qh||(Qh={}));var Kh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Kh||(Kh={}));function cx(e,t){let{target:a,replace:n,state:s,preventScrollReset:r,relative:l,viewTransition:o}=t===void 0?{}:t,c=ks(),u=Us(),d=O0(e,{relative:l});return w.useCallback(f=>{if(tx(f,a)){f.preventDefault();let h=n!==void 0?n:ci(u)===ci(d);c(e,{replace:h,state:s,preventScrollReset:r,relative:l,viewTransition:o})}},[u,c,d,n,s,a,e,r,l,o])}function k0(e){let t=w.useRef(Dc(e)),a=w.useRef(!1),n=Us(),s=w.useMemo(()=>ax(n.search,a.current?null:t.current),[n.search]),r=ks(),l=w.useCallback((o,c)=>{const u=Dc(typeof o=="function"?o(s):o);a.current=!0,r("?"+u,c)},[r,s]);return[s,l]}function At(...e){return e.filter(Boolean).join(" ")}function nt({children:e,className:t,containerClassName:a}){return i.jsx("section",{className:At("py-12 md:py-16 lg:py-20",t),children:i.jsx("div",{className:At("max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",a),children:e})})}function un({href:e,variant:t="primary",children:a,className:n}){const s="inline-flex items-center justify-center px-8 py-4 rounded-lg font-semibold text-base transition-all duration-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-600 focus:ring-offset-2",r={primary:"bg-gradient-to-r from-teal-600 to-blue-600 text-white hover:from-teal-700 hover:to-blue-700 hover:shadow-md",secondary:"bg-white border-2 border-teal-600 text-teal-600 hover:bg-teal-50 hover:shadow-md"};return i.jsx(it,{to:e,className:At(s,r[t],n),children:a})}function ki(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]]);return a}function ux(e,t,a,n){function s(r){return r instanceof a?r:new a(function(l){l(r)})}return new(a||(a=Promise))(function(r,l){function o(d){try{u(n.next(d))}catch(f){l(f)}}function c(d){try{u(n.throw(d))}catch(f){l(f)}}function u(d){d.done?r(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})}const dx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class td extends Error{constructor(t,a="FunctionsError",n){super(t),this.name=a,this.context=n}}class hx extends td{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ih extends td{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Jh extends td{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Lc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Lc||(Lc={}));class fx{constructor(t,{headers:a={},customFetch:n,region:s=Lc.Any}={}){this.url=t,this.headers=a,this.region=s,this.fetch=dx(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ux(this,arguments,void 0,function*(a,n={}){var s;let r,l;try{const{headers:o,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:g}=n;g||(g=this.region);const x=new URL(`${this.url}/${a}`);g&&g!=="any"&&(h["x-region"]=g,x.searchParams.set("forceFunctionRegion",g));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(h["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(h["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let _=d;f&&(l=new AbortController,r=setTimeout(()=>l.abort(),f),d?(_=l.signal,d.addEventListener("abort",()=>l.abort())):_=l.signal);const p=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:v,signal:_}).catch(j=>{throw new hx(j)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new Ih(p);if(!p.ok)throw new Jh(p);let y=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield p.json():y==="application/octet-stream"||y==="application/pdf"?b=yield p.blob():y==="text/event-stream"?b=p:y==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(o){return{data:null,error:o,response:o instanceof Jh||o instanceof Ih?o.context:void 0}}finally{r&&clearTimeout(r)}})}}var mx=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},gx=class{constructor(e){var t,a;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(a=e.isMaybeSingle)!==null&&a!==void 0?a:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{let l=null,o=null,c=null,u=r.status,d=r.statusText;if(r.ok){var f,h;if(a.method!=="HEAD"){var g;const p=await r.text();p===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((g=a.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?o=p:o=JSON.parse(p))}const v=(f=a.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),_=(h=r.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&_&&_.length>1&&(c=parseInt(_[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(o)&&(o.length>1?(l={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,c=null,u=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var x;const v=await r.text();try{l=JSON.parse(v),Array.isArray(l)&&r.status===404&&(o=[],l=null,u=200,d="OK")}catch{r.status===404&&v===""?(u=204,d="No Content"):l={message:v}}if(l&&a.isMaybeSingle&&(!(l==null||(x=l.details)===null||x===void 0)&&x.includes("0 rows"))&&(l=null,u=200,d="OK"),l&&a.shouldThrowOnError)throw new mx(l)}return{error:l,data:o,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(r=>{var l;let o="";const c=r==null?void 0:r.cause;if(c){var u,d,f,h;const x=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",v=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";o=`${(f=r==null?void 0:r.name)!==null&&f!==void 0?f:"FetchError"}: ${r==null?void 0:r.message}`,o+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${x}`,v&&(o+=` (${v})`),c!=null&&c.stack&&(o+=`
${c.stack}`)}else{var g;o=(g=r==null?void 0:r.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(l=r==null?void 0:r.name)!==null&&l!==void 0?l:"FetchError"}: ${r==null?void 0:r.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},px=class extends gx{select(e){let t=!1;const a=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:a,foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.order`:"order",l=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:a=t}={}){const n=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:a,referencedTable:n=a}={}){const s=typeof n>"u"?"offset":`${n}.offset`,r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(r,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:a=!1,buffers:n=!1,wal:s=!1,format:r="text"}={}){var l;const o=[e?"analyze":null,t?"verbose":null,a?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${r}; for="${c}"; options=${o};`),r==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Xh=new RegExp("[,()]");var $n=class extends px{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const a=Array.from(new Set(t)).map(n=>typeof n=="string"&&Xh.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${a})`),this}notIn(e,t){const a=Array.from(new Set(t)).map(n=>typeof n=="string"&&Xh.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${a})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:a,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const r=a===void 0?"":`(${a})`;return this.url.searchParams.append(e,`${s}fts${r}.${t}`),this}match(e){return Object.entries(e).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(e,t,a){return this.url.searchParams.append(e,`not.${t}.${a}`),this}or(e,{foreignTable:t,referencedTable:a=t}={}){const n=a?`${a}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,a){return this.url.searchParams.append(e,`${t}.${a}`),this}},yx=class{constructor(e,{headers:t={},schema:a,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=a,this.fetch=n}select(e,t){const{head:a=!1,count:n}=t??{},s=a?"HEAD":"GET";let r=!1;const l=(e??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",l),n&&this.headers.append("Prefer",`count=${n}`),new $n({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:a=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const r=e.reduce((l,o)=>l.concat(Object.keys(o)),[]);if(r.length>0){const l=[...new Set(r)].map(o=>`"${o}"`);this.url.searchParams.set("columns",l.join(","))}}return new $n({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:a=!1,count:n,defaultToNull:s=!0}={}){var r;const l="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new $n({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}update(e,{count:t}={}){var a;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new $n({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:e}={}){var t;const a="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new $n({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},vx=class D0{constructor(t,{headers:a={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(a),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new yx(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new D0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,a={},{head:n=!1,get:s=!1,count:r}={}){var l;let o;const c=new URL(`${this.url}/rpc/${t}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(a).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(o="POST",u=a);const d=new Headers(this.headers);return r&&d.set("Prefer",`count=${r}`),new $n({method:o,url:c,headers:d,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class bx{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const n=a.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const n=this.getWebSocketConstructor();return new n(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const xx="2.89.0",_x=`realtime-js/${xx}`,L0="1.0.0",wx="2.0.0",Fh=L0,zc=1e4,Sx=1e3,jx=100;var wa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wa||(wa={}));var Ae;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ae||(Ae={}));var zt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zt||(zt={}));var Mc;(function(e){e.websocket="websocket"})(Mc||(Mc={}));var on;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(on||(on={}));class Ex{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,n;const s=(n=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var a,n;const s=(n=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,a,n){var s,r;const l=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",c=(r=t.join_ref)!==null&&r!==void 0?r:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+l.length+u.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let x=new DataView(g),v=0;x.setUint8(v++,this.KINDS.userBroadcastPush),x.setUint8(v++,c.length),x.setUint8(v++,o.length),x.setUint8(v++,l.length),x.setUint8(v++,u.length),x.setUint8(v++,f.length),x.setUint8(v++,a),Array.from(c,p=>x.setUint8(v++,p.charCodeAt(0))),Array.from(o,p=>x.setUint8(v++,p.charCodeAt(0))),Array.from(l,p=>x.setUint8(v++,p.charCodeAt(0))),Array.from(u,p=>x.setUint8(v++,p.charCodeAt(0))),Array.from(f,p=>x.setUint8(v++,p.charCodeAt(0)));var _=new Uint8Array(g.byteLength+n.byteLength);return _.set(new Uint8Array(g),0),_.set(new Uint8Array(n),g.byteLength),_.buffer}decode(t,a){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return a(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,r,l,o,c]=n;return a({join_ref:s,ref:r,topic:l,event:o,payload:c})}return a({})}_binaryDecode(t){const a=new DataView(t),n=a.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,a,s)}}_decodeUserBroadcast(t,a,n){const s=a.getUint8(1),r=a.getUint8(2),l=a.getUint8(3),o=a.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+r));c=c+r;const f=n.decode(t.slice(c,c+l));c=c+l;const h=t.slice(c,t.byteLength),g=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,x={type:this.BROADCAST_EVENT,event:d,payload:g};return l>0&&(x.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>a.includes(n)))}}class z0{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ae||(ae={}));const Zh=(e,t,a={})=>{var n;const s=(n=a.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((r,l)=>(r[l]=Nx(l,e,t,s),r),{}):{}},Nx=(e,t,a,n)=>{const s=t.find(o=>o.name===e),r=s==null?void 0:s.type,l=a[e];return r&&!n.includes(r)?M0(r,l):qc(l)},M0=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return Cx(t,a)}switch(e){case ae.bool:return Tx(t);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return Ox(t);case ae.json:case ae.jsonb:return Ax(t);case ae.timestamp:return Rx(t);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return qc(t);default:return qc(t)}},qc=e=>e,Tx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ox=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ax=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Cx=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,n=e[a];if(e[0]==="{"&&n==="}"){let r;const l=e.slice(1,a);try{r=JSON.parse("["+l+"]")}catch{r=l?l.split(","):[]}return r.map(o=>M0(t,o))}return e},Rx=e=>typeof e=="string"?e.replace(" ","T"):e,q0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Eo{constructor(t,a,n={},s=zc){this.channel=t,this.event=a,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var n;return this._hasReceived(t)&&a((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Wh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Wh||(Wh={}));class ur{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:r,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ur.syncState(this.state,s,r,l),this.pendingDiffs.forEach(c=>{this.state=ur.syncDiff(this.state,c,r,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:r,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ur.syncDiff(this.state,s,r,l),o())}),this.onJoin((s,r,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:r,newPresences:l})}),this.onLeave((s,r,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:r,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,n,s){const r=this.cloneDeep(t),l=this.transformState(a),o={},c={};return this.map(r,(u,d)=>{l[u]||(c[u]=d)}),this.map(l,(u,d)=>{const f=r[u];if(f){const h=d.map(_=>_.presence_ref),g=f.map(_=>_.presence_ref),x=d.filter(_=>g.indexOf(_.presence_ref)<0),v=f.filter(_=>h.indexOf(_.presence_ref)<0);x.length>0&&(o[u]=x),v.length>0&&(c[u]=v)}else o[u]=d}),this.syncDiff(r,{joins:o,leaves:c},n,s)}static syncDiff(t,a,n,s){const{joins:r,leaves:l}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(r,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[o].unshift(...h)}n(o,d,c)}),this.map(l,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(n=>a(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,n)=>{const s=t[n];return"metas"in s?a[n]=s.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):a[n]=s,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ef;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ef||(ef={}));var dr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dr||(dr={}));var ea;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ea||(ea={}));class ts{constructor(t,a={config:{}},n){var s,r;if(this.topic=t,this.params=a,this.socket=n,this.bindings={},this.state=Ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Eo(this,zt.join,this.params,this.timeout),this.rejoinTimer=new z0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ae.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(l,o)=>{this._trigger(this._replyEventName(o),l)}),this.presence=new ur(this),this.broadcastEndpointURL=q0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((r=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||r===void 0)&&r.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var n,s,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Ae.closed){const{config:{broadcast:l,presence:o,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[dr.PRESENCE]&&this.bindings[dr.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,f={},h={broadcast:l,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(ea.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(ea.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(ea.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,p=[];for(let m=0;m<_;m++){const y=v[m],{filter:{event:b,schema:j,table:N,filter:E}}=y,A=g&&g[m];if(A&&A.event===b&&ts.isFilterValueEqual(A.schema,j)&&ts.isFilterValueEqual(A.table,N)&&ts.isFilterValueEqual(A.filter,E))p.push(Object.assign(Object.assign({},y),{id:A.id}));else{this.unsubscribe(),this.state=Ae.errored,t==null||t(ea.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(ea.SUBSCRIBED);return}}).receive("error",g=>{this.state=Ae.errored,t==null||t(ea.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ea.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,n){return this.state===Ae.joined&&t===dr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,n)}async httpSend(t,a,n={}){var s;if(a==null)return Promise.reject("Payload is required for httpSend()");const r={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(r.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:r,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,a={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:r,payload:l}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var l,o,c;const u=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&r("ok"),u.receive("ok",()=>r("ok")),u.receive("error",()=>r("error")),u.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ae.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Eo(this,zt.leave,{},t),n.receive("ok",()=>{a(),s("ok")}).receive("timeout",()=>{a(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ae.closed,this.bindings={}}async _fetchWithTimeout(t,a,n){const s=new AbortController,r=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:s.signal}));return clearTimeout(r),l}_push(t,a,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Eo(this,t,a,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>jx){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,n){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,n){var s,r;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=zt;if(n&&[o,c,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let h=this._onMessage(l,a,n);if(a&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,v,_;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(v=g.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(g=>g.callback(h,n)):(r=this.bindings[l])===null||r===void 0||r.filter(g=>{var x,v,_,p,m,y;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in g){const b=g.id,j=(x=g.filter)===null||x===void 0?void 0:x.event;return b&&((v=a.ids)===null||v===void 0?void 0:v.includes(b))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((_=a.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(m=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((y=a==null?void 0:a.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===l}).map(g=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:v,table:_,commit_timestamp:p,type:m,errors:y}=x;h=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:p,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(x))}g.callback(h,n)})}_isClosed(){return this.state===Ae.closed}_isJoined(){return this.state===Ae.joined}_isJoining(){return this.state===Ae.joining}_isLeaving(){return this.state===Ae.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,n){const s=t.toLocaleLowerCase(),r={type:s,filter:a,callback:n};return this.bindings[s]?this.bindings[s].push(r):this.bindings[s]=[r],this}_off(t,a){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var r;return!(((r=s.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===n&&ts.isEqual(s.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const n in t)if(t[n]!==a[n])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zt.close,{},t)}_onError(t){this._on(zt.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ae.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=Zh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=Zh(t.columns,t.old_record)),a}}const No=()=>{},fl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ux=[1e3,2e3,5e3,1e4],kx=1e4,Dx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lx{constructor(t,a){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zc,this.transport=null,this.heartbeatIntervalMs=fl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=No,this.ref=0,this.reconnectTimer=null,this.vsn=Fh,this.logger=No,this.conn=null,this.sendBuffer=[],this.serializer=new Ex,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),!(!((n=a==null?void 0:a.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${Mc.websocket}`,this.httpEndpoint=q0(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,n){this.logger(t,a,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wa.connecting:return on.Connecting;case wa.open:return on.Open;case wa.closing:return on.Closing;default:return on.Closed}}isConnected(){return this.connectionState()===on.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(r=>r.topic===n);if(s)return s;{const r=new ts(`realtime:${t}`,a,this);return this.channels.push(r),r}}push(t){const{topic:a,event:n,payload:s,ref:r}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${a} ${n} (${r})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Sx,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},fl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:r,ref:l}=a,o=l?`(${l})`:"",c=r.status||"";this.log("receive",`${c} ${n} ${s} ${o}`.trim(),r),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,r,l)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===wa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===wa.open||this.conn.readyState===wa.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(zt.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(a);return`${t}${n}${s}`}_workerObjectUrl(t){let a;if(t)a=t;else{const n=new Blob([Dx],{type:"application/javascript"});a=URL.createObjectURL(n)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,n=!1;if(t)a=t,n=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),a=this.accessTokenValue}else a=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(s=>{const r={access_token:a,version:_x};a&&s.updateJoinPayload(r),s.joinedOnce&&s._isJoined()&&s._push(zt.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(a)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new z0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,n,s,r,l,o,c,u,d,f,h,g;switch(this.transport=(a=t==null?void 0:t.transport)!==null&&a!==void 0?a:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:zc,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:fl.HEARTBEAT_INTERVAL,this.worker=(r=t==null?void 0:t.worker)!==null&&r!==void 0?r:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:No,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Fh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>Ux[x-1]||kx,this.vsn){case L0:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(x,v)=>v(JSON.stringify(x)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(x,v)=>v(JSON.parse(x));break;case wx:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ar=class extends Error{constructor(e,t){var a;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((a=t.icebergType)==null?void 0:a.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function zx(e,t,a){const n=new URL(t,e);if(a)for(const[s,r]of Object.entries(a))r!==void 0&&n.searchParams.set(s,r);return n.toString()}async function Mx(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function qx(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:a,path:n,query:s,body:r,headers:l}){const o=zx(e.baseUrl,n,s),c=await Mx(e.auth),u=await t(o,{method:a,headers:{...r?{"Content-Type":"application/json"}:{},...c,...l},body:r?JSON.stringify(r):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const g=f?h:void 0,x=g==null?void 0:g.error;throw new Ar((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function ml(e){return e.join("")}var Bx=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ml(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const a={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ml(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ml(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ml(e.namespace)}`}),!0}catch(t){if(t instanceof Ar&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(a){if(a instanceof Ar&&a.status===409)return;throw a}}};function Cn(e){return e.join("")}var $x=class{constructor(e,t="",a){this.client=e,this.prefix=t,this.accessDelegation=a}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(e,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(a){if(a instanceof Ar&&a.status===404)return!1;throw a}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(a){if(a instanceof Ar&&a.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw a}}},Hx=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const a=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=qx({baseUrl:a,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Bx(this.client,t),this.tableOps=new $x(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Di=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function de(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Px=class extends Di{constructor(e,t,a){super(e),this.name="StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Bc=class extends Di{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const ad=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Gx=()=>Response,$c=e=>{if(Array.isArray(e))return e.map(a=>$c(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,n])=>{const s=a.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));t[s]=$c(n)}),t},Vx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Yx=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Cr(e){"@babel/helpers - typeof";return Cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(e)}function Qx(e,t){if(Cr(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(Cr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kx(e){var t=Qx(e,"string");return Cr(t)=="symbol"?t:t+""}function Ix(e,t,a){return(t=Kx(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tf(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?tf(Object(a),!0).forEach(function(n){Ix(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tf(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}const To=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Jx=async(e,t,a)=>{e instanceof await Gx()&&!(a!=null&&a.noResolveJson)?e.json().then(n=>{const s=e.status||500,r=(n==null?void 0:n.statusCode)||s+"";t(new Px(To(n),s,r))}).catch(n=>{t(new Bc(To(n),n))}):t(new Bc(To(e),e))},Xx=(e,t,a,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Vx(n)?(s.headers=D({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),D(D({},s),a))};async function Kr(e,t,a,n,s,r){return new Promise((l,o)=>{e(a,Xx(t,n,s,r)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>Jx(c,o,n))})}async function Rr(e,t,a,n){return Kr(e,"GET",t,a,n)}async function Dt(e,t,a,n,s){return Kr(e,"POST",t,n,s,a)}async function Hc(e,t,a,n,s){return Kr(e,"PUT",t,n,s,a)}async function Fx(e,t,a,n){return Kr(e,"HEAD",t,D(D({},a),{},{noResolveJson:!0}),n)}async function nd(e,t,a,n,s){return Kr(e,"DELETE",t,n,s,a)}var Zx=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(de(t))return{data:null,error:t};throw t}}};let B0;B0=Symbol.toStringTag;var Wx=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[B0]="BlobDownloadBuilder",this.promise=null}asStream(){return new Zx(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(de(t))return{data:null,error:t};throw t}}};const e_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},af={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var t_=class{constructor(e,t={},a,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=a,this.fetch=ad(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,a,n){var s=this;try{let r;const l=D(D({},af),n);let o=D(D({},s.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&a instanceof Blob?(r=new FormData,r.append("cacheControl",l.cacheControl),c&&r.append("metadata",s.encodeMetadata(c)),r.append("",a)):typeof FormData<"u"&&a instanceof FormData?(r=a,r.has("cacheControl")||r.append("cacheControl",l.cacheControl),c&&!r.has("metadata")&&r.append("metadata",s.encodeMetadata(c))):(r=a,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&r instanceof ReadableStream||r&&typeof r=="object"&&"pipe"in r&&typeof r.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(o=D(D({},o),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?Hc:Dt)(s.fetch,`${s.url}/object/${d}`,r,D({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(de(r))return{data:null,error:r};throw r}}async upload(e,t,a){return this.uploadOrUpdate("POST",e,t,a)}async uploadToSignedUrl(e,t,a,n){var s=this;const r=s._removeEmptyFolders(e),l=s._getFinalPath(r),o=new URL(s.url+`/object/upload/sign/${l}`);o.searchParams.set("token",t);try{let c;const u=D({upsert:af.upsert},n),d=D(D({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",u.cacheControl)):(c=a,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:r,fullPath:(await Hc(s.fetch,o.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(de(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var a=this;try{let n=a._getFinalPath(e);const s=D({},a.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const r=await Dt(a.fetch,`${a.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(a.url+r.url),o=l.searchParams.get("token");if(!o)throw new Di("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:o},error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(de(n))return{data:null,error:n};throw n}}async update(e,t,a){return this.uploadOrUpdate("PUT",e,t,a)}async move(e,t,a){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(de(s))return{data:null,error:s};throw s}}async copy(e,t,a){var n=this;try{return{data:{path:(await Dt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(de(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,a){var n=this;try{let s=n._getFinalPath(e),r=await Dt(n.fetch,`${n.url}/object/sign/${s}`,D({expiresIn:t},a!=null&&a.transform?{transform:a.transform}:{}),{headers:n.headers});const l=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return r={signedUrl:encodeURI(`${n.url}${r.signedURL}${l}`)},{data:r,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(de(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,a){var n=this;try{const s=await Dt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(l=>D(D({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${r}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(de(s))return{data:null,error:s};throw s}}download(e,t){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",r=this._getFinalPath(e),l=()=>Rr(this.fetch,`${this.url}/${a}/${r}${s}`,{headers:this.headers,noResolveJson:!0});return new Wx(l,this.shouldThrowOnError)}async info(e){var t=this;const a=t._getFinalPath(e);try{return{data:$c(await Rr(t.fetch,`${t.url}/object/info/${a}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(de(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const a=t._getFinalPath(e);try{return await Fx(t.fetch,`${t.url}/object/${a}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(de(n)&&n instanceof Bc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const a=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const r=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${r}/public/${a}${o}`)}}}async remove(e){var t=this;try{return{data:await nd(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(de(a))return{data:null,error:a};throw a}}async list(e,t,a){var n=this;try{const s=D(D(D({},e_),t),{},{prefix:e||""});return{data:await Dt(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},a),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(de(s))return{data:null,error:s};throw s}}async listV2(e,t){var a=this;try{const n=D({},e);return{data:await Dt(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,n,{headers:a.headers},t),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(de(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const $0="2.89.0",H0={"X-Client-Info":`storage-js/${$0}`};var a_=class{constructor(e,t={},a,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=D(D({},H0),t),this.fetch=ad(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const a=t.listBucketOptionsToQueryString(e);return{data:await Rr(t.fetch,`${t.url}/bucket${a}`,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(de(a))return{data:null,error:a};throw a}}async getBucket(e){var t=this;try{return{data:await Rr(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(de(a))return{data:null,error:a};throw a}}async createBucket(e,t={public:!1}){var a=this;try{return{data:await Dt(a.fetch,`${a.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(de(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var a=this;try{return{data:await Hc(a.fetch,`${a.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(de(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Dt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(de(a))return{data:null,error:a};throw a}}async deleteBucket(e){var t=this;try{return{data:await nd(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(de(a))return{data:null,error:a};throw a}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},n_=class{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=D(D({},H0),t),this.fetch=ad(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Dt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(de(a))return{data:null,error:a};throw a}}async listBuckets(e){var t=this;try{const a=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&a.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&a.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&a.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&a.set("sortOrder",e.sortOrder),e!=null&&e.search&&a.set("search",e.search);const n=a.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Rr(t.fetch,s,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(de(a))return{data:null,error:a};throw a}}async deleteBucket(e){var t=this;try{return{data:await nd(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(de(a))return{data:null,error:a};throw a}}from(e){var t=this;if(!Yx(e))throw new Di("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new Hx({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(a,{get(s,r){const l=s[r];return typeof l!="function"?l:async(...o)=>{try{return{data:await l.apply(s,o),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const sd={"X-Client-Info":`storage-js/${$0}`,"Content-Type":"application/json"};var P0=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ot(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Oo=class extends P0{constructor(e,t,a){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},s_=class extends P0{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const rd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),r_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},nf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),l_=async(e,t,a)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(a!=null&&a.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(r=>{const l=(r==null?void 0:r.statusCode)||(r==null?void 0:r.code)||n+"";t(new Oo(nf(r),n,l))}).catch(()=>{const r=n+"";t(new Oo(s.statusText||`HTTP ${n} error`,n,r))});else{const r=n+"";t(new Oo(s.statusText||`HTTP ${n} error`,n,r))}}else t(new s_(nf(e),e))},i_=(e,t,a,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(r_(n)?(s.headers=D({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,D(D({},s),a)):s};async function o_(e,t,a,n,s,r){return new Promise((l,o)=>{e(a,i_(t,n,s,r)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>l(c)).catch(c=>l_(c,o,n))})}async function ct(e,t,a,n,s){return o_(e,"POST",t,n,s,a)}var c_=class{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=D(D({},sd),t),this.fetch=rd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ct(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}async getIndex(e,t){var a=this;try{return{data:await ct(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await ct(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}async deleteIndex(e,t){var a=this;try{return{data:await ct(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:a.headers})||{},error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}},u_=class{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=D(D({},sd),t),this.fetch=rd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ct(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}async getVectors(e){var t=this;try{return{data:await ct(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ct(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}async queryVectors(e){var t=this;try{return{data:await ct(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ct(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}},d_=class{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=D(D({},sd),t),this.fetch=rd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ct(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}async getBucket(e){var t=this;try{return{data:await ct(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}async listBuckets(e={}){var t=this;try{return{data:await ct(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}async deleteBucket(e){var t=this;try{return{data:await ct(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}},h_=class extends d_{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new f_(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,a=this;return t().call(a,e)}async getBucket(e){var t=()=>super.getBucket,a=this;return t().call(a,e)}async listBuckets(e={}){var t=()=>super.listBuckets,a=this;return t().call(a,e)}async deleteBucket(e){var t=()=>super.deleteBucket,a=this;return t().call(a,e)}},f_=class extends c_{constructor(e,t,a,n){super(e,t,n),this.vectorBucketName=a}async createIndex(e){var t=()=>super.createIndex,a=this;return t().call(a,D(D({},e),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,a=this;return t().call(a,D(D({},e),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,a=this;return t().call(a,a.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,a=this;return t().call(a,a.vectorBucketName,e)}index(e){return new m_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},m_=class extends u_{constructor(e,t,a,n,s){super(e,t,s),this.vectorBucketName=a,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,a=this;return t().call(a,D(D({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(e){var t=()=>super.getVectors,a=this;return t().call(a,D(D({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,a=this;return t().call(a,D(D({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,a=this;return t().call(a,D(D({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,a=this;return t().call(a,D(D({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},g_=class extends a_{constructor(e,t={},a,n){super(e,t,a,n)}from(e){return new t_(this.url,this.headers,e,this.fetch)}get vectors(){return new h_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new n_(this.url+"/iceberg",this.headers,this.fetch)}};const G0="2.89.0",Hn=30*1e3,Pc=3,Ao=Pc*Hn,p_="http://localhost:9999",y_="supabase.auth.token",v_={"X-Client-Info":`gotrue-js/${G0}`},Gc="X-Supabase-Api-Version",V0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x_=10*60*1e3;class Ur extends Error{constructor(t,a,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=n}}function C(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class __ extends Ur{constructor(t,a,n){super(t,a,n),this.name="AuthApiError",this.status=a,this.code=n}}function w_(e){return C(e)&&e.name==="AuthApiError"}class cn extends Ur{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class pa extends Ur{constructor(t,a,n,s){super(t,n,s),this.name=a,this.status=n}}class at extends pa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function S_(e){return C(e)&&e.name==="AuthSessionMissingError"}class Rn extends pa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gl extends pa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class pl extends pa{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function j_(e){return C(e)&&e.name==="AuthImplicitGrantRedirectError"}class sf extends pa{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class E_ extends pa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Vc extends pa{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function Co(e){return C(e)&&e.name==="AuthRetryableFetchError"}class rf extends pa{constructor(t,a,n){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=n}}class Yc extends pa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lf=` 	
\r=`.split(""),N_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<lf.length;t+=1)e[lf[t].charCodeAt(0)]=-2;for(let t=0;t<ui.length;t+=1)e[ui[t].charCodeAt(0)]=t;return e})();function of(e,t,a){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(ui[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(ui[n]),t.queuedBits-=6}}function Y0(e,t,a){const n=N_[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cf(e){const t=[],a=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},r=l=>{A_(l,n,a)};for(let l=0;l<e.length;l+=1)Y0(e.charCodeAt(l),s,r);return t.join("")}function T_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function O_(e,t){for(let a=0;a<e.length;a+=1){let n=e.charCodeAt(a);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(a+1)-56320&65535|s)+65536,a+=1}T_(n,t)}}function A_(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function cs(e){const t=[],a={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Y0(e.charCodeAt(s),a,n);return new Uint8Array(t)}function C_(e){const t=[];return O_(e,a=>t.push(a)),new Uint8Array(t)}function dn(e){const t=[],a={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>of(s,a,n)),of(null,a,n),t.join("")}function R_(e){return Math.round(Date.now()/1e3)+e}function U_(){return Symbol("auth-callback")}const ze=()=>typeof window<"u"&&typeof document<"u",en={tested:!1,writable:!1},Q0=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(en.tested)return en.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),en.tested=!0,en.writable=!0}catch{en.tested=!0,en.writable=!1}return en.writable};function k_(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((s,r)=>{t[r]=s})}catch{}return a.searchParams.forEach((n,s)=>{t[s]=n}),t}const K0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),D_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pn=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},tn=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Le=async(e,t)=>{await e.removeItem(t)};class Li{constructor(){this.promise=new Li.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}Li.promiseConstructor=Promise;function Ro(e){const t=e.split(".");if(t.length!==3)throw new Yc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!b_.test(t[n]))throw new Yc("JWT not in base64url format");return{header:JSON.parse(cf(t[0])),payload:JSON.parse(cf(t[1])),signature:cs(t[2]),raw:{header:t[0],payload:t[1]}}}async function L_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function z_(e,t){return new Promise((n,s)=>{(async()=>{for(let r=0;r<1/0;r++)try{const l=await e(r);if(!t(r,null,l)){n(l);return}}catch(l){if(!t(r,l)){s(l);return}}})()})}function M_(e){return("0"+e.toString(16)).substr(-2)}function q_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=a.length;let s="";for(let r=0;r<56;r++)s+=a.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,M_).join("")}async function B_(e){const a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a),s=new Uint8Array(n);return Array.from(s).map(r=>String.fromCharCode(r)).join("")}async function $_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await B_(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Un(e,t,a=!1){const n=q_();let s=n;a&&(s+="/PASSWORD_RECOVERY"),await Pn(e,`${t}-code-verifier`,s);const r=await $_(n);return[r,n===r?"plain":"s256"]}const H_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function P_(e){const t=e.headers.get(Gc);if(!t||!t.match(H_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function G_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function V_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Y_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kn(e){if(!Y_.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Uo(){const e={};return new Proxy(e,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const n=a.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Q_(e,t){return new Proxy(e,{get:(a,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)"||r==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,n,s)}})}function uf(e){return JSON.parse(JSON.stringify(e))}const ln=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),K_=[502,503,504];async function df(e){var t;if(!D_(e))throw new Vc(ln(e),0);if(K_.includes(e.status))throw new Vc(ln(e),e.status);let a;try{a=await e.json()}catch(r){throw new cn(ln(r),r)}let n;const s=P_(e);if(s&&s.getTime()>=V0["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?n=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(n=a.error_code),n){if(n==="weak_password")throw new rf(ln(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new at}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0))throw new rf(ln(a),e.status,a.weak_password.reasons);throw new __(ln(a),e.status||500,n)}const I_=(e,t,a,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),a))};async function k(e,t,a,n){var s;const r=Object.assign({},n==null?void 0:n.headers);r[Gc]||(r[Gc]=V0["2024-01-01"].name),n!=null&&n.jwt&&(r.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await J_(e,t,a+o,{headers:r,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function J_(e,t,a,n,s,r){const l=I_(t,n,s,r);let o;try{o=await e(a,Object.assign({},l))}catch(c){throw console.error(c),new Vc(ln(c),0)}if(o.ok||await df(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await df(c)}}function kt(e){var t;let a=null;Z_(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=R_(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:n},error:null}}function hf(e){const t=kt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,n)=>a&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ta(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function X_(e){return{data:e,error:null}}function F_(e){const{action_link:t,email_otp:a,hashed_token:n,redirect_to:s,verification_type:r}=e,l=ki(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:a,hashed_token:n,redirect_to:s,verification_type:r},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function ff(e){return e}function Z_(e){return e.access_token&&e.refresh_token&&e.expires_in}const ko=["global","local","others"];class W_{constructor({url:t="",headers:a={},fetch:n}){this.url=t,this.headers=a,this.fetch=K0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=ko[0]){if(ko.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ko.join(", ")}`);try{return await k(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,a={}){try{return await k(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Ta})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:a}=t,n=ki(t,["options"]),s=Object.assign(Object.assign({},n),a);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await k(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:F_,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(C(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await k(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ta})}catch(a){if(C(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,n,s,r,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await k(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(r=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:""},xform:ff});if(d.error)throw d.error;const f=await d.json(),h=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,g=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);u[`${_}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(C(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){kn(t);try{return await k(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ta})}catch(a){if(C(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){kn(t);try{return await k(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Ta})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,a=!1){kn(t);try{return await k(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Ta})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){kn(t.userId);try{const{data:a,error:n}=await k(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:a,error:n}}catch(a){if(C(a))return{data:null,error:a};throw a}}async _deleteFactor(t){kn(t.userId),kn(t.id);try{return{data:await k(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(C(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,n,s,r,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await k(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(r=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:""},xform:ff});if(d.error)throw d.error;const f=await d.json(),h=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,g=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);u[`${_}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(C(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await k(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(C(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await k(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(C(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await k(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await k(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(C(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await k(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(C(a))return{data:null,error:a};throw a}}}function mf(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}const Dn={debug:!!(globalThis&&Q0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ew extends I0{}async function tw(e,t,a){Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await a()}finally{Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ew(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Dn.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function aw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function J0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function nw(e){return parseInt(e,16)}function sw(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function rw(e){var t;const{chainId:a,domain:n,expirationTime:s,issuedAt:r=new Date,nonce:l,notBefore:o,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=J0(e.address),x=d?`${d}://${n}`:n,v=e.statement?`${e.statement}
`:"",_=`${x} wants you to sign in with your Ethereum account:
${g}

${v}`;let p=`URI: ${f}
Version: ${h}
Chain ID: ${a}${l?`
Nonce: ${l}`:""}
Issued At: ${r.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),o&&(p+=`
Not Before: ${o.toISOString()}`),c&&(p+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);m+=`
- ${y}`}p+=m}return`${_}
${p}`}class je extends Error{constructor({message:t,code:a,cause:n,name:s}){var r;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(r=s??(n instanceof Error?n.name:void 0))!==null&&r!==void 0?r:"Unknown Error",this.code=a}}class di extends je{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function lw({error:e,options:t}){var a,n,s;const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((a=r.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=r.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=r.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new je({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return r.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(X0(l)){if(r.rp.id!==l)return new je({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function iw({error:e,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new je({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(X0(n)){if(a.rpId!==n)return new je({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class ow{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const cw=new ow;function uw(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:a,excludeCredentials:n}=e,s=ki(e,["challenge","user","excludeCredentials"]),r=cs(t).buffer,l=Object.assign(Object.assign({},a),{id:cs(a.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:r,user:l});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:cs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function dw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:a}=e,n=ki(e,["challenge","allowCredentials"]),s=cs(t).buffer,r=Object.assign(Object.assign({},n),{challenge:s});if(a&&a.length>0){r.allowCredentials=new Array(a.length);for(let l=0;l<a.length;l++){const o=a[l];r.allowCredentials[l]=Object.assign(Object.assign({},o),{id:cs(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return r}function hw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e;return{id:e.id,rawId:e.id,response:{attestationObject:dn(new Uint8Array(e.response.attestationObject)),clientDataJSON:dn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:dn(new Uint8Array(s.authenticatorData)),clientDataJSON:dn(new Uint8Array(s.clientDataJSON)),signature:dn(new Uint8Array(s.signature)),userHandle:s.userHandle?dn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function X0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function gf(){var e,t;return!!(ze()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function mw(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new di("Browser returned unexpected credential type",t)}:{data:null,error:new di("Empty credential response",t)}}catch(t){return{data:null,error:lw({error:t,options:e})}}}async function gw(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new di("Browser returned unexpected credential type",t)}:{data:null,error:new di("Empty credential response",t)}}catch(t){return{data:null,error:iw({error:t,options:e})}}}const pw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hi(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),a=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const r in s){const l=s[r];if(l!==void 0)if(Array.isArray(l))n[r]=l;else if(a(l))n[r]=l;else if(t(l)){const o=n[r];t(o)?n[r]=hi(o,l):n[r]=hi(l)}else n[r]=l}return n}function vw(e,t){return hi(pw,e,t||{})}function bw(e,t){return hi(yw,e,t||{})}class xw{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:n,signal:s},r){try{const{data:l,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!l)return{data:null,error:o};const c=s??cw.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:u}=l.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(l.webauthn.type){case"create":{const u=vw(l.webauthn.credential_options.publicKey,r==null?void 0:r.create),{data:d,error:f}=await mw({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=bw(l.webauthn.credential_options.publicKey,r==null?void 0:r.request),{data:d,error:f}=await gw(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(l){return C(l)?{data:null,error:l}:{data:null,error:new cn("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:a,webauthn:n}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},r){if(!a)return{data:null,error:new Ur("rpId is required for WebAuthn authentication")};try{if(!gf())return{data:null,error:new cn("Browser does not support WebAuthn",null)};const{data:l,error:o}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:n},signal:s},{request:r});if(!l)return{data:null,error:o};const{webauthn:c}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:c.type,rpId:a,rpOrigins:n,credential_response:c.credential_response}})}catch(l){return C(l)?{data:null,error:l}:{data:null,error:new cn("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},r){if(!a)return{data:null,error:new Ur("rpId is required for WebAuthn registration")};try{if(!gf())return{data:null,error:new cn("Browser does not support WebAuthn",null)};const{data:l,error:o}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:a,rpOrigins:n},signal:s},{create:r});return c?this._verify({factorId:l.id,challengeId:c.challengeId,webauthn:{rpId:a,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(l){return C(l)?{data:null,error:l}:{data:null,error:new cn("Unexpected error in register",l)}}}}aw();const _w={url:p_,storageKey:y_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function pf(e,t,a){return await a()}const Ln={};class kr{get jwks(){var t,a;return(a=(t=Ln[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=Ln[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{cachedAt:t})}constructor(t){var a,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const r=Object.assign(Object.assign({},_w),t);if(this.storageKey=r.storageKey,this.instanceID=(a=kr.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,kr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.instanceID>0&&ze()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=r.persistSession,this.autoRefreshToken=r.autoRefreshToken,this.admin=new W_({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=K0(r.fetch),this.lock=r.lock||pf,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,this.throwOnError=r.throwOnError,r.lock?this.lock=r.lock:this.persistSession&&ze()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=tw:this.lock=pf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Q0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mf(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=mf(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${G0}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},n="none";if(ze()&&(a=k_(window.location.href),this._isImplicitGrantCallback(a)?n="implicit":await this._isPKCECallback(a)&&(n="pkce")),ze()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:r}=await this._getSessionFromURL(a,n);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),j_(r)){const c=(t=r.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:l,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return C(a)?this._returnResult({error:a}):this._returnResult({error:new cn("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,n,s;try{const r=await k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:kt}),{data:l,error:o}=r;if(o||!l)return this._returnResult({data:{user:null,session:null},error:o});const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signUp(t){var a,n,s;try{let r;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Un(this.storage,this.storageKey)),r=await k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:x},xform:kt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;r=await k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kt})}else throw new gl("You must provide either an email or phone number and a password");const{data:l,error:o}=r;if(o||!l)return await Le(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(r){if(await Le(this.storage,`${this.storageKey}-code-verifier`),C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithPassword(t){try{let a;if("email"in t){const{email:r,password:l,options:o}=t;a=await k(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hf})}else if("phone"in t){const{phone:r,password:l,options:o}=t;a=await k(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hf})}else throw new gl("You must provide either an email or phone number and a password");const{data:n,error:s}=a;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const r=new Rn;return this._returnResult({data:{user:null,session:null},error:r})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(a){if(C(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,n,s,r;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(r=t.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,n,s,r,l,o,c,u,d,f,h;let g,x;if("message"in t)g=t.message,x=t.signature;else{const{chain:v,wallet:_,statement:p,options:m}=t;let y;if(ze())if(typeof _=="object")y=_;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")y=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=_}const b=new URL((a=m==null?void 0:m.url)!==null&&a!==void 0?a:window.location.href),j=await y.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=J0(j[0]);let E=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const U=await y.request({method:"eth_chainId"});E=nw(U)}const A={domain:b.host,address:N,statement:p,uri:b.href,version:"1",chainId:E,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=rw(A),x=await y.request({method:"personal_sign",params:[sw(g),N]})}try{const{data:v,error:_}=await k(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:x},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:kt});if(_)throw _;if(!v||!v.session||!v.user){const p=new Rn;return this._returnResult({data:{user:null,session:null},error:p})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:_})}catch(v){if(C(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var a,n,s,r,l,o,c,u,d,f,h,g;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:_,wallet:p,statement:m,options:y}=t;let b;if(ze())if(typeof p=="object")b=p;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))b=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const j=new URL((a=y==null?void 0:y.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in b&&b.signIn){const N=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),m?{statement:m}:null));let E;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")E=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)E=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)x=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((r=y==null?void 0:y.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const N=await b.signMessage(new TextEncoder().encode(x),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=N}}try{const{data:_,error:p}=await k(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:dn(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:kt});if(p)throw p;if(!_||!_.session||!_.user){const m=new Rn;return this._returnResult({data:{user:null,session:null},error:m})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:p})}catch(_){if(C(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const a=await tn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(a??"").split("/");try{if(!n&&this.flowType==="pkce")throw new E_;const{data:r,error:l}=await k(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:kt});if(await Le(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!r||!r.session||!r.user){const o=new Rn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign(Object.assign({},r),{redirectType:s??null}),error:l})}catch(r){if(await Le(this.storage,`${this.storageKey}-code-verifier`),C(r))return this._returnResult({data:{user:null,session:null,redirectType:null},error:r});throw r}}async signInWithIdToken(t){try{const{options:a,provider:n,token:s,access_token:r,nonce:l}=t,o=await k(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:r,nonce:l,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:kt}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Rn;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(a){if(C(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,n,s,r,l;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Un(this.storage,this.storageKey));const{error:f}=await k(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await k(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new gl("You must provide either an email or phone number.")}catch(o){if(await Le(this.storage,`${this.storageKey}-code-verifier`),C(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var a,n;try{let s,r;"options"in t&&(s=(a=t.options)===null||a===void 0?void 0:a.redirectTo,r=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await k(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:r}}),redirectTo:s,xform:kt});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var a,n,s,r,l;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Un(this.storage,this.storageKey));const u=await k(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:X_});return!((r=u.data)===null||r===void 0)&&r.url&&ze()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Le(this.storage,`${this.storageKey}-code-verifier`),C(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;if(n)throw n;if(!a)throw new at;const{error:s}=await k(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(C(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:r}=t,{error:l}=await k(this.fetch,"POST",a,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:s,options:r}=t,{data:l,error:o}=await k(this.fetch,"POST",a,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o})}throw new gl("You must provide either an email or phone number and a type")}catch(a){if(C(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await a()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=a();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await tn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ao:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await tn(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Uo()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=Q_(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:r}=await this._callRefreshToken(t.refresh_token);return r?this._returnResult({data:{session:null},error:r}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(-1,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await k(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ta}):await this._useSession(async a=>{var n,s,r;const{data:l,error:o}=a;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new at}:await k(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0,xform:Ta})})}catch(a){if(C(a))return S_(a)&&(await this._removeSession(),await Le(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async n=>{const{data:s,error:r}=n;if(r)throw r;if(!s.session)throw new at;const l=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Un(this.storage,this.storageKey));const{data:u,error:d}=await k(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Ta});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Le(this.storage,`${this.storageKey}-code-verifier`),C(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new at;const a=Date.now()/1e3;let n=a,s=!0,r=null;const{payload:l}=Ro(t.access_token);if(l.exp&&(n=l.exp,s=n<=a),s){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};r=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;r={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-a,expires_at:n},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return this._returnResult({data:{user:r.user,session:r},error:null})}catch(a){if(C(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var n;if(!t){const{data:l,error:o}=a;if(o)throw o;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new at;const{data:s,error:r}=await this._callRefreshToken(t.refresh_token);return r?this._returnResult({data:{user:null,session:null},error:r}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(C(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!ze())throw new pl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new pl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new sf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pl("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new sf("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:r,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=t;if(!r||!o||!l||!u)throw new pl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=Hn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:v,error:_}=await this._getUser(r);if(_)throw _;const p={provider_token:n,provider_refresh_token:s,access_token:r,expires_in:f,expires_at:h,refresh_token:l,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(n){if(C(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await tn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var n;const{data:s,error:r}=a;if(r)return this._returnResult({error:r});const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(w_(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Le(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=U_(),n={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async a=>{var n,s;try{const{data:{session:r},error:l}=a;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(r){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",r),console.error(r)}})}async resetPasswordForEmail(t,a={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Un(this.storage,this.storageKey,!0));try{return await k(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(r){if(await Le(this.storage,`${this.storageKey}-code-verifier`),C(r))return this._returnResult({data:null,error:r});throw r}}async getUserIdentities(){var t;try{const{data:a,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(C(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:n,error:s}=await this._useSession(async r=>{var l,o,c,u,d;const{data:f,error:h}=r;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await k(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ze()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(C(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var n;try{const{error:s,data:{session:r}}=a;if(s)throw s;const{options:l,provider:o,token:c,access_token:u,nonce:d}=t,f=await k(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=r==null?void 0:r.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:kt}),{data:h,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Rn}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(s){if(await Le(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var n,s;const{data:r,error:l}=a;if(l)throw l;return await k(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(a){if(C(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const n=Date.now();return await z_(async s=>(s>0&&await L_(200*Math.pow(2,s-1)),this._debug(a,"refreshing attempt",s),await k(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kt})),(s,r)=>{const l=200*Math.pow(2,s);return r&&Co(r)&&Date.now()+l-n<Hn})}catch(n){if(this._debug(a,"error",n),C(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",n),ze()&&!a.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,a;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await tn(this.storage,this.storageKey);if(s&&this.userStorage){let l=await tn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Pn(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Uo()}else if(s&&!s.user&&!s.user){const l=await tn(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Le(this.storage,this.storageKey+"-user"),await Pn(this.storage,this.storageKey,s)):s.user=Uo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const r=((a=s.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Ao;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${Ao}s`),r){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Co(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(s.access_token);!o&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var a,n;if(!t)throw new at;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Li;const{data:r,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!r.session)throw new at;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const o={data:r.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(r){if(this._debug(s,"error",r),C(r)){const l={data:null,error:r};return Co(r)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(r),r}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,a,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",a,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:a});const r=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,a)}catch(c){r.push(c)}});if(await Promise.all(l),r.length>0){for(let o=0;o<r.length;o+=1)console.error(r[o]);throw r[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Le(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),n=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&a.user&&await Pn(this.userStorage,this.storageKey+"-user",{user:a.user});const s=Object.assign({},a);delete s.user;const r=uf(s);await Pn(this.storage,this.storageKey,r)}else{const s=uf(a);await Pn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Le(this.storage,this.storageKey),await Le(this.storage,this.storageKey+"-code-verifier"),await Le(this.storage,this.storageKey+"-user"),this.userStorage&&await Le(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Hn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:n}}=a;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Hn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Hn}ms, refresh threshold is ${Pc} ticks`),s<=Pc&&await this._callRefreshToken(n.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof I0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,n){const s=[`provider=${encodeURIComponent(a)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[r,l]=await Un(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const r=new URLSearchParams(n.queryParams);s.push(r.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var n;const{data:s,error:r}=a;return r?this._returnResult({data:null,error:r}):await k(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(a){if(C(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var n,s;const{data:r,error:l}=a;if(l)return this._returnResult({data:null,error:l});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await k(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(a){if(C(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var n;const{data:s,error:r}=a;if(r)return this._returnResult({data:null,error:r});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?hw(t.webauthn.credential_response):fw(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await k(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(a){if(C(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var n;const{data:s,error:r}=a;if(r)return this._returnResult({data:null,error:r});const l=await k(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:o}=l;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:uw(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:dw(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(C(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const r of(t=a==null?void 0:a.factors)!==null&&t!==void 0?t:[])s.all.push(r),r.status==="verified"&&s[r.factor_type].push(r);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,a;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=Ro(n.access_token);let l=null;r.aal&&(l=r.aal);let o=l;((a=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(o="aal2");const u=r.amr||[];return{data:{currentLevel:l,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:n},error:s}=a;return s?this._returnResult({data:null,error:s}):n?await k(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new at})})}catch(a){if(C(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;if(r)return this._returnResult({data:null,error:r});if(!s)return this._returnResult({data:null,error:new at});const l=await k(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return l.data&&l.data.redirect_url&&ze()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,a){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;if(r)return this._returnResult({data:null,error:r});if(!s)return this._returnResult({data:null,error:new at});const l=await k(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return l.data&&l.data.redirect_url&&ze()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;return n?this._returnResult({data:null,error:n}):a?await k(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new at})})}catch(t){if(C(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:n},error:s}=a;return s?this._returnResult({data:null,error:s}):n?(await k(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new at})})}catch(a){if(C(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let n=a.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+x_>s)return n;const{data:r,error:l}=await k(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=s,n=r.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,a={}){try{let n=t;if(!n){const{data:g,error:x}=await this.getSession();if(x||!g.session)return this._returnResult({data:null,error:x});n=g.session.access_token}const{header:s,payload:r,signature:l,raw:{header:o,payload:c}}=Ro(n);a!=null&&a.allowExpired||G_(r.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:r,header:s,signature:l},error:null}}const d=V_(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,l,C_(`${o}.${c}`)))throw new Yc("Invalid JWT signature");return{data:{claims:r,header:s,signature:l},error:null}}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}}}kr.nextInstanceID={};const ww=kr,Sw="2.89.0";let Js="";typeof Deno<"u"?Js="deno":typeof document<"u"?Js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Js="react-native":Js="node";const jw={"X-Client-Info":`supabase-js-${Js}/${Sw}`},Ew={headers:jw},Nw={schema:"public"},Tw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ow={};function Dr(e){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(e)}function Aw(e,t){if(Dr(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(Dr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cw(e){var t=Aw(e,"string");return Dr(t)=="symbol"?t:t+""}function Rw(e,t,a){return(t=Cw(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function yf(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?yf(Object(a),!0).forEach(function(n){Rw(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yf(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}const Uw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kw=()=>Headers,Dw=(e,t,a)=>{const n=Uw(a),s=kw();return async(r,l)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(r,me(me({},l),{},{headers:u}))}};function Lw(e){return e.endsWith("/")?e:e+"/"}function zw(e,t){var a,n;const{db:s,auth:r,realtime:l,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:me(me({},c),s),auth:me(me({},u),r),realtime:me(me({},d),l),storage:{},global:me(me(me({},f),o),{},{headers:me(me({},(a=f==null?void 0:f.headers)!==null&&a!==void 0?a:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Mw(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Lw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var qw=class extends ww{constructor(e){super(e)}},Bw=class{constructor(e,t,a){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const r=Mw(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",r),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",r),this.storageUrl=new URL("storage/v1",r),this.functionsUrl=new URL("functions/v1",r);const l=`sb-${r.hostname.split(".")[0]}-auth-token`,o={db:Nw,realtime:Ow,auth:me(me({},Tw),{},{storageKey:l}),global:Ew},c=zw(a??{},o);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Dw(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(me({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new vx(new URL("rest/v1",r).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new g_(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new fx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,a)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,a;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(a=n.session)===null||a===void 0?void 0:a.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:n,userStorage:s,storageKey:r,flowType:l,lock:o,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qw({url:this.authUrl.href,headers:me(me({},h),d),storageKey:r,autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:n,userStorage:s,flowType:l,lock:o,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Lx(this.realtimeUrl.href,me(me({},e),{},{params:me(me({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $w=(e,t,a)=>new Bw(e,t,a);function Hw(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Hw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Pw=void 0,Gw=void 0,$=$w(Pw,Gw),Gs={FREE:{name:"Free",price:0,features:["Calculator","3 quotes max","No AI confidence checks","No saves or exports"]},PRO:{name:"Pro",price:29,features:["Save presets","Save quotes","Unlimited confidence checks","Export quotes"],stripePriceId:void 0},SHOP:{name:"Shop",price:59,features:["Everything in Pro","Logo + shop info on exports","Team messaging (no enforcement)"],stripePriceId:void 0}};function _s(e){return e==="PRO"||e==="SHOP"}function Qc(e){return e==="PRO"||e==="SHOP"}function Vw(e){return e==="PRO"||e==="SHOP"}function Yw({className:e,variant:t="default",showText:a=!0}){const n=t==="light"?"text-white":"text-gray-900";return i.jsxs(it,{to:"/",className:At("inline-flex items-center gap-3 no-underline",e),children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-teal-600 to-blue-600 flex items-center justify-center shadow-md",children:i.jsx("span",{className:"text-white font-bold text-xl leading-none",children:"W"})}),i.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full bg-teal-400 border-2 border-white"})]})}),a&&i.jsx("span",{className:At("font-bold text-2xl tracking-tight",n),children:"WrapQuote"})]})}const Qw="modulepreload",Kw=function(e){return"/"+e},vf={},Iw=function(t,a,n){let s=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(a.map(c=>{if(c=Kw(c),c in vf)return;vf[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Qw,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return s.then(l=>{for(const o of l||[])o.status==="rejected"&&r(o.reason);return t().catch(r)})};function Pe({children:e,className:t,hover:a=!0}){return i.jsx("div",{className:At("bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",a&&"hover:shadow transition-shadow duration-300",t),children:e})}function hr({children:e,required:t=!1,disabled:a=!1,htmlFor:n,className:s}){return i.jsxs("label",{htmlFor:n,className:At("block text-body-sm font-small-heading mb-2",a?"text-gray-400":"text-gray-900",s),children:[e,t&&i.jsx("span",{className:"text-teal-600",children:" *"})]})}function Ze({label:e,required:t=!1,error:a,disabled:n=!1,className:s,id:r,...l}){const o=w.useId(),c=r||`input-${o}`;return i.jsxs("div",{children:[e&&i.jsx(hr,{htmlFor:c,required:t,disabled:n,children:e}),i.jsx("input",{id:c,disabled:n,className:At("w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600 focus:border-teal-600 transition-colors",a?"border-red-300":n?"bg-gray-50 border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-100",s),...l}),a&&i.jsx("p",{className:"text-body-sm text-red-600 mt-1",children:a})]})}function Mt({variant:e="primary",isLoading:t=!1,disabled:a,className:n,children:s,...r}){const l="px-6 py-3 rounded-lg font-semibold transition-all duration-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-600 focus:ring-offset-2",o={primary:"bg-gradient-to-r from-teal-600 to-blue-600 text-white hover:from-teal-700 hover:to-blue-700 hover:shadow",secondary:"bg-white border-2 border-teal-600 text-teal-600 hover:bg-teal-50 hover:shadow",outline:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"};return i.jsx("button",{disabled:a||t,className:At(l,o[e],(a||t)&&"opacity-50 cursor-not-allowed",n),...r,children:t?"Loading...":s})}function ld({initialMode:e="signup",onSuccess:t,showCard:a=!0,className:n}){const[s,r]=w.useState(e),[l,o]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[h,g]=w.useState(!1),[x,v]=w.useState(null),[_,p]=w.useState(null),[m,y]=w.useState(!1),[b,j]=w.useState(null),[N,E]=w.useState(!1),A=async Q=>{Q.preventDefault(),g(!0),v(null),p(null);try{if(s==="signup"){if(c!==d){v("Passwords do not match. Please try again."),g(!1);return}const{error:se,data:T}=await $.auth.signInWithPassword({email:l,password:"___check_if_user_exists___"});if(se){const Y=(se.message||"").toLowerCase(),K=(se.code||"").toLowerCase();if(Y.includes("invalid login credentials")||Y.includes("invalid email or password")||Y.includes("email not confirmed")||Y.includes("email_not_confirmed")||K==="invalid_credentials"){v('Email is already used. Please sign in instead or use "Forgot Password" to reset your password.'),g(!1);return}}else if(T!=null&&T.user){await $.auth.signOut(),v('Email is already used. Please sign in instead or use "Forgot Password" to reset your password.'),g(!1);return}const{data:z,error:R}=await $.auth.signUp({email:l,password:c,options:{emailRedirectTo:`${window.location.origin}/auth/callback?redirect=/calculator`}});if(R){if(R.message.includes("User already registered")||R.message.includes("already registered")||R.message.includes("Email address already registered")||R.message.includes("already been registered")||R.code==="signup_disabled"||R.message.toLowerCase().includes("already exists")){v('Email is already used. Please sign in instead or use "Forgot Password" to reset your password.'),g(!1);return}throw R}if(!z.user){v('Email is already used. Please sign in instead or use "Forgot Password" to reset your password.'),g(!1);return}if(z.user)try{const{createUserProfile:Y}=await Iw(async()=>{const{createUserProfile:K}=await import("./auth-Cw9nsigq.js");return{createUserProfile:K}},[]);await Y(z.user.id,l)}catch(Y){console.error("Error creating user profile:",Y)}j(l),p(`Check your email for a confirmation link! If you don't see it, check your spam folder or click "Resend verification email" below.`)}else{const{error:se}=await $.auth.signInWithPassword({email:l,password:c});if(se){if(se.message.includes("Email not confirmed")||se.message.includes("email_not_confirmed")){j(l),v('Please verify your email address first. Check your inbox for the confirmation link, or click "Resend verification email" below.');return}if(se.message.includes("Invalid login credentials")||se.message.includes("Invalid email or password")||se.message.includes("invalid_credentials")){v('Invalid email or password. If you forgot your password, click "Forgot Password" below. Otherwise, please check your credentials and try again.');return}throw se}t&&t(),t||(window.location.href="/calculator")}}catch(se){v(se.message||`Failed to ${s==="signup"?"sign up":"sign in"}`)}finally{g(!1)}},U=async()=>{if(!b){v("No email address to resend verification to");return}y(!0),v(null);try{const{error:Q}=await $.auth.resend({type:"signup",email:b,options:{emailRedirectTo:`${window.location.origin}/auth/callback?redirect=/app`}});if(Q)throw Q.message.includes("rate limit")||Q.message.includes("too many")?new Error("Too many requests. Please wait a few minutes before trying again."):Q;p("Verification email sent! Please check your inbox and spam folder. If you still don't see it, check your Supabase email settings.")}catch(Q){v(Q.message||"Failed to send verification email")}finally{y(!1)}},q=async()=>{var Q;if(b){v(null);try{const{data:{session:se},error:T}=await $.auth.getSession();if(T)throw T;(Q=se==null?void 0:se.user)!=null&&Q.email_confirmed_at?(p("Email verified! You can now sign in."),setTimeout(()=>{r("signin")},2e3)):v("Email not yet verified. Please check your inbox for the confirmation link.")}catch(se){v(se.message||"Failed to check verification status")}}},xe=async()=>{if(!l||!l.includes("@")){v("Please enter a valid email address first");return}E(!0),v(null);try{const{error:Q}=await $.auth.resetPasswordForEmail(l,{redirectTo:`${window.location.origin}/auth/callback?redirect=/calculator&type=recovery`});if(Q)throw Q;p("Password reset email sent! Check your inbox for instructions to reset your password.")}catch(Q){v(Q.message||"Failed to send password reset email")}finally{E(!1)}},Ge=()=>{r("signin"),v(null),p(null)},Kt=i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-section-heading text-gray-900 mb-2",children:s==="signup"?"Create Account":"Sign In"}),i.jsx("p",{className:"text-body-base text-gray-600",children:s==="signup"?"Start quoting wrap projects with ease":"Welcome back to WrapQuote"})]}),x&&i.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[i.jsx("p",{className:"text-body-sm text-red-600 mb-3",children:x}),(x.includes("already used")||x.includes("already exists")||x.includes("already registered"))&&i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-2",children:[i.jsx(Mt,{type:"button",variant:"secondary",onClick:Ge,className:"flex-1 text-body-sm",children:"Sign In Instead"}),i.jsx(Mt,{type:"button",variant:"secondary",onClick:xe,disabled:N,className:"flex-1 text-body-sm",children:N?"Sending...":"Forgot Password"})]}),x.includes("Invalid email or password")&&i.jsx("div",{className:"mt-2",children:i.jsx(Mt,{type:"button",variant:"secondary",onClick:xe,disabled:N||!l,className:"w-full text-body-sm",children:N?"Sending...":"Forgot Password"})})]}),_&&i.jsxs("div",{className:"mb-4 p-3 bg-teal-50 border border-teal-200 rounded-lg",children:[i.jsx("p",{className:"text-body-sm text-teal-600 mb-2",children:_}),b&&i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsxs("p",{className:"text-body-sm text-gray-700",children:[i.jsx("strong",{children:"Email:"})," ",b]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsx(Mt,{type:"button",variant:"secondary",onClick:U,disabled:m,className:"flex-1 text-body-sm",children:m?"Sending...":"Resend Email"}),i.jsx(Mt,{type:"button",variant:"secondary",onClick:q,className:"flex-1 text-body-sm",children:"Check Status"})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-teal-200",children:[i.jsx("p",{className:"text-body-sm text-gray-600 font-semibold mb-1",children:"Still not receiving emails?"}),i.jsx("ul",{className:"text-body-sm text-gray-600 space-y-1 list-disc list-inside",children:i.jsx("li",{children:"Check your spam/junk folder"})})]})]})]}),i.jsxs("form",{onSubmit:A,className:"space-y-4",children:[i.jsx(Ze,{label:"Email",type:"email",value:l,onChange:Q=>o(Q.target.value),required:!0,placeholder:"you@example.com"}),i.jsx(Ze,{label:"Password",type:"password",value:c,onChange:Q=>u(Q.target.value),required:!0,minLength:8,placeholder:""}),s==="signup"&&i.jsxs(i.Fragment,{children:[i.jsx(Ze,{label:"Confirm Password",type:"password",value:d,onChange:Q=>f(Q.target.value),required:!0,minLength:8,placeholder:""}),i.jsx("p",{className:"text-body-sm text-gray-500",children:"Must be at least 8 characters"})]}),i.jsx(Mt,{type:"submit",disabled:h,className:"w-full",children:h?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s==="signup"?"Creating account...":"Signing in..."]}):s==="signup"?"Create Account":"Sign In"})]}),i.jsxs("div",{className:"mt-6 space-y-2 text-center",children:[i.jsx("button",{onClick:()=>{r(s==="signin"?"signup":"signin"),v(null),p(null),j(null),f("")},className:"text-body-sm text-teal-600 hover:text-teal-700 font-medium block w-full",children:s==="signin"?"Don't have an account? Sign up":"Already have an account? Sign in"}),s==="signin"&&i.jsx("button",{onClick:xe,disabled:N||!l,className:"text-body-sm text-gray-600 hover:text-gray-700 font-medium block w-full disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Sending password reset...":"Forgot Password?"})]})]});return a?i.jsx(Pe,{className:n,children:Kt}):i.jsx("div",{className:n,children:Kt})}function Jw({isOpen:e,onClose:t,onSuccess:a}){return e?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 p-8 relative",children:[i.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx(ld,{initialMode:"signin",onSuccess:()=>{a(),t()},showCard:!1})]})}):null}function Xw(){const[e,t]=w.useState(null),[a,n]=w.useState(!0),[s,r]=w.useState(!1);w.useEffect(()=>{$.auth.getSession().then(({data:{session:u},error:d})=>{d?console.error("Session error:",d):t((u==null?void 0:u.user)??null),n(!1)}).catch(u=>{console.error("Session error:",u),n(!1)});const{data:{subscription:c}}=$.auth.onAuthStateChange((u,d)=>{t((d==null?void 0:d.user)??null),d!=null&&d.user&&r(!1)});return()=>c.unsubscribe()},[]);const l=async()=>{try{const{error:c}=await $.auth.signOut();c&&console.error("Sign out error:",c)}catch(c){console.error("Sign out error:",c)}},o=()=>{r(!1)};return a?i.jsx("div",{className:"text-body-sm text-gray-600",children:"Loading..."}):i.jsxs(i.Fragment,{children:[e?i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-body-sm text-gray-900",children:e.email}),i.jsx("button",{onClick:l,className:"px-4 py-2 text-body-sm bg-white border-2 border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg font-semibold transition-colors duration-300",children:"Sign Out"})]}):i.jsx("button",{onClick:()=>r(!0),className:"px-6 py-2 text-body-sm bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-semibold transition-colors duration-300 shadow-sm hover:shadow",children:"Sign In / Sign Up"}),i.jsx(Jw,{isOpen:s,onClose:()=>r(!1),onSuccess:o})]})}function Et({currentPage:e}){const[t,a]=w.useState(null),[n,s]=w.useState("FREE");return w.useEffect(()=>{const r=async()=>{const{data:{session:o}}=await $.auth.getSession();if(a((o==null?void 0:o.user)??null),o!=null&&o.user){const{data:c}=await $.from("users").select("subscription_tier").eq("id",o.user.id).single();c&&s(c.subscription_tier)}};r();const{data:{subscription:l}}=$.auth.onAuthStateChange((o,c)=>{a((c==null?void 0:c.user)??null),c!=null&&c.user?r():s("FREE")});return()=>l.unsubscribe()},[]),i.jsx("header",{className:"w-full py-6 px-4 sm:px-6 lg:px-8 border-b border-gray-200",children:i.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[i.jsx(Yw,{}),i.jsxs("nav",{className:"flex items-center gap-4",children:[i.jsx(it,{to:"/",className:`text-body-base font-medium transition-colors ${e==="home"?"text-teal-600 font-semibold":"text-gray-700 hover:text-teal-600"}`,children:"Home"}),i.jsx(it,{to:"/calculator",className:`text-body-base font-medium transition-colors ${e==="calculator"?"text-teal-600 font-semibold":"text-gray-700 hover:text-teal-600"}`,children:"WrapQuote APP"}),t&&_s(n)&&i.jsx(it,{to:"/quotes",className:`px-6 py-3 bg-white border-2 border-teal-600 text-teal-600 hover:bg-teal-50 rounded-lg font-semibold transition-all duration-300 shadow-sm hover:shadow ${e==="quotes"?"bg-teal-50":""}`,children:"My Quotes"}),i.jsx(Xw,{})]})]})})}function Fw(){const e=[{name:"Material estimate (sqft + linear feet)",freeCalculators:!0,fullShopSoftware:!0,wrapQuote:!0},{name:"Accounts for waste + complexity",freeCalculators:!1,fullShopSoftware:!0,wrapQuote:!0},{name:"Pricing math (labor, overhead, profit)",freeCalculators:!1,fullShopSoftware:!0,wrapQuote:!0},{name:"Color Change + Commercial Print",freeCalculators:!1,fullShopSoftware:!0,wrapQuote:!0},{name:"Print-only + Install-only modes",freeCalculators:!1,fullShopSoftware:!0,wrapQuote:!0},{name:"Save presets + quote history",freeCalculators:!1,fullShopSoftware:!0,wrapQuote:!0,wrapQuoteNote:"(Pro+)"},{name:"Export professional quotes (PDF)",freeCalculators:!1,fullShopSoftware:!0,wrapQuote:!0,wrapQuoteNote:"(Pro+)"},{name:"Pricing confidence check",freeCalculators:!1,fullShopSoftware:!1,wrapQuote:!0}];return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"hidden md:block overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b-2 border-gray-300",children:[i.jsx("th",{className:"text-left py-4 px-4 text-small-heading text-gray-900"}),i.jsx("th",{className:"text-center py-4 px-4 text-small-heading text-gray-900",children:"Free Calculators"}),i.jsx("th",{className:"text-center py-4 px-4 text-small-heading text-gray-900",children:"Full Shop Software"}),i.jsx("th",{className:"text-center py-4 px-4 text-small-heading text-gray-900 bg-teal-50",children:"WrapQuote"})]})}),i.jsx("tbody",{children:e.map((t,a)=>i.jsxs("tr",{className:a%2===0?"bg-gray-50":"bg-white",children:[i.jsx("td",{className:"py-4 px-4 text-body-base text-gray-700",children:t.name}),i.jsx("td",{className:"py-4 px-4 text-center",children:t.freeCalculators?i.jsx("span",{className:"text-teal-600 font-bold text-lg",children:""}):i.jsx("span",{className:"text-gray-400 text-lg",children:""})}),i.jsx("td",{className:"py-4 px-4 text-center",children:t.fullShopSoftware?i.jsx("span",{className:"text-teal-600 font-bold text-lg",children:""}):i.jsx("span",{className:"text-gray-400 text-lg",children:""})}),i.jsx("td",{className:"py-4 px-4 text-center bg-teal-50",children:t.wrapQuote?i.jsxs("span",{className:"text-teal-600 font-bold text-lg",children:["",t.wrapQuoteNote&&i.jsx("span",{className:"text-body-sm font-normal text-gray-600 ml-1",children:t.wrapQuoteNote})]}):i.jsx("span",{className:"text-gray-400 text-lg",children:""})})]},a))})]})}),i.jsxs("div",{className:"md:hidden space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-card-heading text-gray-900 mb-4 text-center",children:"Free Calculators"}),i.jsx("ul",{className:"space-y-3",children:e.map((t,a)=>i.jsxs("li",{className:"flex items-start justify-between",children:[i.jsx("span",{className:"text-body-sm text-gray-700 flex-1 pr-2",children:t.name}),t.freeCalculators?i.jsx("span",{className:"text-teal-600 font-bold flex-shrink-0",children:""}):i.jsx("span",{className:"text-gray-400 flex-shrink-0",children:""})]},a))})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-card-heading text-gray-900 mb-4 text-center",children:"Full Shop Software"}),i.jsx("ul",{className:"space-y-3",children:e.map((t,a)=>i.jsxs("li",{className:"flex items-start justify-between",children:[i.jsx("span",{className:"text-body-sm text-gray-700 flex-1 pr-2",children:t.name}),t.fullShopSoftware?i.jsx("span",{className:"text-teal-600 font-bold flex-shrink-0",children:""}):i.jsx("span",{className:"text-gray-400 flex-shrink-0",children:""})]},a))})]}),i.jsxs("div",{className:"bg-teal-50 rounded-xl border-2 border-teal-600 p-6",children:[i.jsx("h3",{className:"text-card-heading text-gray-900 mb-4 text-center",children:"WrapQuote"}),i.jsx("ul",{className:"space-y-3",children:e.map((t,a)=>i.jsxs("li",{className:"flex items-start justify-between",children:[i.jsxs("span",{className:"text-body-sm text-gray-700 flex-1 pr-2",children:[t.name,t.wrapQuoteNote&&i.jsx("span",{className:"text-body-sm text-gray-600 ml-1",children:t.wrapQuoteNote})]}),t.wrapQuote?i.jsx("span",{className:"text-teal-600 font-bold flex-shrink-0",children:""}):i.jsx("span",{className:"text-gray-400 flex-shrink-0",children:""})]},a))})]})]})]})}function Zw(){return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Et,{currentPage:"home"}),i.jsx(nt,{className:"bg-gradient-to-br from-teal-50 via-blue-50 to-white",children:i.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[i.jsx("h1",{className:"text-hero-heading text-gray-900 mb-6",children:"Stop guessing wrap pricing."}),i.jsx("p",{className:"text-body-xl text-gray-700 mb-4",children:"Quote wraps with confidence in under 60 seconds."}),i.jsx("p",{className:"text-body-base text-gray-600 mb-8",children:"Material estimates + real pricing math for wrap installers and shops."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-4",children:[i.jsx(un,{href:"/signup",children:"Quote your Project"}),i.jsx(it,{to:"/pricing",className:"text-body-base text-teal-600 hover:text-teal-700 font-semibold",children:"See Pricing"})]}),i.jsx("p",{className:"text-body-sm text-gray-500",children:"No credit card required."})]})}),i.jsx(nt,{children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsx("h2",{className:"text-section-heading text-gray-900 mb-8 text-center",children:"WrapQuote helps you:"}),i.jsxs("ul",{className:"space-y-4",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-teal-100 rounded-full flex items-center justify-center mr-4 mt-0.5",children:i.jsx("span",{className:"text-teal-600 font-bold text-sm",children:""})}),i.jsx("p",{className:"text-body-base text-gray-700",children:"Estimate vinyl (sqft + linear feet)"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-teal-100 rounded-full flex items-center justify-center mr-4 mt-0.5",children:i.jsx("span",{className:"text-teal-600 font-bold text-sm",children:""})}),i.jsx("p",{className:"text-body-base text-gray-700",children:"Price jobs with labor, costs, and profit"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-teal-100 rounded-full flex items-center justify-center mr-4 mt-0.5",children:i.jsx("span",{className:"text-teal-600 font-bold text-sm",children:""})}),i.jsx("p",{className:"text-body-base text-gray-700",children:"Sanity-check your quote before you send it"})]})]})]})}),i.jsx(nt,{className:"bg-white",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("div",{className:"bg-gray-100 rounded-xl border-2 border-dashed border-gray-300 p-16 md:p-24 flex items-center justify-center",children:i.jsx("p",{className:"text-body-base text-gray-500 text-center",children:"App Screenshot"})}),i.jsx("p",{className:"text-body-sm text-gray-600 text-center mt-6 max-w-2xl mx-auto",children:"Select the vehicle  choose the wrap  get material + pricing instantly."})]})}),i.jsx(nt,{children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsx("h2",{className:"text-section-heading text-gray-900 mb-8 text-center",children:"Built for real wrap jobs"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsx("li",{className:"text-body-base text-gray-700 text-center",children:"Color change (solid vinyl installs)"}),i.jsx("li",{className:"text-body-base text-gray-700 text-center",children:"Commercial print + install"}),i.jsx("li",{className:"text-body-base text-gray-700 text-center",children:"Print-only or install-only quotes"})]})]})}),i.jsx(nt,{className:"bg-white",children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsx("h2",{className:"text-section-heading text-gray-900 mb-8 text-center",children:"Why wrap pros use WrapQuote"}),i.jsxs("ul",{className:"space-y-4",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-4 mt-0.5",children:i.jsx("span",{className:"text-blue-600 font-bold text-sm",children:""})}),i.jsx("p",{className:"text-body-base text-gray-700",children:"No under-ordering: waste + complexity built in"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-4 mt-0.5",children:i.jsx("span",{className:"text-blue-600 font-bold text-sm",children:""})}),i.jsx("p",{className:"text-body-base text-gray-700",children:"No underpricing: labor, overhead, and profit shown clearly"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-4 mt-0.5",children:i.jsx("span",{className:"text-blue-600 font-bold text-sm",children:""})}),i.jsx("p",{className:"text-body-base text-gray-700",children:"No second guessing: confidence check before you send"})]})]})]})}),i.jsx(nt,{children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsx("h2",{className:"text-section-heading text-gray-900 mb-4 text-center",children:"How WrapQuote compares"}),i.jsx("p",{className:"text-body-base text-gray-600 mb-8 text-center",children:"More capable than free calculators  without the complexity of full shop software."}),i.jsx(Fw,{}),i.jsx("p",{className:"text-body-sm text-gray-500 text-center mt-6 max-w-2xl mx-auto",children:"WrapQuote focuses on fast quoting + exports  not CRM, scheduling, or inventory."}),i.jsx("div",{className:"text-center mt-8",children:i.jsx(un,{href:"/signup",children:"Try the Calculator Free"})})]})}),i.jsx(nt,{children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("h2",{className:"text-section-heading text-gray-900 mb-12 text-center",children:"Simple pricing"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 text-center",children:[i.jsx("h3",{className:"text-card-heading text-gray-900 mb-2",children:"FREE"}),i.jsx("p",{className:"text-body-base text-gray-700",children:"Try the calculator"})]}),i.jsxs("div",{className:"bg-white rounded-xl border-2 border-teal-600 p-6 text-center",children:[i.jsx("h3",{className:"text-card-heading text-gray-900 mb-2",children:"PRO"}),i.jsx("p",{className:"text-body-base text-gray-700",children:"$29/mo: Save presets + export quotes"})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 text-center",children:[i.jsx("h3",{className:"text-card-heading text-gray-900 mb-2",children:"SHOP"}),i.jsx("p",{className:"text-body-base text-gray-700",children:"$59/mo: Add logo + shop info"})]})]}),i.jsx("div",{className:"text-center",children:i.jsx(un,{href:"/pricing",variant:"secondary",children:"See Pricing"})})]})}),i.jsx(nt,{className:"bg-white",children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsx("h2",{className:"text-section-heading text-gray-900 mb-12 text-center",children:"FAQ"}),i.jsxs("dl",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("dt",{className:"text-small-heading text-gray-900 mb-2",children:"Are these exact measurements?"}),i.jsx("dd",{className:"text-body-base text-gray-600",children:"Norealistic estimates with adjustable waste."})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-small-heading text-gray-900 mb-2",children:"Does AI set my price?"}),i.jsx("dd",{className:"text-body-base text-gray-600",children:"NoAI only flags risk and what to double-check."})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-small-heading text-gray-900 mb-2",children:"Can I cancel anytime?"}),i.jsx("dd",{className:"text-body-base text-gray-600",children:"Yes. Manage billing in the portal."})]})]})]})}),i.jsx(nt,{className:"bg-gradient-to-br from-teal-50 via-blue-50 to-white",children:i.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[i.jsx("h2",{className:"text-section-heading text-gray-900 mb-6",children:"Quote wraps faster. Price them smarter."}),i.jsx(un,{href:"/signup",className:"text-lg px-10 py-5",children:"Quote your Project"})]})}),i.jsx("footer",{className:"bg-gray-900 text-white py-6",children:i.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:i.jsx("p",{className:"text-body-sm text-gray-400",children:"Built for wrap installers and wrap shops."})})})]})}const Kc={compact_sedan:{full_wrap:180,partial_wrap:90,commercial_sides:70,hood:22,roof:27,trunk:18,decals_basic:5,decals_complex:15},midsize_sedan:{full_wrap:200,partial_wrap:100,commercial_sides:80,hood:25,roof:30,trunk:20,decals_basic:5,decals_complex:15},fullsize_sedan:{full_wrap:220,partial_wrap:110,commercial_sides:90,hood:28,roof:33,trunk:22,decals_basic:5,decals_complex:15},compact_suv:{full_wrap:230,partial_wrap:115,commercial_sides:95,hood:27,roof:32,trunk:0,decals_basic:5,decals_complex:15},midsize_suv:{full_wrap:250,partial_wrap:125,commercial_sides:100,hood:30,roof:35,trunk:0,decals_basic:5,decals_complex:15},fullsize_suv:{full_wrap:280,partial_wrap:140,commercial_sides:115,hood:33,roof:38,trunk:0,decals_basic:5,decals_complex:15},pickup_short_bed:{full_wrap:260,partial_wrap:130,commercial_sides:110,hood:32,roof:37,trunk:0,decals_basic:5,decals_complex:15},pickup_long_bed:{full_wrap:300,partial_wrap:150,commercial_sides:130,hood:35,roof:40,trunk:0,decals_basic:5,decals_complex:15},cargo_van:{full_wrap:300,partial_wrap:150,commercial_sides:130,hood:0,roof:35,trunk:0,decals_basic:5,decals_complex:15},sprinter_van:{full_wrap:320,partial_wrap:160,commercial_sides:140,hood:0,roof:35,trunk:0,decals_basic:5,decals_complex:15},coupe:{full_wrap:180,partial_wrap:90,commercial_sides:70,hood:20,roof:25,trunk:18,decals_basic:5,decals_complex:15},hatchback:{full_wrap:190,partial_wrap:95,commercial_sides:75,hood:22,roof:27,trunk:20,decals_basic:5,decals_complex:15},motorcycle:{full_wrap:50,partial_wrap:25,commercial_sides:0,hood:0,roof:0,trunk:0,decals_basic:3,decals_complex:8},commercial_van:{full_wrap:320,partial_wrap:160,commercial_sides:140,hood:0,roof:35,trunk:0,decals_basic:5,decals_complex:15},commercial_truck:{full_wrap:350,partial_wrap:175,commercial_sides:150,hood:40,roof:45,trunk:0,decals_basic:5,decals_complex:15},box_truck_small:{full_wrap:450,partial_wrap:225,commercial_sides:180,hood:0,roof:45,trunk:0,decals_basic:8,decals_complex:20},box_truck_large:{full_wrap:550,partial_wrap:275,commercial_sides:220,hood:0,roof:55,trunk:0,decals_basic:10,decals_complex:25},semi:{full_wrap:800,partial_wrap:400,commercial_sides:300,hood:0,roof:60,trunk:0,decals_basic:10,decals_complex:25}},zn={"3M_1080":8.5,"3M_2080":12,Avery_Dennison_SC900:7.5,Avery_Dennison_SC950:10.5,Oracal_970RA:6.5,Oracal_751:5.5,Vvivid:9,Arlon_SLX:11,Hexis:13,Other:0},Ut={"3M_IJ180":{printCostPerSqft:4.5,lamCostPerSqft:1.75},"3M_IJ680":{printCostPerSqft:3.25,lamCostPerSqft:1.5},Avery_Dennison_DOL:{printCostPerSqft:4,lamCostPerSqft:1.6},Avery_Dennison_MPI_1005:{printCostPerSqft:3,lamCostPerSqft:1.4},Oracal_3651:{printCostPerSqft:3.75,lamCostPerSqft:1.65},Oracal_3751:{printCostPerSqft:2.75,lamCostPerSqft:1.35},Arlon_DJL:{printCostPerSqft:4.25,lamCostPerSqft:1.7},Avery_Dennison_EZ:{printCostPerSqft:2.5,lamCostPerSqft:1.25},Other:{printCostPerSqft:0,lamCostPerSqft:0}},Ic={compact_sedan:{full_wrap:14,partial_wrap:7,commercial_sides:5.5,hood:1.75,roof:2.25,trunk:1.5,decals_basic:.5,decals_complex:1.5},midsize_sedan:{full_wrap:16,partial_wrap:8,commercial_sides:6,hood:2,roof:2.5,trunk:1.75,decals_basic:.5,decals_complex:1.5},fullsize_sedan:{full_wrap:18,partial_wrap:9,commercial_sides:6.5,hood:2.25,roof:2.75,trunk:2,decals_basic:.5,decals_complex:1.5},compact_suv:{full_wrap:18,partial_wrap:9,commercial_sides:7.5,hood:2.25,roof:2.75,trunk:0,decals_basic:.5,decals_complex:1.5},midsize_suv:{full_wrap:20,partial_wrap:10,commercial_sides:8,hood:2.5,roof:3,trunk:0,decals_basic:.5,decals_complex:1.5},fullsize_suv:{full_wrap:22,partial_wrap:11,commercial_sides:9,hood:2.75,roof:3.25,trunk:0,decals_basic:.5,decals_complex:1.5},pickup_short_bed:{full_wrap:20,partial_wrap:10,commercial_sides:8.5,hood:2.75,roof:3.25,trunk:0,decals_basic:.5,decals_complex:1.5},pickup_long_bed:{full_wrap:24,partial_wrap:12,commercial_sides:10,hood:3,roof:3.5,trunk:0,decals_basic:.5,decals_complex:1.5},cargo_van:{full_wrap:24,partial_wrap:12,commercial_sides:10,hood:0,roof:3.5,trunk:0,decals_basic:.5,decals_complex:1.5},sprinter_van:{full_wrap:26,partial_wrap:13,commercial_sides:11,hood:0,roof:4,trunk:0,decals_basic:.5,decals_complex:1.5},coupe:{full_wrap:14,partial_wrap:7,commercial_sides:5,hood:1.5,roof:2,trunk:1.5,decals_basic:.5,decals_complex:1.5},hatchback:{full_wrap:15,partial_wrap:7.5,commercial_sides:5.5,hood:1.75,roof:2.25,trunk:1.75,decals_basic:.5,decals_complex:1.5},motorcycle:{full_wrap:8,partial_wrap:4,commercial_sides:0,hood:0,roof:0,trunk:0,decals_basic:.25,decals_complex:.75},commercial_van:{full_wrap:26,partial_wrap:13,commercial_sides:11,hood:0,roof:4,trunk:0,decals_basic:.5,decals_complex:1.5},commercial_truck:{full_wrap:28,partial_wrap:14,commercial_sides:12,hood:3.5,roof:4.5,trunk:0,decals_basic:.5,decals_complex:1.5},box_truck_small:{full_wrap:35,partial_wrap:17.5,commercial_sides:14,hood:0,roof:4.5,trunk:0,decals_basic:1,decals_complex:2},box_truck_large:{full_wrap:45,partial_wrap:22.5,commercial_sides:18,hood:0,roof:5.5,trunk:0,decals_basic:1,decals_complex:2},semi:{full_wrap:60,partial_wrap:30,commercial_sides:24,hood:0,roof:6,trunk:0,decals_basic:1,decals_complex:2}},yl={mirrors:.02,roof_rails:.03,rivets:.05,deep_recesses:.04},vl={mirrors:.5,roof_rails:1,rivets:2,deep_recesses:1.5},Ww={full_wrap:50,partial_wrap:25,commercial_sides:30,hood:10,roof:10,trunk:10,decals_basic:0,decals_complex:0},bf={full_wrap:12,partial_wrap:6,commercial_sides:8,hood:1,roof:1,trunk:1,decals_basic:.5,decals_complex:1};function eS(e){let t=0;return e.mirrors&&(t+=yl.mirrors),e.roof_rails&&(t+=yl.roof_rails),e.rivets&&(t+=yl.rivets),e.deep_recesses&&(t+=yl.deep_recesses),t}function tS(e){let t=0;return e.mirrors&&(t+=vl.mirrors),e.roof_rails&&(t+=vl.roof_rails),e.rivets&&(t+=vl.rivets),e.deep_recesses&&(t+=vl.deep_recesses),t}function aS(e){const{vehicleBucket:t,wrapType:a,rollWidthInches:n,wastePercent:s,complexity:r,excludeRoof:l=!1}=e;let o=Kc[t][a];if(a==="full_wrap"&&l){const g=Kc[t].roof;o=Math.max(0,o-g)}const c=eS(r),u=o*(1+s+c),d=u/(n/12);let f=Math.ceil(d);const h=Ww[a];return h>0&&(f=Math.max(f,h)),{baseSqft:o,adjustedSqft:u,linearFeetRaw:d,linearFeet:f,complexityWastePercent:c}}function nS(e){const{vehicleBucket:t,wrapType:a,complexity:n,manualHours:s,excludeRoof:r=!1}=e;if(s!==void 0){const d=bf[a];return{baseHours:0,complexityHours:0,totalLaborHours:Math.max(s,d)}}let l=Ic[t][a];if(a==="full_wrap"&&r){const d=Ic[t].roof;l=Math.max(0,l-d)}const o=tS(n);let c=l+o;const u=bf[a];return c=Math.max(c,u),{baseHours:l,complexityHours:o,totalLaborHours:c}}function sS(e){const{linearFeet:t,adjustedSqft:a,totalLaborHours:n,jobType:s,wrapCategory:r,vinylCostPerLf:l,printCostPerSqft:o=0,lamCostPerSqft:c=0,designFeeFlat:u=0,laborRatePerHour:d,overheadFlat:f=0,pricingMode:h,pricingPercent:g,depositPercent:x=0}=e;let v=o,_=c;r==="COLOR_CHANGE"&&(v=0,_=0);let p=0;s!=="INSTALL_ONLY"?p=t*l+a*v+a*_:r==="COLOR_CHANGE"&&(p=t*l);let m=0;s!=="PRINT_ONLY"&&(m=d*n);const y=p+m+f+u;let b;if(h==="margin"){const A=Math.min(g,.7);b=y/(1-A)}else{const A=Math.min(g,3);b=y*(1+A)}const j=b-y,N=b>0?j/b:0,E=b*(x/100);return{materialCost:p,laborCost:m,subtotalCost:y,retail:b,profitDollars:j,profitMargin:N,depositAmount:E}}async function rS(e){try{const{data:t,error:a}=await $.functions.invoke("ai-confidence",{body:e});if(a)throw a;return t}catch(t){throw console.error("AI confidence check error:",t),new Error("AI service not available. Please set up Supabase Edge Function.")}}function lS({input:e,onResult:t,disabled:a=!1}){const[n,s]=w.useState(!1),[r,l]=w.useState(null),o=async()=>{s(!0),l(null);try{const c=await rS(e);t(c)}catch(c){l(c.message||"An error occurred")}finally{s(!1)}};return i.jsxs("div",{className:"mt-4",children:[i.jsx("button",{onClick:()=>{a&&!n||!a&&!n&&o()},disabled:n,className:At("px-4 py-2 rounded-md text-sm transition-colors",a?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 text-white"),children:n?"Checking...":"AI Confidence Check"}),r&&i.jsx("p",{className:"mt-2 text-sm text-red-600",children:r})]})}function iS({result:e}){const t=a=>{switch(a){case"SAFE":return"text-green-800 bg-green-100 border-green-300";case"AGGRESSIVE":return"text-yellow-800 bg-yellow-100 border-yellow-300";case"RISKY":return"text-red-800 bg-red-100 border-red-300";default:return"text-gray-800 bg-gray-100 border-gray-300"}};return i.jsxs("div",{className:`mt-4 p-4 rounded-lg border ${t(e.rating)}`,children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("h3",{className:"font-semibold",children:["AI Confidence: ",e.rating]})}),e.reasons.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsx("h4",{className:"text-sm font-medium mb-2",children:"Reasons:"}),i.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:e.reasons.map((a,n)=>i.jsx("li",{children:a},n))})]}),e.suggestedAdjustments.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-2",children:"Suggested Adjustments:"}),i.jsx("ul",{className:"space-y-2",children:e.suggestedAdjustments.map((a,n)=>i.jsxs("li",{className:"text-sm",children:[i.jsxs("span",{className:"font-medium",children:[a.field,":"]})," ",a.change," -"," ",a.rationale]},n))})]})]})}function oS({user:e,currentTier:t,onUpgrade:a}){const[n,s]=w.useState(!1),[r,l]=w.useState(null),[o,c]=w.useState(!1),u=async h=>{if(!e){alert("Please sign in to upgrade");return}s(!0),l(h);try{const g=Gs[h].stripePriceId;if(!g){alert("Price ID not configured");return}const x=await fetch("/api/stripe/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:g,userId:e.id,userEmail:e.email})}),{url:v}=await x.json();v&&(window.location.href=v)}catch(g){alert(`Error: ${g.message}`)}finally{s(!1),l(null)}};if(t==="SHOP"||o)return null;const d=Gs.PRO.features,f=Gs.SHOP.features;return i.jsxs("div",{className:"relative mb-8 overflow-hidden rounded-2xl border border-gray-200 bg-gradient-to-br from-teal-50 via-blue-50 to-white shadow-lg transition-all duration-300 hover:shadow-xl",children:[i.jsx("div",{className:"absolute inset-0 opacity-5",children:i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(13,148,136,0.1),transparent_50%)]"})}),i.jsxs("div",{className:"relative p-6 md:p-8",children:[i.jsxs("div",{className:"mb-6 flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Unlock Premium Features"}),i.jsx("p",{className:"text-body-base text-gray-600",children:t==="FREE"?"Get more power with Pro or Shop plans":"Upgrade to Shop for the complete experience"})]}),i.jsx("button",{onClick:()=>c(!0),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100","aria-label":"Dismiss",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[t==="FREE"&&i.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 border border-gray-200 hover:border-teal-300 transition-all duration-300 hover:shadow-md",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-card-heading font-semibold text-gray-900 mb-1",children:"Pro"}),i.jsx("p",{className:"text-body-sm text-gray-600",children:"For professionals"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-teal-600",children:["$",Gs.PRO.price]}),i.jsx("div",{className:"text-xs text-gray-500",children:"per month"})]})]}),i.jsx("ul",{className:"space-y-2 mb-6",children:d.map((h,g)=>i.jsxs("li",{className:"flex items-start text-body-sm text-gray-700",children:[i.jsx("svg",{className:"w-5 h-5 text-teal-600 mr-2 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),h]},g))}),i.jsx("button",{onClick:()=>u("PRO"),disabled:n&&r==="PRO",className:"w-full px-6 py-3 bg-teal-600 hover:bg-teal-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg font-semibold transition-all duration-300 shadow-sm hover:shadow-md transform hover:-translate-y-0.5",children:n&&r==="PRO"?i.jsxs("span",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Upgrade to Pro"})]}),i.jsxs("div",{className:`bg-gradient-to-br from-blue-50 to-teal-50 rounded-xl p-6 border-2 ${t==="PRO"?"border-teal-600":"border-blue-200"} hover:border-teal-600 transition-all duration-300 hover:shadow-md relative overflow-hidden`,children:[t==="FREE"&&i.jsx("div",{className:"absolute top-4 left-4",children:i.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-white bg-gradient-to-r from-blue-600 to-teal-600 rounded-full",children:"Most Popular"})}),i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:t==="FREE"?"mt-6":"",children:[i.jsx("h4",{className:"text-card-heading font-semibold text-gray-900 mb-1",children:"Shop"}),i.jsx("p",{className:"text-body-sm text-gray-600",children:"For shops & teams"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-teal-700",children:["$",Gs.SHOP.price]}),i.jsx("div",{className:"text-xs text-gray-500",children:"per month"})]})]}),i.jsx("ul",{className:"space-y-2 mb-6",children:(t==="FREE"?f:f.slice(1)).map((h,g)=>i.jsxs("li",{className:"flex items-start text-body-sm text-gray-700",children:[i.jsx("svg",{className:"w-5 h-5 text-teal-600 mr-2 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),h]},g))}),i.jsx("button",{onClick:()=>u("SHOP"),disabled:n&&r==="SHOP",className:`w-full px-6 py-3 rounded-lg font-semibold transition-all duration-300 shadow-sm hover:shadow-md transform hover:-translate-y-0.5 disabled:bg-gray-400 disabled:cursor-not-allowed ${t==="PRO"?"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white":"bg-white border-2 border-teal-600 text-teal-600 hover:bg-teal-50 hover:border-teal-700"}`,children:n&&r==="SHOP"?i.jsxs("span",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Upgrade to Shop"})]})]}),i.jsxs("p",{className:"text-center text-body-sm text-gray-500",children:[!e&&"Sign in to upgrade your plan  ","All plans include a 14-day free trial"]})]})]})}function xf({userEmail:e,isEmailVerified:t,onComplete:a}){const[n,s]=w.useState(""),[r,l]=w.useState(""),[o,c]=w.useState(!1),[u,d]=w.useState(null),[f,h]=w.useState(!1),g=async _=>{if(_.preventDefault(),d(null),!n.trim()){d("Full name is required");return}if(!r.trim()){d("Company name is required");return}if(!t){d("Please verify your email address before continuing");return}c(!0);try{const{data:{user:p}}=await $.auth.getUser();if(!p)throw new Error("User not found");const{error:m}=await $.from("users").upsert({id:p.id,email:e,full_name:n.trim(),company_name:r.trim(),updated_at:new Date().toISOString()},{onConflict:"id"});if(m)throw m;const{error:y}=await $.auth.updateUser({data:{full_name:n.trim(),company_name:r.trim()}});if(y)throw y;try{await a()}catch(b){throw console.error("Error in onComplete callback:",b),new Error("Profile saved but failed to refresh. Please refresh the page.")}}catch(p){d(p.message||"Failed to save profile")}finally{c(!1)}},x=async()=>{h(!0),d(null);try{const{error:_}=await $.auth.resend({type:"signup",email:e,options:{emailRedirectTo:`${window.location.origin}/auth/callback?redirect=/app`}});if(_)throw _.message.includes("rate limit")||_.message.includes("too many")?new Error("Too many requests. Please wait a few minutes before trying again."):_;d(null),alert("Verification email sent! Please check your inbox and spam folder. If you still don't see it, check your Supabase email settings.")}catch(_){d(_.message||"Failed to send verification email")}finally{h(!1)}},v=async()=>{var _;d(null);try{const{data:{session:p},error:m}=await $.auth.getSession();if(m)throw m;(_=p==null?void 0:p.user)!=null&&_.email_confirmed_at?(alert("Email verified! You can now complete your profile."),window.location.reload()):d("Email not yet verified. Please check your inbox for the confirmation link.")}catch(p){d(p.message||"Failed to check verification status")}};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs(Pe,{className:"max-w-md w-full",children:[i.jsx("h2",{className:"text-section-heading text-gray-900 mb-4",children:"Complete Your Profile"}),i.jsx("p",{className:"text-body-sm text-gray-600 mb-6",children:"Please provide your information to start using WrapQuote."}),i.jsxs("form",{onSubmit:g,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx(Ze,{label:"Email Address",type:"email",value:e,disabled:!0,className:"bg-gray-50"}),!t&&i.jsxs("div",{className:"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsx("p",{className:"text-body-sm text-yellow-800 mb-3",children:"Your email address is not verified. Please check your inbox for a verification link."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-3",children:[i.jsx(Mt,{type:"button",variant:"secondary",onClick:x,disabled:f,className:"text-body-sm py-2 flex-1",children:f?"Sending...":"Resend Email"}),i.jsx(Mt,{type:"button",variant:"secondary",onClick:v,className:"text-body-sm py-2 flex-1",children:"Check Status"})]}),i.jsxs("details",{className:"text-body-sm text-yellow-700",children:[i.jsx("summary",{className:"cursor-pointer font-semibold mb-1",children:"Troubleshooting"}),i.jsxs("ul",{className:"mt-2 space-y-1 list-disc list-inside text-xs",children:[i.jsx("li",{children:"Check spam/junk folder"}),i.jsx("li",{children:"Verify email confirmations are enabled in Supabase Dashboard"}),i.jsx("li",{children:"Check Supabase  Authentication  Settings  Email templates"}),i.jsx("li",{children:"In development, emails may be auto-confirmed"})]})]})]})]}),i.jsx("div",{className:"mb-4",children:i.jsx(Ze,{label:"Full Name",type:"text",required:!0,value:n,onChange:_=>s(_.target.value),placeholder:"John Doe"})}),i.jsx("div",{className:"mb-6",children:i.jsx(Ze,{label:"Company Name",type:"text",required:!0,value:r,onChange:_=>l(_.target.value),placeholder:"Acme Wrap Company"})}),u&&i.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-body-sm text-red-800",children:u})}),i.jsx(Mt,{type:"submit",disabled:o||!t||!n.trim()||!r.trim(),className:"w-full",children:o?"Saving...":"Complete Profile"})]})]})})}function ba({label:e,required:t=!1,disabled:a=!1,error:n,className:s,id:r,children:l,...o}){const c=w.useId(),u=r||`select-${c}`;return i.jsxs("div",{children:[e&&i.jsx(hr,{htmlFor:u,required:t,disabled:a,children:e}),i.jsx("select",{id:u,disabled:a,className:At("w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600 focus:border-teal-600 transition-colors",n?"border-red-300":a?"bg-gray-50 border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-100",s),...o,children:l}),n&&i.jsx("p",{className:"text-body-sm text-red-600 mt-1",children:n})]})}function cS(){const[e,t]=w.useState("midsize_sedan"),[a,n]=w.useState("full_wrap"),[s,r]=w.useState("PRINT_AND_INSTALL"),[l,o]=w.useState("COMMERCIAL_PRINT"),[c,u]=w.useState("3M_1080"),[d,f]=w.useState("3M_IJ180"),[h,g]=w.useState(54),[x,v]=w.useState(.15),[_,p]=w.useState({mirrors:!1,roof_rails:!1,rivets:!1,deep_recesses:!1}),[m,y]=w.useState(!1),[b,j]=w.useState(void 0),[N,E]=w.useState(75),[A,U]=w.useState(10),[q,xe]=w.useState(Ut["3M_IJ180"].printCostPerSqft),[Ge,Kt]=w.useState(Ut["3M_IJ180"].lamCostPerSqft),[Q,se]=w.useState(400),[T,z]=w.useState(50),[R,Y]=w.useState("margin"),[K,Tn]=w.useState(40),[yt,Ds]=w.useState(30),[_e,ya]=w.useState(null),[Bt,id]=w.useState("FREE"),[od,F0]=w.useState(null),[cd,ud]=w.useState(!1),[zi,Ke]=w.useState(null),[Z0,Fa]=w.useState(!1),[W0,Za]=w.useState(!1),[Mi,qi]=w.useState(0),pe=w.useMemo(()=>aS({vehicleBucket:e,wrapType:a,rollWidthInches:h,wastePercent:x,complexity:_,excludeRoof:m}),[e,a,h,x,_,m]),Ct=w.useMemo(()=>nS({vehicleBucket:e,wrapType:a,complexity:_,manualHours:b,excludeRoof:m}),[e,a,_,b,m]),re=w.useMemo(()=>sS({linearFeet:pe.linearFeet,adjustedSqft:pe.adjustedSqft,totalLaborHours:Ct.totalLaborHours,jobType:l==="COLOR_CHANGE"?"INSTALL_ONLY":s,wrapCategory:l,vinylCostPerLf:A,printCostPerSqft:q,lamCostPerSqft:Ge,designFeeFlat:Q,laborRatePerHour:N,overheadFlat:T,pricingMode:R,pricingPercent:K/100,depositPercent:yt}),[pe,Ct,s,l,A,q,Ge,Q,N,T,R,K,yt]);w.useEffect(()=>{a!=="full_wrap"&&y(!1)},[a]),w.useEffect(()=>{const O=async()=>{const{data:{session:X}}=await $.auth.getSession();if(ya((X==null?void 0:X.user)??null),X!=null&&X.user){const Se=X.user.email_confirmed_at!==null,{data:he,error:It}=await $.from("users").select("subscription_tier, full_name, company_name").eq("id",X.user.id).single();if(It&&It.code&&typeof It.code=="string"&&It.code!=="PGRST116"){const Ls=typeof It.message=="string"?It.message:"";(!Ls||!Ls.includes("JSON object requested"))&&console.error("Error fetching user profile:",It)}if(he){id(he.subscription_tier||"FREE");const Ls=Se&&he.full_name&&he.full_name.trim()!==""&&he.company_name&&he.company_name.trim()!=="";if(Fa(Ls),Za(!Ls),he.subscription_tier==="FREE"){const{count:sp}=await $.from("quotes").select("*",{count:"exact",head:!0}).eq("user_id",X.user.id);qi(sp||0)}}else Za(!0),Fa(!1)}else Fa(!1),Za(!1)};O();const{data:{subscription:we}}=$.auth.onAuthStateChange(async(X,Se)=>{ya((Se==null?void 0:Se.user)??null),Se!=null&&Se.user?await O():(Fa(!1),Za(!1))});return()=>we.unsubscribe()},[]);const Ir=async()=>{const{data:{session:O}}=await $.auth.getSession();if(ya((O==null?void 0:O.user)??null),O!=null&&O.user){const we=O.user.email_confirmed_at!==null;await new Promise(he=>setTimeout(he,500));const{data:X,error:Se}=await $.from("users").select("subscription_tier, full_name, company_name").eq("id",O.user.id).single();if(Se&&Se.code&&typeof Se.code=="string"&&Se.code!=="PGRST116"){const he=typeof Se.message=="string"?Se.message:"";(!he||!he.includes("JSON object requested"))&&console.error("Error fetching user profile:",Se)}if(Se)return!1;if(X){id(X.subscription_tier||"FREE");const he=we&&X.full_name&&X.full_name.trim()!==""&&X.company_name&&X.company_name.trim()!=="";if(Fa(he),Za(!he),X.subscription_tier==="FREE"){const{count:It}=await $.from("quotes").select("*",{count:"exact",head:!0}).eq("user_id",O.user.id);qi(It||0)}return he}else return Za(!0),Fa(!1),!1}else return Fa(!1),Za(!1),!1},Jr=O=>{p(we=>({...we,[O]:!we[O]}))},ep=async O=>{F0(O)},Bi=()=>Vw(Bt),tp=async()=>{if(!_e){Ke("Please sign in to save quotes");return}if(!_s(Bt))if(Bt==="FREE"){if(Mi>=3){Ke("You've reached the free tier limit of 3 quotes. Please upgrade to Pro or Shop to save more quotes.");return}}else{Ke("Upgrade to Pro or Shop to save quotes");return}if(!Xr){Ke("Please enter a vinyl cost for color change quotes");return}ud(!0),Ke(null);try{const O={user_id:_e.id,vehicle_bucket:e,wrap_type:a,job_type:l==="COLOR_CHANGE"?"INSTALL_ONLY":s,wrap_category:l,roll_width_inches:h,waste_percent:x,complexity:_,base_sqft:pe.baseSqft,adjusted_sqft:pe.adjustedSqft,linear_feet:pe.linearFeet,base_hours:Ct.baseHours,complexity_hours:Ct.complexityHours,total_labor_hours:Ct.totalLaborHours,material_cost:re.materialCost,labor_cost:re.laborCost,subtotal_cost:re.subtotalCost,retail:re.retail,profit_dollars:re.profitDollars,profit_margin:re.profitMargin,deposit_amount:re.depositAmount,labor_rate_per_hour:N,vinyl_cost_per_lf:A,print_cost_per_sqft:q,lam_cost_per_sqft:Ge,design_fee_flat:Q,overhead_flat:T,pricing_mode:R,pricing_percent:K/100},{error:we}=await $.from("quotes").insert(O);if(we)throw we;if(Bt==="FREE"){const X=Mi+1;qi(X)}Ke("Quote saved successfully!"),setTimeout(()=>Ke(null),3e3)}catch(O){Ke(`Error: ${O.message}`)}finally{ud(!1)}},Xr=l!=="COLOR_CHANGE"||A>0,ap=()=>{if(!_e){Ke("Please sign in to export quotes");return}if(!Qc(Bt)){Ke("Upgrade to Pro or Shop to export quotes");return}if(!Xr){Ke("Please enter a vinyl cost for color change quotes");return}const O=l==="COLOR_CHANGE"?"INSTALL_ONLY":s,we=`WrapQuote - ${new Date().toLocaleDateString()}
    
${l==="COLOR_CHANGE"?`Wrap Category: Color Change (Solid Vinyl) - Install Only
Vinyl Brand: ${c.replace(/_/g," ")}`:`Job Type: ${O==="PRINT_AND_INSTALL"?"Print + Install":O==="INSTALL_ONLY"?"Install Only":"Print Only"}
Wrap Category: Commercial Print (Printed Graphics)
Print Vinyl + Laminate: ${d.replace(/_/g," ")}`}
Vehicle: ${e}
Wrap Type: ${a}

Material:
- Base Sqft: ${pe.baseSqft.toFixed(1)}
- Adjusted Sqft: ${pe.adjustedSqft.toFixed(1)}
- Linear Feet: ${pe.linearFeet}
- Roll Width: ${h}&quot;

Labor:
- Total Hours: ${Ct.totalLaborHours.toFixed(1)}
- Rate: $${N}/hr

Pricing:
- Material Cost: $${re.materialCost.toFixed(2)}
- Labor Cost: $${re.laborCost.toFixed(2)}
- Design Fee: $${Q.toFixed(2)}
- Overhead: $${T.toFixed(2)}
- Subtotal: $${re.subtotalCost.toFixed(2)}
- Retail Price: $${re.retail.toFixed(2)}
- Profit: $${re.profitDollars.toFixed(2)} (${(re.profitMargin*100).toFixed(1)}%)
${yt>0?`- Deposit: $${re.depositAmount.toFixed(2)} (${yt}%)`:""}
`,X=new Blob([we],{type:"text/plain"}),Se=URL.createObjectURL(X),he=document.createElement("a");he.href=Se,he.download=`wrapquote-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(Se)},np=w.useMemo(()=>({vehicleBucket:e,wrapType:a,jobType:l==="COLOR_CHANGE"?"INSTALL_ONLY":s,wrapCategory:l,adjustedSqft:pe.adjustedSqft,linearFeet:pe.linearFeet,totalLaborHours:Ct.totalLaborHours,laborRate:N,materialCost:re.materialCost,retail:re.retail,profitMargin:re.profitMargin}),[e,a,s,l,pe,Ct,N,re]);return _e&&!Z0?i.jsxs(i.Fragment,{children:[i.jsx(xf,{userEmail:_e.email||"",isEmailVerified:_e.email_confirmed_at!==null,onComplete:async()=>{await Ir()||setTimeout(async()=>{await Ir()},1e3)}}),i.jsx("main",{className:"min-h-screen bg-gray-50 py-8 px-4",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"text-center py-20",children:[i.jsx("h1",{className:"text-hero-heading text-gray-900 mb-4",children:"WrapQuote"}),i.jsx("p",{className:"text-body-base text-gray-600",children:"Please complete your profile to continue."})]})})})]}):i.jsxs(i.Fragment,{children:[W0&&_e&&i.jsx(xf,{userEmail:_e.email||"",isEmailVerified:_e.email_confirmed_at!==null,onComplete:async()=>{await Ir()||setTimeout(async()=>{await Ir()},1e3)}}),i.jsx("main",{className:"min-h-screen bg-gray-50 py-8 px-4",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx(Et,{currentPage:"calculator"}),i.jsx("div",{className:"mb-8"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_400px] md:gap-8",children:[i.jsxs("div",{children:[i.jsx(oS,{user:_e,currentTier:Bt,onUpgrade:()=>{}}),i.jsxs(Pe,{children:[i.jsxs(ba,{label:"Wrap Category",required:!0,value:l,onChange:O=>{const we=O.target.value;o(we),we==="COLOR_CHANGE"&&(xe(0),Kt(0),r("INSTALL_ONLY"))},children:[i.jsx("option",{value:"COLOR_CHANGE",children:"Color Change (Solid Vinyl)"}),i.jsx("option",{value:"COMMERCIAL_PRINT",children:"Commercial Print (Printed Graphics)"})]}),i.jsx("p",{className:"text-body-sm text-gray-600 mt-2",children:l==="COLOR_CHANGE"?"Color Change jobs are install only. Select your vinyl brand below.":"Commercial Print enables print + lam costs. Select job type below."})]}),l==="COLOR_CHANGE"?i.jsxs(Pe,{children:[i.jsx(hr,{required:!0,children:"Vinyl Brand"}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs(ba,{value:c,onChange:O=>{const we=O.target.value;u(we);const X=zn[we];X>0&&U(X)},children:[i.jsxs("optgroup",{label:"Popular Cast Vinyl (Color Change)",children:[i.jsx("option",{value:"3M_1080",children:"3M 1080 Series"}),i.jsx("option",{value:"3M_2080",children:"3M 2080 Series"}),i.jsx("option",{value:"Avery_Dennison_SC900",children:"Avery Dennison SC900"}),i.jsx("option",{value:"Avery_Dennison_SC950",children:"Avery Dennison SC950"}),i.jsx("option",{value:"Oracal_970RA",children:"Oracal 970RA"}),i.jsx("option",{value:"Oracal_751",children:"Oracal 751"})]}),i.jsxs("optgroup",{label:"Color Change Specific",children:[i.jsx("option",{value:"Arlon_SLX",children:"Arlon (Premium Color Change)"}),i.jsx("option",{value:"Hexis",children:"Hexis SKINTAC"}),i.jsx("option",{value:"Vvivid",children:"Vvivid"}),i.jsx("option",{value:"Other",children:"Other / Custom Brand"})]})]})}),zn[c]>0&&i.jsxs("div",{className:"flex-shrink-0 pt-2",children:[i.jsx("div",{className:"text-body-sm text-gray-600 mb-1",children:"Est. Price:"}),i.jsxs("div",{className:"text-card-heading font-semibold text-teal-600",children:["$",zn[c].toFixed(2),"/LF"]}),pe.linearFeet>0&&i.jsxs("div",{className:"text-body-sm text-gray-600 mt-1",children:[" $",(pe.linearFeet*zn[c]).toFixed(2)]})]})]}),i.jsx("p",{className:"text-body-sm text-gray-600 mt-2",children:zn[c]>0?`Typical cost: $${zn[c].toFixed(2)}/linear foot. Price will auto-populate below - adjust as needed.`:"Select a brand or enter custom pricing in the Vinyl Cost field below."})]}):i.jsxs(i.Fragment,{children:[i.jsx(Pe,{children:i.jsxs(ba,{label:"Job Type",required:!0,value:s,onChange:O=>r(O.target.value),children:[i.jsx("option",{value:"PRINT_AND_INSTALL",children:"Print + Install"}),i.jsx("option",{value:"INSTALL_ONLY",children:"Install Only"}),i.jsx("option",{value:"PRINT_ONLY",children:"Print Only"})]})}),(s==="PRINT_AND_INSTALL"||s==="PRINT_ONLY")&&i.jsxs(Pe,{children:[i.jsx(hr,{required:!0,children:"Print Vinyl + Laminate Combo"}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs(ba,{value:d,onChange:O=>{const we=O.target.value;f(we);const X=Ut[we];X.printCostPerSqft>0&&xe(X.printCostPerSqft),X.lamCostPerSqft>0&&Kt(X.lamCostPerSqft)},children:[i.jsxs("optgroup",{label:"Premium Cast Printable",children:[i.jsx("option",{value:"3M_IJ180",children:"3M IJ180 + 3M Laminate"}),i.jsx("option",{value:"Avery_Dennison_DOL",children:"Avery Dennison DOL + Avery Laminate"}),i.jsx("option",{value:"Oracal_3651",children:"Oracal 3651 + Oracal Laminate"}),i.jsx("option",{value:"Arlon_DJL",children:"Arlon DJL + Arlon Laminate"})]}),i.jsxs("optgroup",{label:"Mid-Range Printable",children:[i.jsx("option",{value:"3M_IJ680",children:"3M IJ680 + 3M Laminate"}),i.jsx("option",{value:"Avery_Dennison_MPI_1005",children:"Avery Dennison MPI 1005 + Avery Laminate"}),i.jsx("option",{value:"Oracal_3751",children:"Oracal 3751 + Oracal Laminate"})]}),i.jsxs("optgroup",{label:"Economy Printable",children:[i.jsx("option",{value:"Avery_Dennison_EZ",children:"Avery Dennison EZ + Avery Laminate"}),i.jsx("option",{value:"Other",children:"Other / Custom Combo"})]})]})}),Ut[d].printCostPerSqft>0&&i.jsxs("div",{className:"flex-shrink-0 pt-2",children:[i.jsx("div",{className:"text-body-sm text-gray-600 mb-1",children:"Est. Prices:"}),i.jsxs("div",{className:"text-card-heading font-semibold text-teal-600",children:["$",Ut[d].printCostPerSqft.toFixed(2),"/sqft print"]}),i.jsxs("div",{className:"text-card-heading font-semibold text-teal-600 mt-1",children:["$",Ut[d].lamCostPerSqft.toFixed(2),"/sqft lam"]}),pe.adjustedSqft>0&&i.jsxs("div",{className:"text-body-sm text-gray-600 mt-2",children:[" $",(pe.adjustedSqft*Ut[d].printCostPerSqft+pe.adjustedSqft*Ut[d].lamCostPerSqft).toFixed(2)," total"]})]})]}),i.jsx("p",{className:"text-body-sm text-gray-600 mt-2",children:Ut[d].printCostPerSqft>0?`Typical costs: $${Ut[d].printCostPerSqft.toFixed(2)}/sqft print + $${Ut[d].lamCostPerSqft.toFixed(2)}/sqft laminate. Prices will auto-populate below - adjust as needed.`:"Select a combo or enter custom pricing in the Print and Laminate Cost fields below."})]})]}),i.jsxs(Pe,{children:[i.jsx("h2",{className:"text-card-heading font-small-heading text-gray-900 mb-6",children:"Material Calculator"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs(ba,{label:"Vehicle Type",value:e,onChange:O=>t(O.target.value),children:[i.jsxs("optgroup",{label:"Sedans",children:[i.jsx("option",{value:"compact_sedan",children:"Compact Sedan"}),i.jsx("option",{value:"midsize_sedan",children:"Midsize Sedan"}),i.jsx("option",{value:"fullsize_sedan",children:"Fullsize Sedan"})]}),i.jsxs("optgroup",{label:"SUVs",children:[i.jsx("option",{value:"compact_suv",children:"Compact SUV"}),i.jsx("option",{value:"midsize_suv",children:"Midsize SUV"}),i.jsx("option",{value:"fullsize_suv",children:"Fullsize SUV"})]}),i.jsxs("optgroup",{label:"Pickups",children:[i.jsx("option",{value:"pickup_short_bed",children:"Pickup Short Bed"}),i.jsx("option",{value:"pickup_long_bed",children:"Pickup Long Bed"})]}),i.jsxs("optgroup",{label:"Vans",children:[i.jsx("option",{value:"cargo_van",children:"Cargo Van"}),i.jsx("option",{value:"sprinter_van",children:"Sprinter Van"})]}),i.jsxs("optgroup",{label:"Other Vehicles",children:[i.jsx("option",{value:"coupe",children:"Coupe"}),i.jsx("option",{value:"hatchback",children:"Hatchback"}),i.jsx("option",{value:"motorcycle",children:"Motorcycle"}),i.jsx("option",{value:"commercial_van",children:"Commercial Van"}),i.jsx("option",{value:"commercial_truck",children:"Commercial Truck"}),i.jsx("option",{value:"box_truck_small",children:"Box Truck Small (12-16 ft)"}),i.jsx("option",{value:"box_truck_large",children:"Box Truck Large (20-26 ft)"}),i.jsx("option",{value:"semi",children:"Semi"})]})]}),i.jsxs(ba,{label:"Wrap Type",value:a,onChange:O=>n(O.target.value),children:[i.jsx("option",{value:"full_wrap",children:"Full Wrap"}),i.jsx("option",{value:"partial_wrap",children:"Partial Wrap"}),i.jsx("option",{value:"commercial_sides",children:"Commercial Sides"}),i.jsx("option",{value:"hood",children:"Hood"}),i.jsx("option",{value:"roof",children:"Roof"}),i.jsx("option",{value:"trunk",children:"Trunk"}),i.jsx("option",{value:"decals_basic",children:"Decals (Basic)"}),i.jsx("option",{value:"decals_complex",children:"Decals (Complex)"})]}),a==="full_wrap"&&i.jsx("div",{className:"md:col-span-2",children:i.jsxs("label",{className:"flex items-center space-x-3 p-4 border border-gray-100 rounded-lg hover:border-teal-600 hover:bg-teal-50/50 cursor-pointer transition-all duration-300",children:[i.jsx("input",{type:"checkbox",checked:m,onChange:O=>y(O.target.checked),className:"rounded border-gray-300 text-teal-600 focus:ring-teal-600 focus:ring-2"}),i.jsxs("span",{className:"text-body-sm text-gray-900",children:[i.jsx("span",{className:"font-semibold",children:"Exclude Roof from Full Wrap"}),i.jsxs("span",{className:"block text-body-sm text-gray-600 mt-1",children:["Remove roof from full wrap calculation (",Kc[e].roof," sqft, ",Ic[e].roof," hrs)"]})]})]})}),i.jsxs(ba,{label:"Roll Width (inches)",value:h,onChange:O=>g(parseInt(O.target.value)),className:"w-full px-4 py-2 border border-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600 focus:border-teal-600 transition-colors",children:[i.jsx("option",{value:"54",children:'54"'}),i.jsx("option",{value:"60",children:'60"'})]}),i.jsxs("div",{children:[i.jsxs(hr,{htmlFor:"waste-percent",children:["Waste Percent (",Math.round(x*100),"%)"]}),i.jsx("input",{type:"range",min:"0",max:"30",step:"1",value:x*100,onChange:O=>v(parseInt(O.target.value)/100),className:"w-full"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-body-sm font-small-heading text-gray-900 mb-3",children:"Complexity Factors"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[i.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-100 rounded-lg hover:border-teal-600 hover:bg-teal-50/50 cursor-pointer transition-all duration-300",children:[i.jsx("input",{type:"checkbox",checked:_.mirrors,onChange:()=>Jr("mirrors"),className:"mt-0.5 rounded border-gray-300 text-teal-600 focus:ring-teal-600 focus:ring-2"}),i.jsxs("span",{className:"text-body-sm text-gray-900",children:[i.jsx("span",{className:"font-semibold",children:"Mirrors"}),i.jsx("span",{className:"block text-body-sm text-gray-600 mt-1",children:"+2% waste, +0.5hrs"})]})]}),i.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-100 rounded-lg hover:border-teal-600 hover:bg-teal-50/50 cursor-pointer transition-all duration-300",children:[i.jsx("input",{type:"checkbox",checked:_.roof_rails,onChange:()=>Jr("roof_rails"),className:"mt-0.5 rounded border-gray-300 text-teal-600 focus:ring-teal-600 focus:ring-2"}),i.jsxs("span",{className:"text-body-sm text-gray-900",children:[i.jsx("span",{className:"font-semibold",children:"Roof Rails"}),i.jsx("span",{className:"block text-body-sm text-gray-600 mt-1",children:"+3% waste, +1.0hrs"})]})]}),i.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-100 rounded-lg hover:border-teal-600 hover:bg-teal-50/50 cursor-pointer transition-all duration-300",children:[i.jsx("input",{type:"checkbox",checked:_.rivets,onChange:()=>Jr("rivets"),className:"mt-0.5 rounded border-gray-300 text-teal-600 focus:ring-teal-600 focus:ring-2"}),i.jsxs("span",{className:"text-body-sm text-gray-900",children:[i.jsx("span",{className:"font-semibold",children:"Rivets"}),i.jsx("span",{className:"block text-body-sm text-gray-600 mt-1",children:"+5% waste, +2.0hrs"})]})]}),i.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-100 rounded-lg hover:border-teal-600 hover:bg-teal-50/50 cursor-pointer transition-all duration-300",children:[i.jsx("input",{type:"checkbox",checked:_.deep_recesses,onChange:()=>Jr("deep_recesses"),className:"mt-0.5 rounded border-gray-300 text-teal-600 focus:ring-teal-600 focus:ring-2"}),i.jsxs("span",{className:"text-body-sm text-gray-900",children:[i.jsx("span",{className:"font-semibold",children:"Deep Recesses"}),i.jsx("span",{className:"block text-body-sm text-gray-600 mt-1",children:"+4% waste, +1.5hrs"})]})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-100",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6 text-body-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Base Sqft:"}),i.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:pe.baseSqft.toFixed(1)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Adjusted Sqft:"}),i.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:pe.adjustedSqft.toFixed(1)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Linear Feet:"}),i.jsx("span",{className:"ml-2 font-semibold text-teal-600",children:pe.linearFeet})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Roll Width:"}),i.jsxs("span",{className:"ml-2 font-semibold text-gray-900",children:[h,'"']})]})]}),i.jsxs("p",{className:"text-body-sm text-gray-600 mt-4",children:["Estimated ~",pe.linearFeet," linear feet from a"," ",h,'" roll.']}),i.jsx("p",{className:"text-body-sm text-gray-600 mt-1",children:"Estimates vary by body lines and install approach."})]})]}),i.jsxs(Pe,{children:[i.jsx("h2",{className:"text-card-heading font-small-heading text-gray-900 mb-6",children:"Labor Hours"}),s!=="PRINT_ONLY"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsx(Ze,{label:"Manual Override (hours)",type:"number",step:"0.5",min:"0",value:b??"",onChange:O=>j(O.target.value?parseFloat(O.target.value):void 0),placeholder:"Auto-calculated"}),i.jsx(Ze,{label:"Labor Rate ($/hour)",type:"number",step:"1",min:"0",value:N,onChange:O=>E(parseFloat(O.target.value))})]}),i.jsx("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-100",children:i.jsxs("div",{className:"grid grid-cols-3 gap-6 text-body-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Base Hours:"}),i.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:Ct.baseHours.toFixed(1)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Complexity Hours:"}),i.jsxs("span",{className:"ml-2 font-semibold text-gray-900",children:["+",Ct.complexityHours.toFixed(1)]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Total Hours:"}),i.jsx("span",{className:"ml-2 font-semibold text-teal-600",children:Ct.totalLaborHours.toFixed(1)})]})]})})]}),s==="PRINT_ONLY"&&i.jsx("p",{className:"text-body-sm text-gray-600",children:"Labor hours not applicable for Print Only jobs."})]}),i.jsxs(Pe,{children:[i.jsx("h2",{className:"text-card-heading font-small-heading text-gray-900 mb-6",children:"Pricing"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s!=="INSTALL_ONLY"&&i.jsxs(i.Fragment,{children:[i.jsx(Ze,{label:"Vinyl Cost ($/linear foot)",required:l==="COLOR_CHANGE",type:"number",step:"0.01",min:"0",value:A,onChange:O=>U(parseFloat(O.target.value)||0),error:l==="COLOR_CHANGE"&&!A?"Vinyl cost is required for color change quotes.":void 0}),i.jsx(Ze,{label:i.jsxs(i.Fragment,{children:["Print Cost ($/sqft)",l==="COLOR_CHANGE"&&i.jsx("span",{className:"ml-2 text-body-sm text-gray-500",children:"(Not used for color change)"})]}),type:"number",step:"0.01",min:"0",value:q,onChange:O=>xe(parseFloat(O.target.value)||0),disabled:l==="COLOR_CHANGE"}),i.jsx(Ze,{label:i.jsxs(i.Fragment,{children:["Laminate Cost ($/sqft)",l==="COLOR_CHANGE"&&i.jsx("span",{className:"ml-2 text-body-sm text-gray-500",children:"(Not used for color change)"})]}),type:"number",step:"0.01",min:"0",value:Ge,onChange:O=>Kt(parseFloat(O.target.value)||0),disabled:l==="COLOR_CHANGE"})]}),s!=="PRINT_ONLY"&&i.jsx(Ze,{label:"Labor Rate ($/hour)",type:"number",step:"1",min:"0",value:N,onChange:O=>E(parseFloat(O.target.value))}),i.jsx(Ze,{label:"Design Fee (flat)",type:"number",step:"1",min:"0",value:Q,onChange:O=>se(parseFloat(O.target.value))}),i.jsx(Ze,{label:"Overhead (flat)",type:"number",step:"1",min:"0",value:T,onChange:O=>z(parseFloat(O.target.value))}),i.jsxs(ba,{label:"Pricing Mode",value:R,onChange:O=>Y(O.target.value),children:[i.jsx("option",{value:"margin",children:"Margin (%)"}),i.jsx("option",{value:"markup",children:"Markup (%)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-body-sm font-small-heading text-gray-900 mb-2",children:R==="margin"?`Margin (${K}%)`:`Markup (${K}%)`}),i.jsx("input",{type:"range",min:"0",max:R==="margin"?"70":"300",step:"1",value:K,onChange:O=>Tn(parseInt(O.target.value)),className:"w-full accent-teal-600"}),R==="margin"&&K>70||R==="markup"&&K>300?i.jsx("p",{className:"text-body-sm text-amber-600 mt-2",children:"Warning: Value exceeds recommended maximum"}):null]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-body-sm font-small-heading text-gray-900 mb-2",children:["Deposit (",yt,"%)"]}),i.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:yt,onChange:O=>Ds(parseInt(O.target.value)),className:"w-full accent-teal-600"})]})]})]})]}),i.jsx("div",{className:"md:sticky md:top-8 md:self-start",children:i.jsxs(Pe,{children:[i.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-4 border border-gray-100",children:i.jsxs("div",{className:"space-y-3 text-body-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Material Cost:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",re.materialCost.toFixed(2)]})]}),s!=="PRINT_ONLY"&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Labor Cost:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",re.laborCost.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Design Fee:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",Q.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Overhead:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",T.toFixed(2)]})]}),i.jsxs("div",{className:"border-t border-gray-300 pt-3 flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",re.subtotalCost.toFixed(2)]})]}),i.jsxs("div",{className:"border-t border-gray-300 pt-3 flex justify-between",children:[i.jsx("span",{className:"text-gray-900 font-semibold",children:"Retail Price:"}),i.jsxs("span",{className:"font-bold text-2xl text-teal-600",children:["$",re.retail.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Profit:"}),i.jsxs("span",{className:"font-semibold text-emerald-600",children:["$",re.profitDollars.toFixed(2)," (",(re.profitMargin*100).toFixed(1),"%)"]})]}),yt>0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Deposit:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",re.depositAmount.toFixed(2)]})]})]})}),i.jsx("p",{className:"text-body-sm text-gray-600 mb-4",children:l==="COLOR_CHANGE"?i.jsxs(i.Fragment,{children:["Wrap Category: Color Change (Solid Vinyl) - Install Only",i.jsx("br",{}),l==="COLOR_CHANGE"?`Vinyl Brand: ${c.replace(/_/g," ")}`:`Print Vinyl + Laminate: ${d.replace(/_/g," ")}`]}):i.jsxs(i.Fragment,{children:["Job Type: ",s==="PRINT_AND_INSTALL"?"Print + Install":s==="INSTALL_ONLY"?"Install Only":"Print Only",i.jsx("br",{}),"Wrap Category: Commercial Print (Printed Graphics)"]})}),i.jsxs("div",{className:"mt-4",children:[i.jsx(lS,{input:np,onResult:ep,disabled:!Bi()}),!Bi()&&i.jsx("p",{className:"text-body-sm text-teal-600 mt-2",children:"Please upgrade your plan to use AI Confidence Check."}),od&&Bi()&&i.jsx(iS,{result:od})]}),i.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[i.jsx(Mt,{onClick:()=>{if(Bt==="FREE"&&Mi>=3){Ke("Please upgrade your plan");return}if(!_s(Bt)&&Bt!=="FREE"){Ke("Please upgrade your plan");return}tp()},disabled:cd||!_e||!Xr,className:"w-full",children:cd?"Saving...":"Save Quote"}),i.jsx(Mt,{variant:"secondary",onClick:()=>{if(!Qc(Bt)){Ke("Please upgrade your plan");return}ap()},disabled:!_e||!Xr,className:"w-full",children:"Export Quote"})]}),zi&&i.jsx("p",{className:At("text-body-sm mt-3",zi.includes("Error")?"text-red-600":"text-teal-600"),children:zi})]})})]})]})})]})}function uS(){const e=ks(),[t]=k0();return w.useEffect(()=>{const a=t.get("next")||"/app";$.auth.getSession().then(({data:{session:n}})=>{n!=null&&n.user&&e(a)})},[e,t]),i.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[i.jsx(Et,{currentPage:"calculator"}),i.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:i.jsx(ld,{initialMode:"signin",className:"w-full max-w-md"})})]})}function dS(){const e=ks();return w.useEffect(()=>{$.auth.getSession().then(({data:{session:t}})=>{t!=null&&t.user&&e("/app")})},[e]),i.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[i.jsx(Et,{currentPage:"signup"}),i.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:i.jsx(ld,{initialMode:"signup",className:"w-full max-w-md"})})]})}function hS(){return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Et,{currentPage:"pricing"}),i.jsx(nt,{children:i.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[i.jsx("h1",{className:"text-hero-heading text-gray-900 mb-4",children:"Simple plans for wrap pros."}),i.jsx("p",{className:"text-body-xl text-gray-700",children:"Start free. Upgrade when you want presets and exports."})]})}),i.jsx(nt,{children:i.jsx("div",{className:"max-w-5xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[i.jsx("h3",{className:"text-section-heading text-gray-900 mb-2",children:"FREE"}),i.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-8",children:"$0"}),i.jsxs("ul",{className:"space-y-4 mb-8 text-left",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-teal-600 mr-3",children:""}),i.jsx("span",{className:"text-body-base text-gray-700",children:"Calculator access"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-teal-600 mr-3",children:""}),i.jsx("span",{className:"text-body-base text-gray-700",children:"3 confidence checks"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-gray-300 mr-3",children:""}),i.jsx("span",{className:"text-body-base text-gray-500",children:"No saves or exports"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl border-2 border-teal-600 p-8 text-center relative",children:[i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx("span",{className:"px-3 py-1 bg-teal-600 text-white text-body-sm font-semibold rounded-full",children:"Popular"})}),i.jsx("h3",{className:"text-section-heading text-gray-900 mb-2",children:"PRO"}),i.jsx("div",{className:"text-4xl font-bold text-teal-600 mb-2",children:"$29"}),i.jsx("p",{className:"text-body-sm text-gray-600 mb-8",children:"per month"}),i.jsxs("ul",{className:"space-y-4 mb-8 text-left",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-teal-600 mr-3",children:""}),i.jsx("span",{className:"text-body-base text-gray-700",children:"Save presets"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-teal-600 mr-3",children:""}),i.jsx("span",{className:"text-body-base text-gray-700",children:"Save quotes"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-teal-600 mr-3",children:""}),i.jsx("span",{className:"text-body-base text-gray-700",children:"Export PDFs"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-teal-600 mr-3",children:""}),i.jsx("span",{className:"text-body-base text-gray-700",children:"Unlimited confidence checks"})]})]}),i.jsx(un,{href:"/calculator",className:"w-full",children:"Start Pro"})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[i.jsx("h3",{className:"text-section-heading text-gray-900 mb-2",children:"SHOP"}),i.jsx("div",{className:"text-4xl font-bold text-teal-600 mb-2",children:"$59"}),i.jsx("p",{className:"text-body-sm text-gray-600 mb-8",children:"per month"}),i.jsxs("ul",{className:"space-y-4 mb-8 text-left",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-teal-600 mr-3",children:""}),i.jsx("span",{className:"text-body-base text-gray-700",children:"Everything in Pro"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-teal-600 mr-3",children:""}),i.jsx("span",{className:"text-body-base text-gray-700",children:"Add logo + shop info"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-teal-600 mr-3",children:""}),i.jsx("span",{className:"text-body-base text-gray-700",children:"Built for shop owners"})]})]}),i.jsx(un,{href:"/calculator",className:"w-full",children:"Start Shop"})]})]})})}),i.jsx(nt,{className:"bg-white",children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsx("h2",{className:"text-section-heading text-gray-900 mb-12 text-center",children:"Pricing FAQ"}),i.jsxs("dl",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("dt",{className:"text-small-heading text-gray-900 mb-2",children:"Can I cancel anytime?"}),i.jsx("dd",{className:"text-body-base text-gray-600",children:"Yes."})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-small-heading text-gray-900 mb-2",children:"Do you offer yearly?"}),i.jsx("dd",{className:"text-body-base text-gray-600",children:"Coming soon."})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-small-heading text-gray-900 mb-2",children:"What's the difference between Pro and Shop?"}),i.jsx("dd",{className:"text-body-base text-gray-600",children:"Shop adds branded exports."})]})]})]})}),i.jsx(nt,{className:"bg-gradient-to-br from-teal-50 via-blue-50 to-white",children:i.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[i.jsx("h2",{className:"text-section-heading text-gray-900 mb-6",children:"Try it free in minutes."}),i.jsx(un,{href:"/signup",className:"text-lg px-10 py-5",children:"Quote your Project"})]})}),i.jsx("footer",{className:"bg-gray-900 text-white py-6",children:i.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:i.jsx("p",{className:"text-body-sm text-gray-400",children:"Built for wrap installers and wrap shops."})})})]})}function fS(){const[e,t]=w.useState(null),[a,n]=w.useState("FREE"),[s,r]=w.useState([]),[l,o]=w.useState(!0),[c,u]=w.useState(null);w.useEffect(()=>{(async()=>{const{data:{user:_}}=await $.auth.getUser();if(t(_),_){const{data:p,error:m}=await $.from("users").select("subscription_tier").eq("id",_.id).single();m&&m.code!=="PGRST116"&&console.error("Error fetching user subscription tier:",m),p&&n(p.subscription_tier),_s(p==null?void 0:p.subscription_tier)?d(_.id):o(!1)}else o(!1)})()},[]);const d=async v=>{try{const{data:_,error:p}=await $.from("quotes").select("id, vehicle_bucket, wrap_type, job_type, wrap_category, retail, customer_name, created_at").eq("user_id",v).order("created_at",{ascending:!1});if(p)throw p;r(_||[])}catch(_){u(_.message)}finally{o(!1)}},f=v=>v.split("_").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" "),h=v=>v.split("_").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" "),g=v=>{switch(v){case"PRINT_AND_INSTALL":return"Print + Install";case"INSTALL_ONLY":return"Install Only";case"PRINT_ONLY":return"Print Only";default:return v}},x=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return l?i.jsxs(i.Fragment,{children:[i.jsx(Et,{currentPage:"quotes"}),i.jsx("main",{className:"min-h-screen bg-gray-50 py-8 px-4",children:i.jsx("div",{className:"max-w-6xl mx-auto",children:i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:i.jsx("p",{className:"text-body-sm text-gray-600",children:"Loading quotes..."})})})})]}):e?_s(a)?i.jsxs(i.Fragment,{children:[i.jsx(Et,{currentPage:"quotes"}),i.jsx("main",{className:"min-h-screen bg-gray-50 py-8 px-4",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-hero-heading text-gray-900",children:"My Quotes"}),i.jsx("p",{className:"text-body-sm text-gray-600 mt-2",children:"View and manage your saved quotes"})]}),i.jsx(it,{to:"/calculator",className:"px-6 py-3 bg-white border-2 border-teal-600 text-teal-600 hover:bg-teal-50 rounded-lg font-semibold transition-all duration-300 shadow-sm hover:shadow",children:"New Quote"})]}),c&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:i.jsx("p",{className:"text-body-sm text-red-600",children:c})}),s.length===0?i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[i.jsx("p",{className:"text-body-base text-gray-900 mb-4",children:"No quotes yet"}),i.jsx("p",{className:"text-body-sm text-gray-600 mb-6",children:"Create and save your first quote using the calculator"}),i.jsx(it,{to:"/calculator",className:"inline-block px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-semibold transition-colors duration-300",children:"Create Quote"})]}):i.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.map(v=>i.jsx(Pe,{className:"hover:shadow-md transition-all duration-300 hover:border-teal-200",children:i.jsx(it,{to:`/quotes/${v.id}`,className:"block",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h3",{className:"text-card-heading text-gray-900",children:v.customer_name||"Unnamed Quote"}),i.jsx("span",{className:"px-3 py-1 bg-gray-100 text-body-sm text-gray-600 rounded-full",children:v.wrap_category==="COLOR_CHANGE"?"Color Change":"Commercial Print"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-body-sm text-gray-600",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-900",children:"Vehicle:"})," ",f(v.vehicle_bucket)]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-900",children:"Type:"})," ",h(v.wrap_type)]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-900",children:"Job:"})," ",g(v.job_type)]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-900",children:"Date:"})," ",x(v.created_at)]})]})]}),i.jsxs("div",{className:"ml-6 text-right",children:[i.jsx("div",{className:"text-body-sm text-gray-600 mb-1",children:"Total Price"}),i.jsxs("div",{className:"text-section-heading text-teal-600 font-semibold",children:["$",v.retail.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})},v.id))})]})})]}):i.jsxs(i.Fragment,{children:[i.jsx(Et,{currentPage:"quotes"}),i.jsx("main",{className:"min-h-screen bg-gray-50 py-8 px-4",children:i.jsx("div",{className:"max-w-6xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[i.jsx("p",{className:"text-body-base text-gray-900 mb-4",children:"Upgrade to Pro or Shop to save and view quotes"}),i.jsx(it,{to:"/calculator",className:"inline-block px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-semibold transition-colors duration-300",children:"Go to Calculator"})]})})})]}):i.jsxs(i.Fragment,{children:[i.jsx(Et,{currentPage:"quotes"}),i.jsx("main",{className:"min-h-screen bg-gray-50 py-8 px-4",children:i.jsx("div",{className:"max-w-6xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[i.jsx("p",{className:"text-body-base text-gray-900 mb-4",children:"Please sign in to view your quotes"}),i.jsx(it,{to:"/calculator",className:"inline-block px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-semibold transition-colors duration-300",children:"Go to Calculator"})]})})})]})}function mS(){var m;const t=zb().id,[,a]=w.useState(null),[n,s]=w.useState("FREE"),[r,l]=w.useState(null),[o,c]=w.useState(!0),[u,d]=w.useState(null),[f,h]=w.useState(!1),g=w.useCallback(async y=>{try{const{data:b,error:j}=await $.from("quotes").select("*").eq("id",t).eq("user_id",y).single();if(j)throw j;if(!b){d("Quote not found");return}l(b)}catch(b){d(b.message||"Failed to load quote")}finally{c(!1)}},[t]);w.useEffect(()=>{(async()=>{const{data:{user:b}}=await $.auth.getUser();if(a(b),b){const{data:j,error:N}=await $.from("users").select("subscription_tier").eq("id",b.id).single();N&&N.code!=="PGRST116"&&console.error("Error fetching user subscription tier:",N),j&&s(j.subscription_tier),_s(j==null?void 0:j.subscription_tier)?g(b.id):(d("Upgrade to Pro or Shop to view quotes"),c(!1))}else d("Please sign in to view quotes"),c(!1)})()},[t,g]);const x=()=>{if(!r)return;h(!0);const y=r.wrap_category==="COLOR_CHANGE"?"INSTALL_ONLY":r.job_type,b=`WrapQuote - ${new Date(r.created_at).toLocaleDateString()}
    
${r.wrap_category==="COLOR_CHANGE"?"Wrap Category: Color Change (Solid Vinyl) - Install Only":`Job Type: ${y==="PRINT_AND_INSTALL"?"Print + Install":y==="INSTALL_ONLY"?"Install Only":"Print Only"}
Wrap Category: Commercial Print (Printed Graphics)`}
Vehicle: ${r.vehicle_bucket}
Wrap Type: ${r.wrap_type}

Material:
- Base Sqft: ${r.base_sqft.toFixed(1)}
- Adjusted Sqft: ${r.adjusted_sqft.toFixed(1)}
- Linear Feet: ${r.linear_feet}
- Roll Width: ${r.roll_width_inches}"
- Waste Percent: ${(r.waste_percent*100).toFixed(0)}%

Labor:
- Base Hours: ${r.base_hours.toFixed(1)}
- Complexity Hours: ${r.complexity_hours.toFixed(1)}
- Total Hours: ${r.total_labor_hours.toFixed(1)}
- Rate: $${r.labor_rate_per_hour||0}/hr

Pricing:
- Material Cost: $${r.material_cost.toFixed(2)}
- Labor Cost: $${r.labor_cost.toFixed(2)}
- Design Fee: $${r.design_fee_flat||0}.00
- Overhead: $${r.overhead_flat||0}.00
- Subtotal: $${r.subtotal_cost.toFixed(2)}
- Retail Price: $${r.retail.toFixed(2)}
- Profit: $${r.profit_dollars.toFixed(2)} (${(r.profit_margin*100).toFixed(1)}%)
${r.deposit_amount?`- Deposit: $${r.deposit_amount.toFixed(2)}`:""}

${r.customer_name?`Customer: ${r.customer_name}`:""}
${r.customer_email?`Email: ${r.customer_email}`:""}
${r.notes?`Notes: ${r.notes}`:""}

Created: ${new Date(r.created_at).toLocaleString()}
`,j=new Blob([b],{type:"text/plain"}),N=URL.createObjectURL(j),E=document.createElement("a");E.href=N,E.download=`wrapquote-${r.id.slice(0,8)}-${new Date(r.created_at).toISOString().split("T")[0]}.txt`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(N),h(!1)},v=y=>y.split("_").map(b=>b.charAt(0).toUpperCase()+b.slice(1)).join(" "),_=y=>y.split("_").map(b=>b.charAt(0).toUpperCase()+b.slice(1)).join(" "),p=y=>{switch(y){case"PRINT_AND_INSTALL":return"Print + Install";case"INSTALL_ONLY":return"Install Only";case"PRINT_ONLY":return"Print Only";default:return y}};return o?i.jsxs(i.Fragment,{children:[i.jsx(Et,{currentPage:"quotes"}),i.jsx("main",{className:"min-h-screen bg-gray-50 py-8 px-4",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:i.jsx("p",{className:"text-body-sm text-gray-600",children:"Loading quote..."})})})})]}):u||!r?i.jsxs(i.Fragment,{children:[i.jsx(Et,{currentPage:"quotes"}),i.jsx("main",{className:"min-h-screen bg-gray-50 py-8 px-4",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[i.jsx("p",{className:"text-body-base text-gray-900 mb-4",children:u||"Quote not found"}),i.jsx(it,{to:"/quotes",className:"inline-block px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-semibold transition-colors duration-300",children:"Back to Quotes"})]})})})]}):i.jsxs(i.Fragment,{children:[i.jsx(Et,{currentPage:"quotes"}),i.jsx("main",{className:"min-h-screen bg-gray-50 py-8 px-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-hero-heading text-gray-900",children:"Quote Details"}),i.jsx("p",{className:"text-body-base text-gray-600 mt-2",children:r.customer_name||"Unnamed Quote"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(it,{to:"/quotes",className:"px-6 py-3 bg-white border-2 border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg font-semibold transition-all duration-300",children:"Back"}),Qc(n)&&i.jsx("button",{onClick:x,disabled:f,className:"px-6 py-3 bg-teal-600 hover:bg-teal-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-colors duration-300",children:f?"Exporting...":"Export"})]})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-section-heading text-gray-900 mb-2",children:["$",r.retail.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),i.jsxs("p",{className:"text-body-sm text-gray-600",children:["Created ",new Date(r.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),i.jsx("span",{className:"px-3 py-1 bg-gray-100 text-body-sm text-gray-600 rounded-full",children:r.wrap_category==="COLOR_CHANGE"?"Color Change":"Commercial Print"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-body-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Vehicle:"}),i.jsx("p",{className:"font-semibold text-gray-900",children:v(r.vehicle_bucket)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Wrap Type:"}),i.jsx("p",{className:"font-semibold text-gray-900",children:_(r.wrap_type)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Job Type:"}),i.jsx("p",{className:"font-semibold text-gray-900",children:r.wrap_category==="COLOR_CHANGE"?"Install Only":p(r.job_type)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Profit Margin:"}),i.jsxs("p",{className:"font-semibold text-gray-900",children:[(r.profit_margin*100).toFixed(1),"%"]})]})]})]}),i.jsxs(Pe,{children:[i.jsx("h3",{className:"text-card-heading text-gray-900 mb-4",children:"Material"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-body-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Base Sqft:"}),i.jsx("p",{className:"font-semibold text-gray-900",children:r.base_sqft.toFixed(1)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Adjusted Sqft:"}),i.jsx("p",{className:"font-semibold text-gray-900",children:r.adjusted_sqft.toFixed(1)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Linear Feet:"}),i.jsx("p",{className:"font-semibold text-gray-900",children:r.linear_feet})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Roll Width:"}),i.jsxs("p",{className:"font-semibold text-gray-900",children:[r.roll_width_inches,'"']})]})]}),r.vinyl_cost_per_lf&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[i.jsxs("p",{className:"text-body-sm text-gray-600",children:["Vinyl Cost: $",r.vinyl_cost_per_lf.toFixed(2),"/linear foot"]}),r.print_cost_per_sqft&&i.jsxs("p",{className:"text-body-sm text-gray-600",children:["Print Cost: $",r.print_cost_per_sqft.toFixed(2),"/sqft"]}),r.lam_cost_per_sqft&&i.jsxs("p",{className:"text-body-sm text-gray-600",children:["Laminate Cost: $",r.lam_cost_per_sqft.toFixed(2),"/sqft"]})]})]}),i.jsxs(Pe,{children:[i.jsx("h3",{className:"text-card-heading text-gray-900 mb-4",children:"Labor"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-body-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Base Hours:"}),i.jsx("p",{className:"font-semibold text-gray-900",children:r.base_hours.toFixed(1)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Complexity Hours:"}),i.jsxs("p",{className:"font-semibold text-gray-900",children:["+",r.complexity_hours.toFixed(1)]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Total Hours:"}),i.jsx("p",{className:"font-semibold text-teal-600",children:r.total_labor_hours.toFixed(1)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Rate:"}),i.jsxs("p",{className:"font-semibold text-gray-900",children:["$",((m=r.labor_rate_per_hour)==null?void 0:m.toFixed(2))||"0.00","/hr"]})]})]})]}),i.jsxs(Pe,{children:[i.jsx("h3",{className:"text-card-heading text-gray-900 mb-4",children:"Pricing Breakdown"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-body-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Material Cost:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",r.material_cost.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-body-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Labor Cost:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",r.labor_cost.toFixed(2)]})]}),r.design_fee_flat&&i.jsxs("div",{className:"flex justify-between text-body-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Design Fee:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",r.design_fee_flat.toFixed(2)]})]}),r.overhead_flat&&i.jsxs("div",{className:"flex justify-between text-body-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Overhead:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",r.overhead_flat.toFixed(2)]})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[i.jsxs("div",{className:"flex justify-between text-body-base mb-2",children:[i.jsx("span",{className:"text-gray-900 font-semibold",children:"Subtotal:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",r.subtotal_cost.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-body-base mb-2",children:[i.jsx("span",{className:"text-gray-900 font-semibold",children:"Retail Price:"}),i.jsxs("span",{className:"font-semibold text-teal-600 text-section-heading",children:["$",r.retail.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-body-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Profit:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",r.profit_dollars.toFixed(2)," (",(r.profit_margin*100).toFixed(1),"%)"]})]}),r.deposit_amount&&i.jsxs("div",{className:"flex justify-between text-body-sm mt-2 pt-2 border-t border-gray-100",children:[i.jsx("span",{className:"text-gray-600",children:"Deposit:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",r.deposit_amount.toFixed(2)]})]})]})]})]}),(r.customer_name||r.customer_email||r.notes)&&i.jsxs(Pe,{className:"mb-0",children:[i.jsx("h3",{className:"text-card-heading text-gray-900 mb-4",children:"Additional Information"}),r.customer_name&&i.jsxs("div",{className:"mb-3",children:[i.jsx("span",{className:"text-body-sm text-gray-600",children:"Customer Name:"}),i.jsx("p",{className:"text-body-base font-semibold text-gray-900",children:r.customer_name})]}),r.customer_email&&i.jsxs("div",{className:"mb-3",children:[i.jsx("span",{className:"text-body-sm text-gray-600",children:"Email:"}),i.jsx("p",{className:"text-body-base font-semibold text-gray-900",children:r.customer_email})]}),r.notes&&i.jsxs("div",{children:[i.jsx("span",{className:"text-body-sm text-gray-600",children:"Notes:"}),i.jsx("p",{className:"text-body-base text-gray-900 mt-1 whitespace-pre-wrap",children:r.notes})]})]})]})})]})}function gS(){const e=ks(),[t]=k0();return w.useEffect(()=>{(async()=>{const n=t.get("code"),s=t.get("error"),r=t.get("error_description");if(s){console.error("OAuth error:",s,r),e(`/?error=auth_failed&message=${encodeURIComponent(r||s)}`);return}if(n){const{error:o}=await $.auth.exchangeCodeForSession(n);if(o){console.error("Auth callback error:",o),e("/?error=auth_failed");return}try{const{data:{user:c}}=await $.auth.getUser();c&&await $.from("users").upsert({id:c.id,email:c.email,subscription_tier:"FREE",updated_at:new Date().toISOString()},{onConflict:"id"})}catch(c){console.error("Error creating user record:",c)}}const l=t.get("redirect")||"/calculator";e(l)})()},[e,t]),i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"text-body-base text-gray-600",children:"Completing sign in..."})})}function Do({children:e}){const[t,a]=w.useState(null),[n,s]=w.useState(!0);return w.useEffect(()=>{(async()=>{const{data:{session:o}}=await $.auth.getSession();a((o==null?void 0:o.user)??null),s(!1)})();const{data:{subscription:l}}=$.auth.onAuthStateChange((o,c)=>{a((c==null?void 0:c.user)??null)});return()=>l.unsubscribe()},[]),n?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"text-body-base text-gray-600",children:"Loading..."})}):t?i.jsx(i.Fragment,{children:e}):i.jsx(U0,{to:"/login",replace:!0})}function pS(){return i.jsx(lx,{children:i.jsxs(Zb,{children:[i.jsx($t,{path:"/",element:i.jsx(Zw,{})}),i.jsx($t,{path:"/login",element:i.jsx(uS,{})}),i.jsx($t,{path:"/signup",element:i.jsx(dS,{})}),i.jsx($t,{path:"/pricing",element:i.jsx(hS,{})}),i.jsx($t,{path:"/auth/callback",element:i.jsx(gS,{})}),i.jsx($t,{path:"/calculator",element:i.jsx(Do,{children:i.jsx(cS,{})})}),i.jsx($t,{path:"/quotes",element:i.jsx(Do,{children:i.jsx(fS,{})})}),i.jsx($t,{path:"/quotes/:id",element:i.jsx(Do,{children:i.jsx(mS,{})})}),i.jsx($t,{path:"/app",element:i.jsx(U0,{to:"/calculator",replace:!0})})]})})}rb.createRoot(document.getElementById("root")).render(i.jsx(w.StrictMode,{children:i.jsx(pS,{})}));export{$ as s};
